(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var im={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function zA(){if(Ev)return Nl;Ev=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var Tv;function BA(){return Tv||(Tv=1,im.exports=zA()),im.exports}var S=BA(),sm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function qA(){if(bv)return Re;bv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,Q={};function j(k,re,ue){this.props=k,this.context=re,this.refs=Q,this.updater=ue||O}j.prototype.isReactComponent={},j.prototype.setState=function(k,re){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,re,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function $(){}$.prototype=j.prototype;function ne(k,re,ue){this.props=k,this.context=re,this.refs=Q,this.updater=ue||O}var X=ne.prototype=new $;X.constructor=ne,N(X,j.prototype),X.isPureReactComponent=!0;var se=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},me=Object.prototype.hasOwnProperty;function D(k,re,ue,ae,ye,Ce){return ue=Ce.ref,{$$typeof:i,type:k,key:re,ref:ue!==void 0?ue:null,props:Ce}}function R(k,re){return D(k.type,re,void 0,void 0,void 0,k.props)}function x(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function M(k){var re={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ue){return re[ue]})}var V=/\/+/g;function U(k,re){return typeof k=="object"&&k!==null&&k.key!=null?M(""+k.key):re.toString(36)}function C(){}function Tt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(C,C):(k.status="pending",k.then(function(re){k.status==="pending"&&(k.status="fulfilled",k.value=re)},function(re){k.status==="pending"&&(k.status="rejected",k.reason=re)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function nt(k,re,ue,ae,ye){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var we=!1;if(k===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(k.$$typeof){case i:case e:we=!0;break;case E:return we=k._init,nt(we(k._payload),re,ue,ae,ye)}}if(we)return ye=ye(k),we=ae===""?"."+U(k,0):ae,se(ye)?(ue="",we!=null&&(ue=we.replace(V,"$&/")+"/"),nt(ye,re,ue,"",function(Wn){return Wn})):ye!=null&&(x(ye)&&(ye=R(ye,ue+(ye.key==null||k&&k.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+we)),re.push(ye)),1;we=0;var Ct=ae===""?".":ae+":";if(se(k))for(var Ze=0;Ze<k.length;Ze++)ae=k[Ze],Ce=Ct+U(ae,Ze),we+=nt(ae,re,ue,Ce,ye);else if(Ze=A(k),typeof Ze=="function")for(k=Ze.call(k),Ze=0;!(ae=k.next()).done;)ae=ae.value,Ce=Ct+U(ae,Ze++),we+=nt(ae,re,ue,Ce,ye);else if(Ce==="object"){if(typeof k.then=="function")return nt(Tt(k),re,ue,ae,ye);throw re=String(k),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return we}function F(k,re,ue){if(k==null)return k;var ae=[],ye=0;return nt(k,ae,"","",function(Ce){return re.call(ue,Ce,ye++)}),ae}function ie(k){if(k._status===-1){var re=k._result;re=re(),re.then(function(ue){(k._status===0||k._status===-1)&&(k._status=1,k._result=ue)},function(ue){(k._status===0||k._status===-1)&&(k._status=2,k._result=ue)}),k._status===-1&&(k._status=0,k._result=re)}if(k._status===1)return k._result.default;throw k._result}var fe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ze(){}return Re.Children={map:F,forEach:function(k,re,ue){F(k,function(){re.apply(this,arguments)},ue)},count:function(k){var re=0;return F(k,function(){re++}),re},toArray:function(k){return F(k,function(re){return re})||[]},only:function(k){if(!x(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Re.Component=j,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ne,Re.StrictMode=s,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Re.__COMPILER_RUNTIME={__proto__:null,c:function(k){return le.H.useMemoCache(k)}},Re.cache=function(k){return function(){return k.apply(null,arguments)}},Re.cloneElement=function(k,re,ue){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ae=N({},k.props),ye=k.key,Ce=void 0;if(re!=null)for(we in re.ref!==void 0&&(Ce=void 0),re.key!==void 0&&(ye=""+re.key),re)!me.call(re,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&re.ref===void 0||(ae[we]=re[we]);var we=arguments.length-2;if(we===1)ae.children=ue;else if(1<we){for(var Ct=Array(we),Ze=0;Ze<we;Ze++)Ct[Ze]=arguments[Ze+2];ae.children=Ct}return D(k.type,ye,void 0,void 0,Ce,ae)},Re.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Re.createElement=function(k,re,ue){var ae,ye={},Ce=null;if(re!=null)for(ae in re.key!==void 0&&(Ce=""+re.key),re)me.call(re,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=re[ae]);var we=arguments.length-2;if(we===1)ye.children=ue;else if(1<we){for(var Ct=Array(we),Ze=0;Ze<we;Ze++)Ct[Ze]=arguments[Ze+2];ye.children=Ct}if(k&&k.defaultProps)for(ae in we=k.defaultProps,we)ye[ae]===void 0&&(ye[ae]=we[ae]);return D(k,Ce,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(k){return{$$typeof:m,render:k}},Re.isValidElement=x,Re.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:ie}},Re.memo=function(k,re){return{$$typeof:p,type:k,compare:re===void 0?null:re}},Re.startTransition=function(k){var re=le.T,ue={};le.T=ue;try{var ae=k(),ye=le.S;ye!==null&&ye(ue,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ze,fe)}catch(Ce){fe(Ce)}finally{le.T=re}},Re.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Re.use=function(k){return le.H.use(k)},Re.useActionState=function(k,re,ue){return le.H.useActionState(k,re,ue)},Re.useCallback=function(k,re){return le.H.useCallback(k,re)},Re.useContext=function(k){return le.H.useContext(k)},Re.useDebugValue=function(){},Re.useDeferredValue=function(k,re){return le.H.useDeferredValue(k,re)},Re.useEffect=function(k,re,ue){var ae=le.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(k,re)},Re.useId=function(){return le.H.useId()},Re.useImperativeHandle=function(k,re,ue){return le.H.useImperativeHandle(k,re,ue)},Re.useInsertionEffect=function(k,re){return le.H.useInsertionEffect(k,re)},Re.useLayoutEffect=function(k,re){return le.H.useLayoutEffect(k,re)},Re.useMemo=function(k,re){return le.H.useMemo(k,re)},Re.useOptimistic=function(k,re){return le.H.useOptimistic(k,re)},Re.useReducer=function(k,re,ue){return le.H.useReducer(k,re,ue)},Re.useRef=function(k){return le.H.useRef(k)},Re.useState=function(k){return le.H.useState(k)},Re.useSyncExternalStore=function(k,re,ue){return le.H.useSyncExternalStore(k,re,ue)},Re.useTransition=function(){return le.H.useTransition()},Re.version="19.1.0",Re}var wv;function rg(){return wv||(wv=1,sm.exports=qA()),sm.exports}var z=rg(),am={exports:{}},Dl={},om={exports:{}},lm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function HA(){return Av||(Av=1,function(i){function e(F,ie){var fe=F.length;F.push(ie);e:for(;0<fe;){var ze=fe-1>>>1,k=F[ze];if(0<o(k,ie))F[ze]=ie,F[fe]=k,fe=ze;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var ie=F[0],fe=F.pop();if(fe!==ie){F[0]=fe;e:for(var ze=0,k=F.length,re=k>>>1;ze<re;){var ue=2*(ze+1)-1,ae=F[ue],ye=ue+1,Ce=F[ye];if(0>o(ae,fe))ye<k&&0>o(Ce,ae)?(F[ze]=Ce,F[ye]=fe,ze=ye):(F[ze]=ae,F[ue]=fe,ze=ue);else if(ye<k&&0>o(Ce,fe))F[ze]=Ce,F[ye]=fe,ze=ye;else break e}}return ie}function o(F,ie){var fe=F.sortIndex-ie.sortIndex;return fe!==0?fe:F.id-ie.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,w=null,A=3,O=!1,N=!1,Q=!1,j=!1,$=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function se(F){for(var ie=n(p);ie!==null;){if(ie.callback===null)s(p);else if(ie.startTime<=F)s(p),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=n(p)}}function le(F){if(Q=!1,se(F),!N)if(n(g)!==null)N=!0,me||(me=!0,U());else{var ie=n(p);ie!==null&&nt(le,ie.startTime-F)}}var me=!1,D=-1,R=5,x=-1;function M(){return j?!0:!(i.unstable_now()-x<R)}function V(){if(j=!1,me){var F=i.unstable_now();x=F;var ie=!0;try{e:{N=!1,Q&&(Q=!1,ne(D),D=-1),O=!0;var fe=A;try{t:{for(se(F),w=n(g);w!==null&&!(w.expirationTime>F&&M());){var ze=w.callback;if(typeof ze=="function"){w.callback=null,A=w.priorityLevel;var k=ze(w.expirationTime<=F);if(F=i.unstable_now(),typeof k=="function"){w.callback=k,se(F),ie=!0;break t}w===n(g)&&s(g),se(F)}else s(g);w=n(g)}if(w!==null)ie=!0;else{var re=n(p);re!==null&&nt(le,re.startTime-F),ie=!1}}break e}finally{w=null,A=fe,O=!1}ie=void 0}}finally{ie?U():me=!1}}}var U;if(typeof X=="function")U=function(){X(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Tt=C.port2;C.port1.onmessage=V,U=function(){Tt.postMessage(null)}}else U=function(){$(V,0)};function nt(F,ie){D=$(function(){F(i.unstable_now())},ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(F){switch(A){case 1:case 2:case 3:var ie=3;break;default:ie=A}var fe=A;A=ie;try{return F()}finally{A=fe}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function(F,ie){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var fe=A;A=F;try{return ie()}finally{A=fe}},i.unstable_scheduleCallback=function(F,ie,fe){var ze=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ze+fe:ze):fe=ze,F){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=fe+k,F={id:E++,callback:ie,priorityLevel:F,startTime:fe,expirationTime:k,sortIndex:-1},fe>ze?(F.sortIndex=fe,e(p,F),n(g)===null&&F===n(p)&&(Q?(ne(D),D=-1):Q=!0,nt(le,fe-ze))):(F.sortIndex=k,e(g,F),N||O||(N=!0,me||(me=!0,U()))),F},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(F){var ie=A;return function(){var fe=A;A=ie;try{return F.apply(this,arguments)}finally{A=fe}}}}(lm)),lm}var Sv;function FA(){return Sv||(Sv=1,om.exports=HA()),om.exports}var um={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function GA(){if(Rv)return Qt;Rv=1;var i=rg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:p,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},Qt.flushSync=function(g){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=E,s.d.f()}},Qt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Qt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Qt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,w=m(E,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,O=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:O}):E==="script"&&s.d.X(g,{crossOrigin:w,integrity:A,fetchPriority:O,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Qt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Qt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,w=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Qt.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Qt.requestFormReset=function(g){s.d.r(g)},Qt.unstable_batchedUpdates=function(g,p){return g(p)},Qt.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var xv;function KA(){if(xv)return um.exports;xv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),um.exports=GA(),um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function QA(){if(Iv)return Dl;Iv=1;var i=FA(),e=rg(),n=KA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function p(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=p(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),X=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case j:return"Profiler";case Q:return"StrictMode";case le:return"Suspense";case me:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case X:return(t.displayName||"Context")+".Provider";case ne:return(t._context.displayName||"Context")+".Consumer";case se:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return r=t.displayName||null,r!==null?r:Tt(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return Tt(t(r))}catch{}}return null}var nt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},ze=[],k=-1;function re(t){return{current:t}}function ue(t){0>k||(t.current=ze[k],ze[k]=null,k--)}function ae(t,r){k++,ze[k]=t.current,t.current=r}var ye=re(null),Ce=re(null),we=re(null),Ct=re(null);function Ze(t,r){switch(ae(we,r),ae(Ce,t),ae(ye,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Y_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Y_(r),t=$_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(ye),ae(ye,t)}function Wn(){ue(ye),ue(Ce),ue(we)}function oi(t){t.memoizedState!==null&&ae(Ct,t);var r=ye.current,a=$_(r,t.type);r!==a&&(ae(Ce,t),ae(ye,a))}function Sr(t){Ce.current===t&&(ue(ye),ue(Ce)),Ct.current===t&&(ue(Ct),Sl._currentValue=fe)}var as=Object.prototype.hasOwnProperty,os=i.unstable_scheduleCallback,ls=i.unstable_cancelCallback,bo=i.unstable_shouldYield,pu=i.unstable_requestPaint,bn=i.unstable_now,rf=i.unstable_getCurrentPriorityLevel,wo=i.unstable_ImmediatePriority,na=i.unstable_UserBlockingPriority,us=i.unstable_NormalPriority,sf=i.unstable_LowPriority,ra=i.unstable_IdlePriority,Ao=i.log,yu=i.unstable_setDisableYieldValue,lt=null,Fe=null;function fn(t){if(typeof Ao=="function"&&yu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(lt,t)}catch{}}var Gt=Math.clz32?Math.clz32:cs,_u=Math.log,af=Math.LN2;function cs(t){return t>>>=0,t===0?32:31-(_u(t)/af|0)|0}var hs=256,fs=4194304;function Vn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ia(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Vn(l):(v&=T,v!==0?h=Vn(v):a||(a=T&~t,a!==0&&(h=Vn(a))))):(T=l&~d,T!==0?h=Vn(T):v!==0?h=Vn(v):a||(a=l&~t,a!==0&&(h=Vn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ds(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function So(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var t=hs;return hs<<=1,(hs&4194048)===0&&(hs=256),t}function xo(){var t=fs;return fs<<=1,(fs&62914560)===0&&(fs=4194304),t}function Rr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function xr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Io(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var W=31-Gt(a),ee=1<<W;T[W]=0,I[W]=-1;var G=H[W];if(G!==null)for(H[W]=null,W=0;W<G.length;W++){var K=G[W];K!==null&&(K.lane&=-536870913)}a&=~ee}l!==0&&Zn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Zn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Gt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Co(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ui(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:mv(t.type))}function vu(t,r){var a=ie.p;try{return ie.p=t,r()}finally{ie.p=a}}var rt=Math.random().toString(36).slice(2),bt="__reactFiber$"+rt,gt="__reactProps$"+rt,wn="__reactContainer$"+rt,No="__reactEvents$"+rt,of="__reactListeners$"+rt,ci="__reactHandles$"+rt,Eu="__reactResources$"+rt,ms="__reactMarker$"+rt;function hi(t){delete t[bt],delete t[gt],delete t[No],delete t[of],delete t[ci]}function Ir(t){var r=t[bt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[wn]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=J_(t);t!==null;){if(a=t[bt])return a;t=J_(t)}return r}t=a,a=t.parentNode}return null}function Jn(t){if(t=t[bt]||t[wn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function er(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Zt(t){var r=t[Eu];return r||(r=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ht(t){t[ms]=!0}var Do=new Set,aa={};function Ln(t,r){Cr(t,r),Cr(t+"Capture",r)}function Cr(t,r){for(aa[t]=r,t=0;t<r.length;t++)Do.add(r[t])}var Tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bu={},gs={};function wu(t){return as.call(gs,t)?!0:as.call(bu,t)?!1:Tu.test(t)?gs[t]=!0:(bu[t]=!0,!1)}function fi(t,r,a){if(wu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function tr(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Vt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var ps,Au;function Nr(t){if(ps===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ps=r&&r[1]||"",Au=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+t+Au}var oa=!1;function la(t,r){if(!t||oa)return"";oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var G=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){G=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){G=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),H=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===H.length)for(l=I.length-1,h=H.length-1;1<=l&&0<=h&&I[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==H[h]){var W=`
`+I[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{oa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Nr(a):""}function ko(t){switch(t.tag){case 26:case 27:case 5:return Nr(t.type);case 16:return Nr("Lazy");case 13:return Nr("Suspense");case 19:return Nr("SuspenseList");case 0:case 15:return la(t.type,!1);case 11:return la(t.type.render,!1);case 1:return la(t.type,!0);case 31:return Nr("Activity");default:return""}}function ua(t){try{var r="";do r+=ko(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function lf(t){var r=Oo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ca(t){t._valueTracker||(t._valueTracker=lf(t))}function Mo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Oo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var uf=/[\n"\\]/g;function pt(t){return t.replace(uf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function dn(t,r,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Jt(r)):t.value!==""+Jt(r)&&(t.value=""+Jt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?di(t,v,Jt(r)):a!=null?di(t,v,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Jt(T):t.removeAttribute("name")}function _s(t,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Jt(a):"",r=r!=null?""+Jt(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function di(t,r,a){r==="number"&&ys(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Dr(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Qe(t,r,a){if(r!=null&&(r=""+Jt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Jt(a):""}function vs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(nt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Jt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function An(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Es.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Po(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Su(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Su(t,d,r[d])}function Vo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(t){return hf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var kr=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Or=null,Mr=null;function Lo(t){var r=Jn(t);if(r&&(t=r.stateNode)){var a=t[gt]||null;e:switch(t=r.stateNode,r.type){case"input":if(dn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[gt]||null;if(!h)throw Error(s(90));dn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Mo(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Dr(t,!!a.multiple,r,!1)}}}var nr=!1;function Ru(t,r,a){if(nr)return t(r,a);nr=!0;try{var l=t(r);return l}finally{if(nr=!1,(Or!==null||Mr!==null)&&(vc(),Or&&(r=Or,t=Mr,Mr=Or=null,Lo(r),t)))for(r=0;r<t.length;r++)Lo(t[r])}}function Ts(t,r){var a=t.stateNode;if(a===null)return null;var l=a[gt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(Un)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{Rn=!1}var rr=null,mi=null,Pr=null;function Uo(){if(Pr)return Pr;var t,r=mi,a=r.length,l,h="value"in rr?rr.value:rr.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Pr=h.slice(t,1<l?1-l:void 0)}function ir(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function sr(){return!0}function jo(){return!1}function Nt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?sr:jo,this.isPropagationStopped=jo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),r}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=Nt(qe),ws=E({},qe,{view:0,detail:0}),xu=Nt(ws),da,ma,ar,As=E({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ar&&(ar&&t.type==="mousemove"?(da=t.screenX-ar.screenX,ma=t.screenY-ar.screenY):ma=da=0,ar=t),da)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),xn=Nt(As),Iu=E({},As,{dataTransfer:0}),ff=Nt(Iu),Ss=E({},ws,{relatedTarget:0}),ga=Nt(Ss),zo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),pa=Nt(zo),Cu=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ya=Nt(Cu),df=E({},qe,{data:0}),Bo=Nt(df),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Du[t])?!!r[t]:!1}function xs(){return qo}var ku=E({},ws,{key:function(t){if(t.key){var r=Rs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ir(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(t){return t.type==="keypress"?ir(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ir(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_a=Nt(ku),Ou=E({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=Nt(Ou),Vr=E({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),Mu=Nt(Vr),Pu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vu=Nt(Pu),Lu=E({},As,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),va=Nt(Lu),en=E({},qe,{newState:0,oldState:0}),Uu=Nt(en),ju=[9,13,27,32],or=Un&&"CompositionEvent"in window,c=null;Un&&"documentMode"in document&&(c=document.documentMode);var y=Un&&"TextEvent"in window&&!c,_=Un&&(!or||c&&8<c&&11>=c),b=" ",B=!1;function Y(t,r){switch(t){case"keyup":return ju.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function wt(t,r){switch(t){case"compositionend":return oe(r);case"keypress":return r.which!==32?null:(B=!0,b);case"textInput":return t=r.data,t===b&&B?null:t;default:return null}}function Ve(t,r){if(Pe)return t==="compositionend"||!or&&Y(t,r)?(t=Uo(),Pr=mi=rr=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Dt[t.type]:r==="textarea"}function Lr(t,r,a,l){Or?Mr?Mr.push(l):Mr=[l]:Or=l,r=Sc(r,"onChange"),0<r.length&&(a=new fa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Lt=null,lr=null;function Fo(t){H_(t,0)}function zu(t){var r=er(t);if(Mo(r))return t}function cp(t,r){if(t==="change")return r}var hp=!1;if(Un){var mf;if(Un){var gf="oninput"in document;if(!gf){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),gf=typeof fp.oninput=="function"}mf=gf}else mf=!1;hp=mf&&(!document.documentMode||9<document.documentMode)}function dp(){Lt&&(Lt.detachEvent("onpropertychange",mp),lr=Lt=null)}function mp(t){if(t.propertyName==="value"&&zu(lr)){var r=[];Lr(r,lr,t,Sn(t)),Ru(Fo,r)}}function pw(t,r,a){t==="focusin"?(dp(),Lt=r,lr=a,Lt.attachEvent("onpropertychange",mp)):t==="focusout"&&dp()}function yw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(lr)}function _w(t,r){if(t==="click")return zu(r)}function vw(t,r){if(t==="input"||t==="change")return zu(r)}function Ew(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var mn=typeof Object.is=="function"?Object.is:Ew;function Go(t,r){if(mn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!as.call(r,h)||!mn(t[h],r[h]))return!1}return!0}function gp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pp(t,r){var a=gp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gp(a)}}function yp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?yp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function _p(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ys(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ys(t.document)}return r}function pf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Tw=Un&&"documentMode"in document&&11>=document.documentMode,Ea=null,yf=null,Ko=null,_f=!1;function vp(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_f||Ea==null||Ea!==ys(l)||(l=Ea,"selectionStart"in l&&pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Go(Ko,l)||(Ko=l,l=Sc(yf,"onSelect"),0<l.length&&(r=new fa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ea)))}function Is(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ta={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},vf={},Ep={};Un&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Cs(t){if(vf[t])return vf[t];if(!Ta[t])return t;var r=Ta[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ep)return vf[t]=r[a];return t}var Tp=Cs("animationend"),bp=Cs("animationiteration"),wp=Cs("animationstart"),bw=Cs("transitionrun"),ww=Cs("transitionstart"),Aw=Cs("transitioncancel"),Ap=Cs("transitionend"),Sp=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function jn(t,r){Sp.set(t,r),Ln(r,[t])}var Rp=new WeakMap;function In(t,r){if(typeof t=="object"&&t!==null){var a=Rp.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ua(r)},Rp.set(t,r),r)}return{value:t,source:r,stack:ua(r)}}var Cn=[],ba=0,Tf=0;function Bu(){for(var t=ba,r=Tf=ba=0;r<t;){var a=Cn[r];Cn[r++]=null;var l=Cn[r];Cn[r++]=null;var h=Cn[r];Cn[r++]=null;var d=Cn[r];if(Cn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&xp(a,h,d)}}function qu(t,r,a,l){Cn[ba++]=t,Cn[ba++]=r,Cn[ba++]=a,Cn[ba++]=l,Tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function bf(t,r,a,l){return qu(t,r,a,l),Hu(t)}function wa(t,r){return qu(t,null,null,r),Hu(t)}function xp(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Hu(t){if(50<yl)throw yl=0,Id=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Aa={};function Sw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,r,a,l){return new Sw(t,r,a,l)}function wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ur(t,r){var a=t.alternate;return a===null?(a=gn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ip(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Fu(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")wf(t)&&(v=1);else if(typeof t=="string")v=xA(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=gn(31,a,r,h),t.elementType=x,t.lanes=d,t;case N:return Ns(a.children,h,d,r);case Q:v=8,h|=24;break;case j:return t=gn(12,a,r,h|2),t.elementType=j,t.lanes=d,t;case le:return t=gn(13,a,r,h),t.elementType=le,t.lanes=d,t;case me:return t=gn(19,a,r,h),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case X:v=10;break e;case ne:v=9;break e;case se:v=11;break e;case D:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=gn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ns(t,r,a,l){return t=gn(7,t,l,r),t.lanes=a,t}function Af(t,r,a){return t=gn(6,t,null,r),t.lanes=a,t}function Sf(t,r,a){return r=gn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Sa=[],Ra=0,Gu=null,Ku=0,Nn=[],Dn=0,Ds=null,jr=1,zr="";function ks(t,r){Sa[Ra++]=Ku,Sa[Ra++]=Gu,Gu=t,Ku=r}function Cp(t,r,a){Nn[Dn++]=jr,Nn[Dn++]=zr,Nn[Dn++]=Ds,Ds=t;var l=jr;t=zr;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,jr=1<<32-Gt(r)+h|a<<h|l,zr=d+t}else jr=1<<d|a<<h|l,zr=t}function Rf(t){t.return!==null&&(ks(t,1),Cp(t,1,0))}function xf(t){for(;t===Gu;)Gu=Sa[--Ra],Sa[Ra]=null,Ku=Sa[--Ra],Sa[Ra]=null;for(;t===Ds;)Ds=Nn[--Dn],Nn[Dn]=null,zr=Nn[--Dn],Nn[Dn]=null,jr=Nn[--Dn],Nn[Dn]=null}var tn=null,ut=null,Be=!1,Os=null,ur=!1,If=Error(s(519));function Ms(t){var r=Error(s(418,""));throw $o(In(r,t)),If}function Np(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[bt]=t,r[gt]=l,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<vl.length;a++)ke(vl[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),_s(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ca(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),vs(r,l.value,l.defaultValue,l.children),ca(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Q_(r.textContent,a)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=Rc),r=!0):r=!1,r||Ms(t)}function Dp(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:tn=tn.return}}function Qo(t){if(t!==tn)return!1;if(!Be)return Dp(t),Be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Fd(t.type,t.memoizedProps)),a=!a),a&&ut&&Ms(t),Dp(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ut=Bn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ut=null}}else r===27?(r=ut,Ni(t.type)?(t=Yd,Yd=null,ut=t):ut=r):ut=tn?Bn(t.stateNode.nextSibling):null;return!0}function Yo(){ut=tn=null,Be=!1}function kp(){var t=Os;return t!==null&&(an===null?an=t:an.push.apply(an,t),Os=null),t}function $o(t){Os===null?Os=[t]:Os.push(t)}var Cf=re(null),Ps=null,Br=null;function gi(t,r,a){ae(Cf,r._currentValue),r._currentValue=a}function qr(t){t._currentValue=Cf.current,ue(Cf)}function Nf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Df(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Nf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Nf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Xo(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;mn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ct.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}h=h.return}t!==null&&Df(r,t,a,l),r.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Ps=t,Br=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Op(Ps,t)}function Yu(t,r){return Ps===null&&Vs(t),Op(t,r)}function Op(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Br===null){if(t===null)throw Error(s(308));Br=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Br=Br.next=r;return a}var Rw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},xw=i.unstable_scheduleCallback,Iw=i.unstable_NormalPriority,St={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new Rw,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&xw(Iw,function(){t.controller.abort()})}var Zo=null,Of=0,xa=0,Ia=null;function Cw(t,r){if(Zo===null){var a=Zo=[];Of=0,xa=Pd(),Ia={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Of++,r.then(Mp,Mp),r}function Mp(){if(--Of===0&&Zo!==null){Ia!==null&&(Ia.status="fulfilled");var t=Zo;Zo=null,xa=0,Ia=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Nw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Pp=F.S;F.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Cw(t,r),Pp!==null&&Pp(t,r)};var Ls=re(null);function Mf(){var t=Ls.current;return t!==null?t:Je.pooledCache}function $u(t,r){r===null?ae(Ls,Ls.current):ae(Ls,r.pool)}function Vp(){var t=Mf();return t===null?null:{parent:St._currentValue,pool:t}}var Jo=Error(s(460)),Lp=Error(s(474)),Xu=Error(s(542)),Pf={then:function(){}};function Up(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wu(){}function jp(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Wu,Wu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Bp(t),t;default:if(typeof r.status=="string")r.then(Wu,Wu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Bp(t),t}throw el=r,Jo}}var el=null;function zp(){if(el===null)throw Error(s(459));var t=el;return el=null,t}function Bp(t){if(t===Jo||t===Xu)throw Error(s(483))}var pi=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _i(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Hu(t),xp(t,null,a),r}return qu(t,l,r,a),Hu(t)}function tl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Co(t,a)}}function Uf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var jf=!1;function nl(){if(jf){var t=Ia;if(t!==null)throw t}}function rl(t,r,a,l){jf=!1;var h=t.updateQueue;pi=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,H=I.next;I.next=null,v===null?d=H:v.next=H,v=I;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=H:T.next=H,W.lastBaseUpdate=I))}if(d!==null){var ee=h.baseState;v=0,W=H=I=null,T=d;do{var G=T.lane&-536870913,K=G!==T.lane;if(K?(Le&G)===G:(l&G)===G){G!==0&&G===xa&&(jf=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=t,_e=T;G=r;var Xe=a;switch(_e.tag){case 1:if(be=_e.payload,typeof be=="function"){ee=be.call(Xe,ee,G);break e}ee=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=_e.payload,G=typeof be=="function"?be.call(Xe,ee,G):be,G==null)break e;ee=E({},ee,G);break e;case 2:pi=!0}}G=T.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(H=W=K,I=ee):W=W.next=K,v|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);W===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Ri|=v,t.lanes=v,t.memoizedState=ee}}function qp(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Hp(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qp(a[t],r)}var Ca=re(null),Zu=re(0);function Fp(t,r){t=$r,ae(Zu,t),ae(Ca,r),$r=t|r.baseLanes}function zf(){ae(Zu,$r),ae(Ca,Ca.current)}function Bf(){$r=Zu.current,ue(Ca),ue(Zu)}var vi=0,xe=null,Ye=null,yt=null,Ju=!1,Na=!1,Us=!1,ec=0,il=0,Da=null,Dw=0;function ft(){throw Error(s(321))}function qf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!mn(t[a],r[a]))return!1;return!0}function Hf(t,r,a,l,h,d){return vi=d,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=t===null||t.memoizedState===null?xy:Iy,Us=!1,d=a(l,h),Us=!1,Na&&(d=Kp(r,a,l,h)),Gp(t),d}function Gp(t){F.H=ac;var r=Ye!==null&&Ye.next!==null;if(vi=0,yt=Ye=xe=null,Ju=!1,il=0,Da=null,r)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&Qu(t)&&(kt=!0))}function Kp(t,r,a,l){xe=t;var h=0;do{if(Na&&(Da=null),il=0,Na=!1,25<=h)throw Error(s(301));if(h+=1,yt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=Uw,d=r(a,l)}while(Na);return d}function kw(){var t=F.H,r=t.useState()[0];return r=typeof r.then=="function"?sl(r):r,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(xe.flags|=1024),r}function Ff(){var t=ec!==0;return ec=0,t}function Gf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Kf(t){if(Ju){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Ju=!1}vi=0,yt=Ye=xe=null,Na=!1,il=ec=0,Da=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?xe.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Ye===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var r=yt===null?xe.memoizedState:yt.next;if(r!==null)yt=r,Ye=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},yt===null?xe.memoizedState=yt=t:yt=yt.next=t}return yt}function Qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var r=il;return il+=1,Da===null&&(Da=[]),t=jp(Da,t,r),r=xe,(yt===null?r.memoizedState:yt.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?xy:Iy),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===X)return Kt(t)}throw Error(s(438,String(t)))}function Yf(t){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Qf(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=M;return r.index++,a}function Hr(t,r){return typeof r=="function"?r(t):r}function nc(t){var r=_t();return $f(r,Ye,t)}function $f(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=v=null,I=null,H=r,W=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Le&ee)===ee:(vi&ee)===ee){var G=H.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===xa&&(W=!0);else if((vi&G)===G){H=H.next,G===xa&&(W=!0);continue}else ee={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=ee,v=d):I=I.next=ee,xe.lanes|=G,Ri|=G;ee=H.action,Us&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else G={lane:ee,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=G,v=d):I=I.next=G,xe.lanes|=ee,Ri|=ee;H=H.next}while(H!==null&&H!==r);if(I===null?v=d:I.next=T,!mn(d,t.memoizedState)&&(kt=!0,W&&(a=Ia,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Xf(t){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);mn(d,r.memoizedState)||(kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Qp(t,r,a){var l=xe,h=_t(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!mn((Ye||h).memoizedState,a);v&&(h.memoizedState=a,kt=!0),h=h.queue;var T=Xp.bind(null,l,h,t);if(al(2048,8,T,[t]),h.getSnapshot!==r||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,ka(9,rc(),$p.bind(null,l,h,a,r),null),Je===null)throw Error(s(349));d||(vi&124)!==0||Yp(l,r,a)}return a}function Yp(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=Qf(),xe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function $p(t,r,a,l){r.value=a,r.getSnapshot=l,Wp(r)&&Zp(t)}function Xp(t,r,a){return a(function(){Wp(r)&&Zp(t)})}function Wp(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!mn(t,a)}catch{return!0}}function Zp(t){var r=wa(t,2);r!==null&&En(r,t,2)}function Wf(t){var r=rn();if(typeof t=="function"){var a=t;if(t=a(),Us){fn(!0);try{a()}finally{fn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:t},r}function Jp(t,r,a,l){return t.baseState=a,$f(t,Ye,typeof l=="function"?l:Hr)}function Ow(t,r,a,l,h){if(sc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,ey(r,d)):(d.next=a.next,r.pending=a.next=d)}}function ey(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=F.T,v={};F.T=v;try{var T=a(h,l),I=F.S;I!==null&&I(v,T),ty(t,r,T)}catch(H){Zf(t,r,H)}finally{F.T=d}}else try{d=a(h,l),ty(t,r,d)}catch(H){Zf(t,r,H)}}function ty(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ny(t,r,l)},function(l){return Zf(t,r,l)}):ny(t,r,a)}function ny(t,r,a){r.status="fulfilled",r.value=a,ry(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,ey(t,a)))}function Zf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,ry(r),r=r.next;while(r!==l)}t.action=null}function ry(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function iy(t,r){return r}function sy(t,r){if(Be){var a=Je.formState;if(a!==null){e:{var l=xe;if(Be){if(ut){t:{for(var h=ut,d=ur;h.nodeType!==8;){if(!d){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Bn(h.nextSibling),l=h.data==="F!";break e}}Ms(l)}l=!1}l&&(r=a[0])}}return a=rn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iy,lastRenderedState:r},a.queue=l,a=Ay.bind(null,xe,l),l.dispatch=a,l=Wf(!1),d=rd.bind(null,xe,!1,l.queue),l=rn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Ow.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function ay(t){var r=_t();return oy(r,Ye,t)}function oy(t,r,a){if(r=$f(t,r,iy)[0],t=nc(Hr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=sl(r)}catch(v){throw v===Jo?Xu:v}else l=r;r=_t();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,ka(9,rc(),Mw.bind(null,h,a),null)),[l,d,t]}function Mw(t,r){t.action=r}function ly(t){var r=_t(),a=Ye;if(a!==null)return oy(r,a,t);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function ka(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=Qf(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function rc(){return{destroy:void 0,resource:void 0}}function uy(){return _t().memoizedState}function ic(t,r,a,l){var h=rn();l=l===void 0?null:l,xe.flags|=t,h.memoizedState=ka(1|r,rc(),a,l)}function al(t,r,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&qf(l,Ye.memoizedState.deps)?h.memoizedState=ka(r,d,a,l):(xe.flags|=t,h.memoizedState=ka(1|r,d,a,l))}function cy(t,r){ic(8390656,8,t,r)}function hy(t,r){al(2048,8,t,r)}function fy(t,r){return al(4,2,t,r)}function dy(t,r){return al(4,4,t,r)}function my(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function gy(t,r,a){a=a!=null?a.concat([t]):null,al(4,4,my.bind(null,r,t),a)}function Jf(){}function py(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&qf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function yy(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&qf(r,l[1]))return l[0];if(l=t(),Us){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,r],l}function ed(t,r,a){return a===void 0||(vi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=E_(),xe.lanes|=t,Ri|=t,a)}function _y(t,r,a,l){return mn(a,r)?a:Ca.current!==null?(t=ed(t,a,l),mn(t,r)||(kt=!0),t):(vi&42)===0?(kt=!0,t.memoizedState=a):(t=E_(),xe.lanes|=t,Ri|=t,r)}function vy(t,r,a,l,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var v=F.T,T={};F.T=T,rd(t,!1,r,a);try{var I=h(),H=F.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=Nw(I,l);ol(t,r,W,vn(t))}else ol(t,r,l,vn(t))}catch(ee){ol(t,r,{then:function(){},status:"rejected",reason:ee},vn())}finally{ie.p=d,F.T=v}}function Pw(){}function td(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Ey(t).queue;vy(t,h,r,fe,a===null?Pw:function(){return Ty(t),a(l)})}function Ey(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:fe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ty(t){var r=Ey(t).next.queue;ol(t,r,{},vn())}function nd(){return Kt(Sl)}function by(){return _t().memoizedState}function wy(){return _t().memoizedState}function Vw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=vn();t=yi(a);var l=_i(r,t,a);l!==null&&(En(l,r,a),tl(l,r,a)),r={cache:kf()},t.payload=r;return}r=r.return}}function Lw(t,r,a){var l=vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},sc(t)?Sy(r,a):(a=bf(t,r,a,l),a!==null&&(En(a,t,l),Ry(a,r,l)))}function Ay(t,r,a){var l=vn();ol(t,r,a,l)}function ol(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(sc(t))Sy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,mn(T,v))return qu(t,r,h,0),Je===null&&Bu(),!1}catch{}finally{}if(a=bf(t,r,h,l),a!==null)return En(a,t,l),Ry(a,r,l),!0}return!1}function rd(t,r,a,l){if(l={lane:2,revertLane:Pd(),action:l,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(r)throw Error(s(479))}else r=bf(t,a,l,2),r!==null&&En(r,t,2)}function sc(t){var r=t.alternate;return t===xe||r!==null&&r===xe}function Sy(t,r){Na=Ju=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Ry(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Co(t,a)}}var ac={readContext:Kt,use:tc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},xy={readContext:Kt,use:tc,useCallback:function(t,r){return rn().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:cy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,ic(4194308,4,my.bind(null,r,t),a)},useLayoutEffect:function(t,r){return ic(4194308,4,t,r)},useInsertionEffect:function(t,r){ic(4,2,t,r)},useMemo:function(t,r){var a=rn();r=r===void 0?null:r;var l=t();if(Us){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=rn();if(a!==void 0){var h=a(r);if(Us){fn(!0);try{a(r)}finally{fn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Lw.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var r=rn();return t={current:t},r.memoizedState=t},useState:function(t){t=Wf(t);var r=t.queue,a=Ay.bind(null,xe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Jf,useDeferredValue:function(t,r){var a=rn();return ed(a,t,r)},useTransition:function(){var t=Wf(!1);return t=vy.bind(null,xe,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=xe,h=rn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Le&124)!==0||Yp(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,cy(Xp.bind(null,l,d,t),[t]),l.flags|=2048,ka(9,rc(),$p.bind(null,l,d,a,r),null),a},useId:function(){var t=rn(),r=Je.identifierPrefix;if(Be){var a=zr,l=jr;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=ec++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=Dw++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:nd,useFormState:sy,useActionState:sy,useOptimistic:function(t){var r=rn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=rd.bind(null,xe,!0,a),a.dispatch=r,[t,r]},useMemoCache:Yf,useCacheRefresh:function(){return rn().memoizedState=Vw.bind(null,xe)}},Iy={readContext:Kt,use:tc,useCallback:py,useContext:Kt,useEffect:hy,useImperativeHandle:gy,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:yy,useReducer:nc,useRef:uy,useState:function(){return nc(Hr)},useDebugValue:Jf,useDeferredValue:function(t,r){var a=_t();return _y(a,Ye.memoizedState,t,r)},useTransition:function(){var t=nc(Hr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:Qp,useId:by,useHostTransitionStatus:nd,useFormState:ay,useActionState:ay,useOptimistic:function(t,r){var a=_t();return Jp(a,Ye,t,r)},useMemoCache:Yf,useCacheRefresh:wy},Uw={readContext:Kt,use:tc,useCallback:py,useContext:Kt,useEffect:hy,useImperativeHandle:gy,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:yy,useReducer:Xf,useRef:uy,useState:function(){return Xf(Hr)},useDebugValue:Jf,useDeferredValue:function(t,r){var a=_t();return Ye===null?ed(a,t,r):_y(a,Ye.memoizedState,t,r)},useTransition:function(){var t=Xf(Hr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:Qp,useId:by,useHostTransitionStatus:nd,useFormState:ly,useActionState:ly,useOptimistic:function(t,r){var a=_t();return Ye!==null?Jp(a,Ye,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:wy},Oa=null,ll=0;function oc(t){var r=ll;return ll+=1,Oa===null&&(Oa=[]),jp(Oa,t,r)}function ul(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function lc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Cy(t){var r=t._init;return r(t._payload)}function Ny(t){function r(L,P){if(t){var q=L.deletions;q===null?(L.deletions=[P],L.flags|=16):q.push(P)}}function a(L,P){if(!t)return null;for(;P!==null;)r(L,P),P=P.sibling;return null}function l(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function h(L,P){return L=Ur(L,P),L.index=0,L.sibling=null,L}function d(L,P,q){return L.index=q,t?(q=L.alternate,q!==null?(q=q.index,q<P?(L.flags|=67108866,P):q):(L.flags|=67108866,P)):(L.flags|=1048576,P)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,P,q,Z){return P===null||P.tag!==6?(P=Af(q,L.mode,Z),P.return=L,P):(P=h(P,q),P.return=L,P)}function I(L,P,q,Z){var de=q.type;return de===N?W(L,P,q.props.children,Z,q.key):P!==null&&(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Cy(de)===P.type)?(P=h(P,q.props),ul(P,q),P.return=L,P):(P=Fu(q.type,q.key,q.props,null,L.mode,Z),ul(P,q),P.return=L,P)}function H(L,P,q,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=Sf(q,L.mode,Z),P.return=L,P):(P=h(P,q.children||[]),P.return=L,P)}function W(L,P,q,Z,de){return P===null||P.tag!==7?(P=Ns(q,L.mode,Z,de),P.return=L,P):(P=h(P,q),P.return=L,P)}function ee(L,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Af(""+P,L.mode,q),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return q=Fu(P.type,P.key,P.props,null,L.mode,q),ul(q,P),q.return=L,q;case O:return P=Sf(P,L.mode,q),P.return=L,P;case R:var Z=P._init;return P=Z(P._payload),ee(L,P,q)}if(nt(P)||U(P))return P=Ns(P,L.mode,q,null),P.return=L,P;if(typeof P.then=="function")return ee(L,oc(P),q);if(P.$$typeof===X)return ee(L,Yu(L,P),q);lc(L,P)}return null}function G(L,P,q,Z){var de=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return de!==null?null:T(L,P,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===de?I(L,P,q,Z):null;case O:return q.key===de?H(L,P,q,Z):null;case R:return de=q._init,q=de(q._payload),G(L,P,q,Z)}if(nt(q)||U(q))return de!==null?null:W(L,P,q,Z,null);if(typeof q.then=="function")return G(L,P,oc(q),Z);if(q.$$typeof===X)return G(L,P,Yu(L,q),Z);lc(L,q)}return null}function K(L,P,q,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(q)||null,T(P,L,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return L=L.get(Z.key===null?q:Z.key)||null,I(P,L,Z,de);case O:return L=L.get(Z.key===null?q:Z.key)||null,H(P,L,Z,de);case R:var Ne=Z._init;return Z=Ne(Z._payload),K(L,P,q,Z,de)}if(nt(Z)||U(Z))return L=L.get(q)||null,W(P,L,Z,de,null);if(typeof Z.then=="function")return K(L,P,q,oc(Z),de);if(Z.$$typeof===X)return K(L,P,q,Yu(P,Z),de);lc(P,Z)}return null}function be(L,P,q,Z){for(var de=null,Ne=null,ge=P,ve=P=0,Mt=null;ge!==null&&ve<q.length;ve++){ge.index>ve?(Mt=ge,ge=null):Mt=ge.sibling;var je=G(L,ge,q[ve],Z);if(je===null){ge===null&&(ge=Mt);break}t&&ge&&je.alternate===null&&r(L,ge),P=d(je,P,ve),Ne===null?de=je:Ne.sibling=je,Ne=je,ge=Mt}if(ve===q.length)return a(L,ge),Be&&ks(L,ve),de;if(ge===null){for(;ve<q.length;ve++)ge=ee(L,q[ve],Z),ge!==null&&(P=d(ge,P,ve),Ne===null?de=ge:Ne.sibling=ge,Ne=ge);return Be&&ks(L,ve),de}for(ge=l(ge);ve<q.length;ve++)Mt=K(ge,L,ve,q[ve],Z),Mt!==null&&(t&&Mt.alternate!==null&&ge.delete(Mt.key===null?ve:Mt.key),P=d(Mt,P,ve),Ne===null?de=Mt:Ne.sibling=Mt,Ne=Mt);return t&&ge.forEach(function(Pi){return r(L,Pi)}),Be&&ks(L,ve),de}function _e(L,P,q,Z){if(q==null)throw Error(s(151));for(var de=null,Ne=null,ge=P,ve=P=0,Mt=null,je=q.next();ge!==null&&!je.done;ve++,je=q.next()){ge.index>ve?(Mt=ge,ge=null):Mt=ge.sibling;var Pi=G(L,ge,je.value,Z);if(Pi===null){ge===null&&(ge=Mt);break}t&&ge&&Pi.alternate===null&&r(L,ge),P=d(Pi,P,ve),Ne===null?de=Pi:Ne.sibling=Pi,Ne=Pi,ge=Mt}if(je.done)return a(L,ge),Be&&ks(L,ve),de;if(ge===null){for(;!je.done;ve++,je=q.next())je=ee(L,je.value,Z),je!==null&&(P=d(je,P,ve),Ne===null?de=je:Ne.sibling=je,Ne=je);return Be&&ks(L,ve),de}for(ge=l(ge);!je.done;ve++,je=q.next())je=K(ge,L,ve,je.value,Z),je!==null&&(t&&je.alternate!==null&&ge.delete(je.key===null?ve:je.key),P=d(je,P,ve),Ne===null?de=je:Ne.sibling=je,Ne=je);return t&&ge.forEach(function(jA){return r(L,jA)}),Be&&ks(L,ve),de}function Xe(L,P,q,Z){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:e:{for(var de=q.key;P!==null;){if(P.key===de){if(de=q.type,de===N){if(P.tag===7){a(L,P.sibling),Z=h(P,q.props.children),Z.return=L,L=Z;break e}}else if(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Cy(de)===P.type){a(L,P.sibling),Z=h(P,q.props),ul(Z,q),Z.return=L,L=Z;break e}a(L,P);break}else r(L,P);P=P.sibling}q.type===N?(Z=Ns(q.props.children,L.mode,Z,q.key),Z.return=L,L=Z):(Z=Fu(q.type,q.key,q.props,null,L.mode,Z),ul(Z,q),Z.return=L,L=Z)}return v(L);case O:e:{for(de=q.key;P!==null;){if(P.key===de)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(L,P.sibling),Z=h(P,q.children||[]),Z.return=L,L=Z;break e}else{a(L,P);break}else r(L,P);P=P.sibling}Z=Sf(q,L.mode,Z),Z.return=L,L=Z}return v(L);case R:return de=q._init,q=de(q._payload),Xe(L,P,q,Z)}if(nt(q))return be(L,P,q,Z);if(U(q)){if(de=U(q),typeof de!="function")throw Error(s(150));return q=de.call(q),_e(L,P,q,Z)}if(typeof q.then=="function")return Xe(L,P,oc(q),Z);if(q.$$typeof===X)return Xe(L,P,Yu(L,q),Z);lc(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(L,P.sibling),Z=h(P,q),Z.return=L,L=Z):(a(L,P),Z=Af(q,L.mode,Z),Z.return=L,L=Z),v(L)):a(L,P)}return function(L,P,q,Z){try{ll=0;var de=Xe(L,P,q,Z);return Oa=null,de}catch(ge){if(ge===Jo||ge===Xu)throw ge;var Ne=gn(29,ge,null,L.mode);return Ne.lanes=Z,Ne.return=L,Ne}finally{}}}var Ma=Ny(!0),Dy=Ny(!1),kn=re(null),cr=null;function Ei(t){var r=t.alternate;ae(Rt,Rt.current&1),ae(kn,t),cr===null&&(r===null||Ca.current!==null||r.memoizedState!==null)&&(cr=t)}function ky(t){if(t.tag===22){if(ae(Rt,Rt.current),ae(kn,t),cr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(cr=t)}}else Ti()}function Ti(){ae(Rt,Rt.current),ae(kn,kn.current)}function Fr(t){ue(kn),cr===t&&(cr=null),ue(Rt)}var Rt=re(0);function uc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Qd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function id(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=vn(),h=yi(l);h.payload=r,a!=null&&(h.callback=a),r=_i(t,h,l),r!==null&&(En(r,t,l),tl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=vn(),h=yi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=_i(t,h,l),r!==null&&(En(r,t,l),tl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=vn(),l=yi(a);l.tag=2,r!=null&&(l.callback=r),r=_i(t,l,a),r!==null&&(En(r,t,a),tl(r,t,a))}};function Oy(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Go(a,l)||!Go(h,d):!0}function My(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&sd.enqueueReplaceState(r,r.state,null)}function js(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Py(t){cc(t)}function Vy(t){console.error(t)}function Ly(t){cc(t)}function hc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(t,r,a){return a=yi(a),a.tag=3,a.payload={element:null},a.callback=function(){hc(t,r)},a}function jy(t){return t=yi(t),t.tag=3,t}function zy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Uy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Uy(r,a,l),typeof h!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function jw(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Xo(r,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 13:return cr===null?Nd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Pf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),kd(t,l,h)),!1;case 22:return a.flags|=65536,l===Pf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),kd(t,l,h)),!1}throw Error(s(435,a.tag))}return kd(t,l,h),Nd(),!1}if(Be)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==If&&(t=Error(s(422),{cause:l}),$o(In(t,a)))):(l!==If&&(r=Error(s(423),{cause:l}),$o(In(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=In(l,a),h=ad(t.stateNode,l,h),Uf(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),pl===null?pl=[d]:pl.push(d),ct!==4&&(ct=2),r===null)return!0;l=In(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ad(a.stateNode,l,t),Uf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xi===null||!xi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=jy(h),zy(h,t,a,l),Uf(a,h),!1}a=a.return}while(a!==null);return!1}var By=Error(s(461)),kt=!1;function Ut(t,r,a,l){r.child=t===null?Dy(r,null,a,l):Ma(r,t.child,a,l)}function qy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Vs(r),l=Hf(t,r,a,v,d,h),T=Ff(),t!==null&&!kt?(Gf(t,r,h),Gr(t,r,h)):(Be&&T&&Rf(r),r.flags|=1,Ut(t,r,l,h),r.child)}function Hy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!wf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Fy(t,r,d,l,h)):(t=Fu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!md(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(v,l)&&t.ref===r.ref)return Gr(t,r,h)}return r.flags|=1,t=Ur(d,l),t.ref=r.ref,t.return=r,r.child=t}function Fy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===r.ref)if(kt=!1,r.pendingProps=l=d,md(t,h))(t.flags&131072)!==0&&(kt=!0);else return r.lanes=t.lanes,Gr(t,r,h)}return od(t,r,a,l,h)}function Gy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Ky(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&$u(r,d!==null?d.cachePool:null),d!==null?Fp(r,d):zf(),ky(r);else return r.lanes=r.childLanes=536870912,Ky(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?($u(r,d.cachePool),Fp(r,d),Ti(),r.memoizedState=null):(t!==null&&$u(r,null),zf(),Ti());return Ut(t,r,h,a),r.child}function Ky(t,r,a,l){var h=Mf();return h=h===null?null:{parent:St._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&$u(r,null),zf(),ky(r),t!==null&&Xo(t,r,l,!0),null}function fc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function od(t,r,a,l,h){return Vs(r),a=Hf(t,r,a,l,void 0,h),l=Ff(),t!==null&&!kt?(Gf(t,r,h),Gr(t,r,h)):(Be&&l&&Rf(r),r.flags|=1,Ut(t,r,a,h),r.child)}function Qy(t,r,a,l,h,d){return Vs(r),r.updateQueue=null,a=Kp(r,l,a,h),Gp(t),l=Ff(),t!==null&&!kt?(Gf(t,r,d),Gr(t,r,d)):(Be&&l&&Rf(r),r.flags|=1,Ut(t,r,a,d),r.child)}function Yy(t,r,a,l,h){if(Vs(r),r.stateNode===null){var d=Aa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Vf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):Aa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(id(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&sd.enqueueReplaceState(d,d.state,null),rl(r,l,d,h),nl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,I=js(a,T);d.props=I;var H=d.context,W=a.contextType;v=Aa,typeof W=="object"&&W!==null&&(v=Kt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==v)&&My(r,d,l,v),pi=!1;var G=r.memoizedState;d.state=G,rl(r,l,d,h),nl(),H=r.memoizedState,T||G!==H||pi?(typeof ee=="function"&&(id(r,a,ee,l),H=r.memoizedState),(I=pi||Oy(r,a,I,l,G,H,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Lf(t,r),v=r.memoizedProps,W=js(a,v),d.props=W,ee=r.pendingProps,G=d.context,H=a.contextType,I=Aa,typeof H=="object"&&H!==null&&(I=Kt(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||G!==I)&&My(r,d,l,I),pi=!1,G=r.memoizedState,d.state=G,rl(r,l,d,h),nl();var K=r.memoizedState;v!==ee||G!==K||pi||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof T=="function"&&(id(r,a,T,l),K=r.memoizedState),(W=pi||Oy(r,a,W,l,G,K,I)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,fc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ma(r,t.child,null,h),r.child=Ma(r,null,a,h)):Ut(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Gr(t,r,h),t}function $y(t,r,a,l){return Yo(),r.flags|=256,Ut(t,r,a,l),r.child}var ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ud(t){return{baseLanes:t,cachePool:Vp()}}function cd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=On),t}function Xy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(h?Ei(r):Ti(),Be){var T=ut,I;if(I=T){e:{for(I=T,T=ur;I.nodeType!==8;){if(!T){T=null;break e}if(I=Bn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ds!==null?{id:jr,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},I=gn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,tn=r,ut=null,I=!0):I=!1}I||Ms(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Qd(T)?r.lanes=32:r.lanes=536870912,null;Fr(r)}return T=l.children,l=l.fallback,h?(Ti(),h=r.mode,T=dc({mode:"hidden",children:T},h),l=Ns(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=ud(a),h.childLanes=cd(t,v,a),r.memoizedState=ld,l):(Ei(r),hd(r,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(Ei(r),r.flags&=-257,r=fd(t,r,a)):r.memoizedState!==null?(Ti(),r.child=t.child,r.flags|=128,r=null):(Ti(),h=l.fallback,T=r.mode,l=dc({mode:"visible",children:l.children},T),h=Ns(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ma(r,t.child,null,a),l=r.child,l.memoizedState=ud(a),l.childLanes=cd(t,v,a),r.memoizedState=ld,r=h);else if(Ei(r),Qd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(s(419)),l.stack="",l.digest=v,$o({value:l,source:null,stack:null}),r=fd(t,r,a)}else if(kt||Xo(t,r,a,!1),v=(a&t.childLanes)!==0,kt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:li(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,wa(t,l),En(v,t,l),By;T.data==="$?"||Nd(),r=fd(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,ut=Bn(T.nextSibling),tn=r,Be=!0,Os=null,ur=!1,t!==null&&(Nn[Dn++]=jr,Nn[Dn++]=zr,Nn[Dn++]=Ds,jr=t.id,zr=t.overflow,Ds=r),r=hd(r,l.children),r.flags|=4096);return r}return h?(Ti(),h=l.fallback,T=r.mode,I=t.child,H=I.sibling,l=Ur(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?h=Ur(H,h):(h=Ns(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=ud(a):(I=T.cachePool,I!==null?(H=St._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=Vp(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=cd(t,v,a),r.memoizedState=ld,l):(Ei(r),a=t.child,t=a.sibling,a=Ur(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function hd(t,r){return r=dc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function dc(t,r){return t=gn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function fd(t,r,a){return Ma(r,t.child,null,a),t=hd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Wy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Nf(t.return,r,a)}function dd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Zy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,r,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,a,r);else if(t.tag===19)Wy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ae(Rt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&uc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),dd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&uc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}dd(r,!0,a,null,d);break;case"together":dd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Gr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ri|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Xo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Ur(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Ur(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function md(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function zw(t,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),gi(r,St,t.memoizedState.cache),Yo();break;case 27:case 5:oi(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:gi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ei(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Xy(t,r,a):(Ei(r),t=Gr(t,r,a),t!==null?t.sibling:null);Ei(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Xo(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Zy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Rt,Rt.current),l)break;return null;case 22:case 23:return r.lanes=0,Gy(t,r,a);case 24:gi(r,St,t.memoizedState.cache)}return Gr(t,r,a)}function Jy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)kt=!0;else{if(!md(t,a)&&(r.flags&128)===0)return kt=!1,zw(t,r,a);kt=(t.flags&131072)!==0}else kt=!1,Be&&(r.flags&1048576)!==0&&Cp(r,Ku,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")wf(l)?(t=js(l,t),r.tag=1,r=Yy(null,r,l,t,a)):(r.tag=0,r=od(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===se){r.tag=11,r=qy(null,r,l,t,a);break e}else if(h===D){r.tag=14,r=Hy(null,r,l,t,a);break e}}throw r=Tt(l)||l,Error(s(306,r,""))}}return r;case 0:return od(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=js(l,r.pendingProps),Yy(t,r,l,h,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Lf(t,r),rl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,gi(r,St,l),l!==d.cache&&Df(r,[St],a,!0),nl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=$y(t,r,l,a);break e}else if(l!==h){h=In(Error(s(424)),r),$o(h),r=$y(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Bn(t.firstChild),tn=r,Be=!0,Os=null,ur=!0,a=Dy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yo(),l===h){r=Gr(t,r,a);break e}Ut(t,r,l,a)}r=r.child}return r;case 26:return fc(t,r),t===null?(a=rv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=xc(we.current).createElement(a),l[bt]=r,l[gt]=t,zt(l,a,t),ht(l),r.stateNode=l):r.memoizedState=rv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return oi(r),t===null&&Be&&(l=r.stateNode=ev(r.type,r.pendingProps,we.current),tn=r,ur=!0,h=ut,Ni(r.type)?(Yd=h,ut=Bn(l.firstChild)):ut=h),Ut(t,r,r.pendingProps.children,a),fc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((h=l=ut)&&(l=mA(l,r.type,r.pendingProps,ur),l!==null?(r.stateNode=l,tn=r,ut=Bn(l.firstChild),ur=!1,h=!0):h=!1),h||Ms(r)),oi(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Fd(h,d)?l=null:v!==null&&Fd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Hf(t,r,kw,null,null,a),Sl._currentValue=h),fc(t,r),Ut(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=ut)&&(a=gA(a,r.pendingProps,ur),a!==null?(r.stateNode=a,tn=r,ut=null,t=!0):t=!1),t||Ms(r)),null;case 13:return Xy(t,r,a);case 4:return Ze(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ma(r,null,l,a):Ut(t,r,l,a),r.child;case 11:return qy(t,r,r.type,r.pendingProps,a);case 7:return Ut(t,r,r.pendingProps,a),r.child;case 8:return Ut(t,r,r.pendingProps.children,a),r.child;case 12:return Ut(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,gi(r,r.type,l.value),Ut(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Vs(r),h=Kt(h),l=l(h),r.flags|=1,Ut(t,r,l,a),r.child;case 14:return Hy(t,r,r.type,r.pendingProps,a);case 15:return Fy(t,r,r.type,r.pendingProps,a);case 19:return Zy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=dc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Ur(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Gy(t,r,a);case 24:return Vs(r),l=Kt(St),t===null?(h=Mf(),h===null&&(h=Je,d=kf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Vf(r),gi(r,St,h)):((t.lanes&a)!==0&&(Lf(t,r),rl(r,null,null,a),nl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),gi(r,St,l)):(l=d.cache,gi(r,St,l),l!==h.cache&&Df(r,[St],a,!0))),Ut(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Kr(t){t.flags|=4}function e_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!lv(r)){if(r=kn.current,r!==null&&((Le&4194048)===Le?cr!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==cr))throw el=Pf,Lp;t.flags|=8192}}function mc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?xo():536870912,t.lanes|=r,Ua|=r)}function cl(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Bw(t,r,a){var l=r.pendingProps;switch(xf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),qr(St),Wn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qo(r)?Kr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,kp())),at(r),null;case 26:return a=r.memoizedState,t===null?(Kr(r),a!==null?(at(r),e_(r,a)):(at(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Kr(r),at(r),e_(r,a)):(at(r),r.flags&=-16777217):(t.memoizedProps!==l&&Kr(r),at(r),r.flags&=-16777217),null;case 27:Sr(r),a=we.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Kr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}t=ye.current,Qo(r)?Np(r):(t=ev(h,l,a),r.stateNode=t,Kr(r))}return at(r),null;case 5:if(Sr(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Kr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(t=ye.current,Qo(r))Np(r);else{switch(h=xc(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[bt]=r,t[gt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Kr(r)}}return at(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Kr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=we.current,Qo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Q_(t.nodeValue,a)),t||Ms(r)}else t=xc(t).createTextNode(l),t[bt]=r,r.stateNode=t}return at(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Qo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=r}else Yo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),h=!1}else h=kp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Fr(r),r):(Fr(r),null)}if(Fr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),mc(r,r.updateQueue),at(r),null;case 4:return Wn(),t===null&&jd(r.stateNode.containerInfo),at(r),null;case 10:return qr(r.type),at(r),null;case 19:if(ue(Rt),h=r.memoizedState,h===null)return at(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)cl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=uc(t),d!==null){for(r.flags|=128,cl(h,!1),t=d.updateQueue,r.updateQueue=t,mc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Ip(a,t),a=a.sibling;return ae(Rt,Rt.current&1|2),r.child}t=t.sibling}h.tail!==null&&bn()>yc&&(r.flags|=128,l=!0,cl(h,!1),r.lanes=4194304)}else{if(!l)if(t=uc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,mc(r,t),cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return at(r),null}else 2*bn()-h.renderingStartTime>yc&&a!==536870912&&(r.flags|=128,l=!0,cl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=bn(),r.sibling=null,t=Rt.current,ae(Rt,l?t&1|2:t&1),r):(at(r),null);case 22:case 23:return Fr(r),Bf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&mc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ue(Ls),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),qr(St),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function qw(t,r){switch(xf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return qr(St),Wn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Sr(r),null;case 13:if(Fr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Yo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ue(Rt),null;case 4:return Wn(),null;case 10:return qr(r.type),null;case 22:case 23:return Fr(r),Bf(),t!==null&&ue(Ls),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return qr(St),null;case 25:return null;default:return null}}function t_(t,r){switch(xf(r),r.tag){case 3:qr(St),Wn();break;case 26:case 27:case 5:Sr(r);break;case 4:Wn();break;case 13:Fr(r);break;case 19:ue(Rt);break;case 10:qr(r.type);break;case 22:case 23:Fr(r),Bf(),t!==null&&ue(Ls);break;case 24:qr(St)}}function hl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(r,r.return,T)}}function bi(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var I=a,H=T;try{H()}catch(W){We(h,I,W)}}}l=l.next}while(l!==d)}}catch(W){We(r,r.return,W)}}function n_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Hp(r,a)}catch(l){We(t,t.return,l)}}}function r_(t,r,a){a.props=js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,r,l)}}function fl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,r,h)}}function hr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,r,h)}else a.current=null}function i_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function gd(t,r,a){try{var l=t.stateNode;uA(l,t.type,a,r),l[gt]=r}catch(h){We(t,t.return,h)}}function s_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ni(t.type)||t.tag===4}function pd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||s_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ni(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Rc));else if(l!==4&&(l===27&&Ni(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(yd(t,r,a),t=t.sibling;t!==null;)yd(t,r,a),t=t.sibling}function gc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Ni(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(gc(t,r,a),t=t.sibling;t!==null;)gc(t,r,a),t=t.sibling}function a_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);zt(r,l,a),r[bt]=t,r[gt]=a}catch(d){We(t,t.return,d)}}var Qr=!1,dt=!1,_d=!1,o_=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Hw(t,r){if(t=t.containerInfo,qd=Oc,t=_p(t),pf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,H=0,W=0,ee=t,G=null;t:for(;;){for(var K;ee!==a||h!==0&&ee.nodeType!==3||(T=v+h),ee!==d||l!==0&&ee.nodeType!==3||(I=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(K=ee.firstChild)!==null;)G=ee,ee=K;for(;;){if(ee===t)break t;if(G===a&&++H===h&&(T=v),G===d&&++W===l&&(I=v),(K=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=K}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hd={focusedElem:t,selectionRange:a},Oc=!1,Ot=r;Ot!==null;)if(r=Ot,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Ot=t;else for(;Ot!==null;){switch(r=Ot,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=js(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Kd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ot=t;break}Ot=r.return}}function l_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:wi(t,a),l&4&&hl(5,a);break;case 1:if(wi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=js(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&n_(a),l&512&&fl(a,a.return);break;case 3:if(wi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Hp(t,r)}catch(v){We(a,a.return,v)}}break;case 27:r===null&&l&4&&a_(a);case 26:case 5:wi(t,a),r===null&&l&4&&i_(a),l&512&&fl(a,a.return);break;case 12:wi(t,a);break;case 13:wi(t,a),l&4&&h_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Zw.bind(null,a),pA(t,a))));break;case 22:if(l=a.memoizedState!==null||Qr,!l){r=r!==null&&r.memoizedState!==null||dt,h=Qr;var d=dt;Qr=l,(dt=r)&&!d?Ai(t,a,(a.subtreeFlags&8772)!==0):wi(t,a),Qr=h,dt=d}break;case 30:break;default:wi(t,a)}}function u_(t){var r=t.alternate;r!==null&&(t.alternate=null,u_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&hi(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,sn=!1;function Yr(t,r,a){for(a=a.child;a!==null;)c_(t,r,a),a=a.sibling}function c_(t,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:dt||hr(a,r),Yr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||hr(a,r);var l=it,h=sn;Ni(a.type)&&(it=a.stateNode,sn=!1),Yr(t,r,a),Tl(a.stateNode),it=l,sn=h;break;case 5:dt||hr(a,r);case 6:if(l=it,h=sn,it=null,Yr(t,r,a),it=l,sn=h,it!==null)if(sn)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{it.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:it!==null&&(sn?(t=it,Z_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):Z_(it,a.stateNode));break;case 4:l=it,h=sn,it=a.stateNode.containerInfo,sn=!0,Yr(t,r,a),it=l,sn=h;break;case 0:case 11:case 14:case 15:dt||bi(2,a,r),dt||bi(4,a,r),Yr(t,r,a);break;case 1:dt||(hr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&r_(a,r,l)),Yr(t,r,a);break;case 21:Yr(t,r,a);break;case 22:dt=(l=dt)||a.memoizedState!==null,Yr(t,r,a),dt=l;break;default:Yr(t,r,a)}}function h_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){We(r,r.return,a)}}function Fw(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new o_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new o_),r;default:throw Error(s(435,t.tag))}}function vd(t,r){var a=Fw(t);r.forEach(function(l){var h=Jw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function pn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Ni(T.type)){it=T.stateNode,sn=!1;break e}break;case 5:it=T.stateNode,sn=!1;break e;case 3:case 4:it=T.stateNode.containerInfo,sn=!0;break e}T=T.return}if(it===null)throw Error(s(160));c_(d,v,h),it=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)f_(r,t),r=r.sibling}var zn=null;function f_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(r,t),yn(t),l&4&&(bi(3,t,t.return),hl(3,t),bi(5,t,t.return));break;case 1:pn(r,t),yn(t),l&512&&(dt||a===null||hr(a,a.return)),l&64&&Qr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=zn;if(pn(r,t),yn(t),l&512&&(dt||a===null||hr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ms]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[bt]=t,ht(d),l=d;break e;case"link":var v=av("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=av("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,ht(d),l=d}t.stateNode=l}else ov(h,t.type,t.stateNode);else t.stateNode=sv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?ov(h,t.type,t.stateNode):sv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gd(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(r,t),yn(t),l&512&&(dt||a===null||hr(a,a.return)),a!==null&&l&4&&gd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(r,t),yn(t),l&512&&(dt||a===null||hr(a,a.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(K){We(t,t.return,K)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,gd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(_d=!0);break;case 6:if(pn(r,t),yn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){We(t,t.return,K)}}break;case 3:if(Nc=null,h=zn,zn=Ic(r.containerInfo),pn(r,t),zn=h,yn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(r.containerInfo)}catch(K){We(t,t.return,K)}_d&&(_d=!1,d_(t));break;case 4:l=zn,zn=Ic(t.stateNode.containerInfo),pn(r,t),yn(t),zn=l;break;case 12:pn(r,t),yn(t);break;case 13:pn(r,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sd=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=Qr,W=dt;if(Qr=H||h,dt=W||I,pn(r,t),dt=W,Qr=H,yn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||Qr||dt||zs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){We(I,I.return,K)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(K){We(I,I.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vd(t,a))));break;case 19:pn(r,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vd(t,l)));break;case 30:break;case 21:break;default:pn(r,t),yn(t)}}function yn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(s_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=pd(t);gc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(An(v,""),a.flags&=-33);var T=pd(t);gc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,H=pd(t);yd(t,H,I);break;default:throw Error(s(161))}}catch(W){We(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function d_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;d_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function wi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)l_(t,r.alternate,r),r=r.sibling}function zs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:bi(4,r,r.return),zs(r);break;case 1:hr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&r_(r,r.return,a),zs(r);break;case 27:Tl(r.stateNode);case 26:case 5:hr(r,r.return),zs(r);break;case 22:r.memoizedState===null&&zs(r);break;case 30:zs(r);break;default:zs(r)}t=t.sibling}}function Ai(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ai(h,d,a),hl(4,d);break;case 1:if(Ai(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){We(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)qp(I[h],T)}catch(H){We(l,l.return,H)}}a&&v&64&&n_(d),fl(d,d.return);break;case 27:a_(d);case 26:case 5:Ai(h,d,a),a&&l===null&&v&4&&i_(d),fl(d,d.return);break;case 12:Ai(h,d,a);break;case 13:Ai(h,d,a),a&&v&4&&h_(h,d);break;case 22:d.memoizedState===null&&Ai(h,d,a),fl(d,d.return);break;case 30:break;default:Ai(h,d,a)}r=r.sibling}}function Ed(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function Td(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t))}function fr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)m_(t,r,a,l),r=r.sibling}function m_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:fr(t,r,a,l),h&2048&&hl(9,r);break;case 1:fr(t,r,a,l);break;case 3:fr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t)));break;case 12:if(h&2048){fr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(r,r.return,I)}}else fr(t,r,a,l);break;case 13:fr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?fr(t,r,a,l):dl(t,r):d._visibility&2?fr(t,r,a,l):(d._visibility|=2,Pa(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Ed(v,r);break;case 24:fr(t,r,a,l),h&2048&&Td(r.alternate,r);break;default:fr(t,r,a,l)}}function Pa(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,I=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:Pa(d,v,T,I,h),hl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Pa(d,v,T,I,h):dl(d,v):(W._visibility|=2,Pa(d,v,T,I,h)),h&&H&2048&&Ed(v.alternate,v);break;case 24:Pa(d,v,T,I,h),h&&H&2048&&Td(v.alternate,v);break;default:Pa(d,v,T,I,h)}r=r.sibling}}function dl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&Ed(l.alternate,l);break;case 24:dl(a,l),h&2048&&Td(l.alternate,l);break;default:dl(a,l)}r=r.sibling}}var ml=8192;function Va(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)g_(t),t=t.sibling}function g_(t){switch(t.tag){case 26:Va(t),t.flags&ml&&t.memoizedState!==null&&CA(zn,t.memoizedState,t.memoizedProps);break;case 5:Va(t);break;case 3:case 4:var r=zn;zn=Ic(t.stateNode.containerInfo),Va(t),zn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ml,ml=16777216,Va(t),ml=r):Va(t));break;default:Va(t)}}function p_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function gl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ot=l,__(l,t)}p_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)y_(t),t=t.sibling}function y_(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&bi(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,pc(t)):gl(t);break;default:gl(t)}}function pc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ot=l,__(l,t)}p_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:bi(8,r,r.return),pc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,pc(r));break;default:pc(r)}t=t.sibling}}function __(t,r){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:bi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var h=l.sibling,d=l.return;if(u_(l),l===a){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var Gw={getCacheForType:function(t){var r=Kt(St),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},Kw=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,De=null,Le=0,Ke=0,_n=null,Si=!1,La=!1,bd=!1,$r=0,ct=0,Ri=0,Bs=0,wd=0,On=0,Ua=0,pl=null,an=null,Ad=!1,Sd=0,yc=1/0,_c=null,xi=null,jt=0,Ii=null,ja=null,za=0,Rd=0,xd=null,v_=null,yl=0,Id=null;function vn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(F.T!==null){var t=xa;return t!==0?t:Pd()}return ui()}function E_(){On===0&&(On=(Le&536870912)===0||Be?Ro():536870912);var t=kn.current;return t!==null&&(t.flags|=32),On}function En(t,r,a){(t===Je&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Ci(t,Le,On,!1)),xr(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(Bs|=a),ct===4&&Ci(t,Le,On,!1)),dr(t))}function T_(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||ds(t,r),h=l?$w(t,r):Dd(t,r,!0),d=l;do{if(h===0){La&&!l&&Ci(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Qw(a)){h=Dd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;h=pl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ba(T,v).flags|=256),v=Dd(T,v,!1),v!==2){if(bd&&!I){T.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break e}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ba(t,0),Ci(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ci(l,r,On,!Si);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Sd+300-bn(),10<h)){if(Ci(l,r,On,!Si),ia(l,0,!0)!==0)break e;l.timeoutHandle=X_(b_.bind(null,l,a,an,_c,Ad,r,On,Bs,Ua,Si,d,2,-0,0),h);break e}b_(l,a,an,_c,Ad,r,On,Bs,Ua,Si,d,0,-0,0)}}break}while(!0);dr(t)}function b_(t,r,a,l,h,d,v,T,I,H,W,ee,G,K){if(t.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:IA},g_(r),ee=NA(),ee!==null)){t.cancelPendingCommit=ee(C_.bind(null,t,r,d,a,l,h,v,T,I,W,1,G,K)),Ci(t,d,v,!H);return}C_(t,r,d,a,l,h,v,T,I)}function Qw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ci(t,r,a,l){r&=~wd,r&=~Bs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Gt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Zn(t,a,r)}function vc(){return(Ge&6)===0?(_l(0),!1):!0}function Cd(){if(De!==null){if(Ke===0)var t=De.return;else t=De,Br=Ps=null,Kf(t),Oa=null,ll=0,t=De;for(;t!==null;)t_(t.alternate,t),t=t.return;De=null}}function Ba(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,hA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Cd(),Je=t,De=a=Ur(t.current,null),Le=r,Ke=0,_n=null,Si=!1,La=ds(t,r),bd=!1,Ua=On=wd=Bs=Ri=ct=0,an=pl=null,Ad=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Gt(l),d=1<<h;r|=t[h],l&=~d}return $r=r,Bu(),a}function w_(t,r){xe=null,F.H=ac,r===Jo||r===Xu?(r=zp(),Ke=3):r===Lp?(r=zp(),Ke=4):Ke=r===By?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,_n=r,De===null&&(ct=1,hc(t,In(r,t.current)))}function A_(){var t=F.H;return F.H=ac,t===null?ac:t}function S_(){var t=F.A;return F.A=Gw,t}function Nd(){ct=4,Si||(Le&4194048)!==Le&&kn.current!==null||(La=!0),(Ri&134217727)===0&&(Bs&134217727)===0||Je===null||Ci(Je,Le,On,!1)}function Dd(t,r,a){var l=Ge;Ge|=2;var h=A_(),d=S_();(Je!==t||Le!==r)&&(_c=null,Ba(t,r)),r=!1;var v=ct;e:do try{if(Ke!==0&&De!==null){var T=De,I=_n;switch(Ke){case 8:Cd(),v=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var H=Ke;if(Ke=0,_n=null,qa(t,T,I,H),a&&La){v=0;break e}break;default:H=Ke,Ke=0,_n=null,qa(t,T,I,H)}}Yw(),v=ct;break}catch(W){w_(t,W)}while(!0);return r&&t.shellSuspendCounter++,Br=Ps=null,Ge=l,F.H=h,F.A=d,De===null&&(Je=null,Le=0,Bu()),v}function Yw(){for(;De!==null;)R_(De)}function $w(t,r){var a=Ge;Ge|=2;var l=A_(),h=S_();Je!==t||Le!==r?(_c=null,yc=bn()+500,Ba(t,r)):La=ds(t,r);e:do try{if(Ke!==0&&De!==null){r=De;var d=_n;t:switch(Ke){case 1:Ke=0,_n=null,qa(t,r,d,1);break;case 2:case 9:if(Up(d)){Ke=0,_n=null,x_(r);break}r=function(){Ke!==2&&Ke!==9||Je!==t||(Ke=7),dr(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Up(d)?(Ke=0,_n=null,x_(r)):(Ke=0,_n=null,qa(t,r,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var T=De;if(!v||lv(v)){Ke=0,_n=null;var I=T.sibling;if(I!==null)De=I;else{var H=T.return;H!==null?(De=H,Ec(H)):De=null}break t}}Ke=0,_n=null,qa(t,r,d,5);break;case 6:Ke=0,_n=null,qa(t,r,d,6);break;case 8:Cd(),ct=6;break e;default:throw Error(s(462))}}Xw();break}catch(W){w_(t,W)}while(!0);return Br=Ps=null,F.H=l,F.A=h,Ge=a,De!==null?0:(Je=null,Le=0,Bu(),ct)}function Xw(){for(;De!==null&&!bo();)R_(De)}function R_(t){var r=Jy(t.alternate,t,$r);t.memoizedProps=t.pendingProps,r===null?Ec(t):De=r}function x_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Qy(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Qy(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Kf(r);default:t_(a,r),r=De=Ip(r,$r),r=Jy(a,r,$r)}t.memoizedProps=t.pendingProps,r===null?Ec(t):De=r}function qa(t,r,a,l){Br=Ps=null,Kf(r),Oa=null,ll=0;var h=r.return;try{if(jw(t,h,r,a,Le)){ct=1,hc(t,In(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ct=1,hc(t,In(a,t.current)),De=null;return}r.flags&32768?(Be||l===1?t=!0:La||(Le&536870912)!==0?t=!1:(Si=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),I_(r,t)):Ec(r)}function Ec(t){var r=t;do{if((r.flags&32768)!==0){I_(r,Si);return}t=r.return;var a=Bw(r.alternate,r,$r);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=t}while(r!==null);ct===0&&(ct=5)}function I_(t,r){do{var a=qw(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ct=6,De=null}function C_(t,r,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do Tc();while(jt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Tf,Io(t,a,d,v,T,I),t===Je&&(De=Je=null,Le=0),ja=r,Ii=t,za=a,Rd=d,xd=h,v_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eA(us,function(){return M_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ie.p,ie.p=2,v=Ge,Ge|=4;try{Hw(t,r,a)}finally{Ge=v,ie.p=h,F.T=l}}jt=1,N_(),D_(),k_()}}function N_(){if(jt===1){jt=0;var t=Ii,r=ja,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ie.p;ie.p=2;var h=Ge;Ge|=4;try{f_(r,t);var d=Hd,v=_p(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&yp(T.ownerDocument.documentElement,T)){if(I!==null&&pf(T)){var H=I.start,W=I.end;if(W===void 0&&(W=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(W,T.value.length);else{var ee=T.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var K=G.getSelection(),be=T.textContent.length,_e=Math.min(I.start,be),Xe=I.end===void 0?_e:Math.min(I.end,be);!K.extend&&_e>Xe&&(v=Xe,Xe=_e,_e=v);var L=pp(T,_e),P=pp(T,Xe);if(L&&P&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var q=ee.createRange();q.setStart(L.node,L.offset),K.removeAllRanges(),_e>Xe?(K.addRange(q),K.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),K.addRange(q))}}}}for(ee=[],K=T;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Oc=!!qd,Hd=qd=null}finally{Ge=h,ie.p=l,F.T=a}}t.current=r,jt=2}}function D_(){if(jt===2){jt=0;var t=Ii,r=ja,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ie.p;ie.p=2;var h=Ge;Ge|=4;try{l_(t,r.alternate,r)}finally{Ge=h,ie.p=l,F.T=a}}jt=3}}function k_(){if(jt===4||jt===3){jt=0,pu();var t=Ii,r=ja,a=za,l=v_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,ja=Ii=null,O_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(xi=null),sa(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(lt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=F.T,h=ie.p,ie.p=2,F.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{F.T=r,ie.p=h}}(za&3)!==0&&Tc(),dr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Id?yl++:(yl=0,Id=t):yl=0,_l(0)}}function O_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Wo(r)))}function Tc(t){return N_(),D_(),k_(),M_()}function M_(){if(jt!==5)return!1;var t=Ii,r=Rd;Rd=0;var a=sa(za),l=F.T,h=ie.p;try{ie.p=32>a?32:a,F.T=null,a=xd,xd=null;var d=Ii,v=za;if(jt=0,ja=Ii=null,za=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,y_(d.current),m_(d,d.current,v,a),Ge=T,_l(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{ie.p=h,F.T=l,O_(t,r)}}function P_(t,r,a){r=In(a,r),r=ad(t.stateNode,r,2),t=_i(t,r,2),t!==null&&(xr(t,2),dr(t))}function We(t,r,a){if(t.tag===3)P_(t,t,a);else for(;r!==null;){if(r.tag===3){P_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xi===null||!xi.has(l))){t=In(a,t),a=jy(2),l=_i(r,a,2),l!==null&&(zy(a,l,r,t),xr(l,2),dr(l));break}}r=r.return}}function kd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Kw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(bd=!0,h.add(a),t=Ww.bind(null,t,r,a),r.then(t,t))}function Ww(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>bn()-Sd?(Ge&2)===0&&Ba(t,0):wd|=a,Ua===Le&&(Ua=0)),dr(t)}function V_(t,r){r===0&&(r=xo()),t=wa(t,r),t!==null&&(xr(t,r),dr(t))}function Zw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),V_(t,a)}function Jw(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),V_(t,a)}function eA(t,r){return os(t,r)}var bc=null,Ha=null,Od=!1,wc=!1,Md=!1,qs=0;function dr(t){t!==Ha&&t.next===null&&(Ha===null?bc=Ha=t:Ha=Ha.next=t),wc=!0,Od||(Od=!0,nA())}function _l(t,r){if(!Md&&wc){Md=!0;do for(var a=!1,l=bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,z_(l,d))}else d=Le,d=ia(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ds(l,d)||(a=!0,z_(l,d));l=l.next}while(a);Md=!1}}function tA(){L_()}function L_(){wc=Od=!1;var t=0;qs!==0&&(cA()&&(t=qs),qs=0);for(var r=bn(),a=null,l=bc;l!==null;){var h=l.next,d=U_(l,r);d===0?(l.next=null,a===null?bc=h:a.next=h,h===null&&(Ha=a)):(a=l,(t!==0||(d&3)!==0)&&(wc=!0)),l=h}_l(t)}function U_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Gt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=So(T,r)):I<=r&&(t.expiredLanes|=T),d&=~T}if(r=Je,a=Le,a=ia(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ds(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ls(l),sa(a)){case 2:case 8:a=na;break;case 32:a=us;break;case 268435456:a=ra;break;default:a=us}return l=j_.bind(null,t),a=os(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ls(l),t.callbackPriority=2,t.callbackNode=null,2}function j_(t,r){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tc()&&t.callbackNode!==a)return null;var l=Le;return l=ia(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(T_(t,l,r),U_(t,bn()),t.callbackNode!=null&&t.callbackNode===a?j_.bind(null,t):null)}function z_(t,r){if(Tc())return null;T_(t,r,!0)}function nA(){fA(function(){(Ge&6)!==0?os(wo,tA):L_()})}function Pd(){return qs===0&&(qs=Ro()),qs}function B_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ha(""+t)}function q_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function rA(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=B_((h[gt]||null).action),v=l.submitter;v&&(r=(r=v[gt]||null)?B_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new fa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var I=v?q_(h,v):new FormData(h);td(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?q_(h,v):new FormData(h),td(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Vd=0;Vd<Ef.length;Vd++){var Ld=Ef[Vd],iA=Ld.toLowerCase(),sA=Ld[0].toUpperCase()+Ld.slice(1);jn(iA,"on"+sA)}jn(Tp,"onAnimationEnd"),jn(bp,"onAnimationIteration"),jn(wp,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(bw,"onTransitionRun"),jn(ww,"onTransitionStart"),jn(Aw,"onTransitionCancel"),jn(Ap,"onTransitionEnd"),Cr("onMouseEnter",["mouseout","mouseover"]),Cr("onMouseLeave",["mouseout","mouseover"]),Cr("onPointerEnter",["pointerout","pointerover"]),Cr("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function H_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(W){cc(W)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,H=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(W){cc(W)}h.currentTarget=null,d=I}}}}function ke(t,r){var a=r[No];a===void 0&&(a=r[No]=new Set);var l=t+"__bubble";a.has(l)||(F_(r,t,2,!1),a.add(l))}function Ud(t,r,a){var l=0;r&&(l|=4),F_(a,t,l,r)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function jd(t){if(!t[Ac]){t[Ac]=!0,Do.forEach(function(a){a!=="selectionchange"&&(aA.has(a)||Ud(a,!1,t),Ud(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ac]||(r[Ac]=!0,Ud("selectionchange",!1,r))}}function F_(t,r,a,l){switch(mv(r)){case 2:var h=OA;break;case 8:h=MA;break;default:h=Jd}a=h.bind(null,r,a,t),h=void 0,!Rn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function zd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ir(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Ru(function(){var H=d,W=Sn(a),ee=[];e:{var G=Sp.get(t);if(G!==void 0){var K=fa,be=t;switch(t){case"keypress":if(ir(a)===0)break e;case"keydown":case"keyup":K=_a;break;case"focusin":be="focus",K=ga;break;case"focusout":be="blur",K=ga;break;case"beforeblur":case"afterblur":K=ga;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=ff;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Mu;break;case Tp:case bp:case wp:K=pa;break;case Ap:K=Vu;break;case"scroll":case"scrollend":K=xu;break;case"wheel":K=va;break;case"copy":case"cut":case"paste":K=ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ho;break;case"toggle":case"beforetoggle":K=Uu}var _e=(r&4)!==0,Xe=!_e&&(t==="scroll"||t==="scrollend"),L=_e?G!==null?G+"Capture":null:G;_e=[];for(var P=H,q;P!==null;){var Z=P;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||L===null||(Z=Ts(P,L),Z!=null&&_e.push(El(P,Z,q))),Xe)break;P=P.return}0<_e.length&&(G=new K(G,be,null,a,W),ee.push({event:G,listeners:_e}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&a!==kr&&(be=a.relatedTarget||a.fromElement)&&(Ir(be)||be[wn]))break e;if((K||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,K?(be=a.relatedTarget||a.toElement,K=H,be=be?Ir(be):null,be!==null&&(Xe=u(be),_e=be.tag,be!==Xe||_e!==5&&_e!==27&&_e!==6)&&(be=null)):(K=null,be=H),K!==be)){if(_e=xn,Z="onMouseLeave",L="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Ho,Z="onPointerLeave",L="onPointerEnter",P="pointer"),Xe=K==null?G:er(K),q=be==null?G:er(be),G=new _e(Z,P+"leave",K,a,W),G.target=Xe,G.relatedTarget=q,Z=null,Ir(W)===H&&(_e=new _e(L,P+"enter",be,a,W),_e.target=q,_e.relatedTarget=Xe,Z=_e),Xe=Z,K&&be)t:{for(_e=K,L=be,P=0,q=_e;q;q=Fa(q))P++;for(q=0,Z=L;Z;Z=Fa(Z))q++;for(;0<P-q;)_e=Fa(_e),P--;for(;0<q-P;)L=Fa(L),q--;for(;P--;){if(_e===L||L!==null&&_e===L.alternate)break t;_e=Fa(_e),L=Fa(L)}_e=null}else _e=null;K!==null&&G_(ee,G,K,_e,!1),be!==null&&Xe!==null&&G_(ee,Xe,be,_e,!0)}}e:{if(G=H?er(H):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var de=cp;else if(At(G))if(hp)de=vw;else{de=yw;var Ne=pw}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Vo(H.elementType)&&(de=cp):de=_w;if(de&&(de=de(t,H))){Lr(ee,de,a,W);break e}Ne&&Ne(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&di(G,"number",G.value)}switch(Ne=H?er(H):window,t){case"focusin":(At(Ne)||Ne.contentEditable==="true")&&(Ea=Ne,yf=H,Ko=null);break;case"focusout":Ko=yf=Ea=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,vp(ee,a,W);break;case"selectionchange":if(Tw)break;case"keydown":case"keyup":vp(ee,a,W)}var ge;if(or)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Pe?Y(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Pe||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Pe&&(ge=Uo()):(rr=W,mi="value"in rr?rr.value:rr.textContent,Pe=!0)),Ne=Sc(H,ve),0<Ne.length&&(ve=new Bo(ve,t,null,a,W),ee.push({event:ve,listeners:Ne}),ge?ve.data=ge:(ge=oe(a),ge!==null&&(ve.data=ge)))),(ge=y?wt(t,a):Ve(t,a))&&(ve=Sc(H,"onBeforeInput"),0<ve.length&&(Ne=new Bo("onBeforeInput","beforeinput",null,a,W),ee.push({event:Ne,listeners:ve}),Ne.data=ge)),rA(ee,t,H,a,W)}H_(ee,r)})}function El(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Sc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ts(t,a),h!=null&&l.unshift(El(t,h,d)),h=Ts(t,r),h!=null&&l.push(El(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G_(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||H===null||(I=H,h?(H=Ts(a,d),H!=null&&v.unshift(El(a,H,I))):h||(H=Ts(a,d),H!=null&&v.push(El(a,H,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var oA=/\r\n?/g,lA=/\u0000|\uFFFD/g;function K_(t){return(typeof t=="string"?t:""+t).replace(oA,`
`).replace(lA,"")}function Q_(t,r){return r=K_(r),K_(t)===r}function Rc(){}function $e(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&An(t,""+l);break;case"className":tr(t,"class",l);break;case"tabIndex":tr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":tr(t,a,l);break;case"style":Po(t,l,d);break;case"data":if(r!=="object"){tr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ha(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&$e(t,r,"name",h.name,h,null),$e(t,r,"formEncType",h.formEncType,h,null),$e(t,r,"formMethod",h.formMethod,h,null),$e(t,r,"formTarget",h.formTarget,h,null)):($e(t,r,"encType",h.encType,h,null),$e(t,r,"method",h.method,h,null),$e(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ha(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),fi(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cf.get(a)||a,fi(t,a,l))}}function Bd(t,r,a,l,h,d){switch(a){case"style":Po(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!aa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[gt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):fi(t,a,l)}}}function zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,d,v,a,null)}}h&&$e(t,r,"srcSet",a.srcSet,a,null),l&&$e(t,r,"src",a.src,a,null);return;case"input":ke("invalid",t);var T=d=v=h=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":I=W;break;case"defaultChecked":H=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:$e(t,r,l,W,a,null)}}_s(t,d,T,I,H,v,h,!1),ca(t);return;case"select":ke("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$e(t,r,h,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Dr(t,!!l,r,!1):a!=null&&Dr(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$e(t,r,v,T,a,null)}vs(t,l,h,d),ca(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,r,I,l,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)ke(vl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,H,l,a,null)}return;default:if(Vo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Bd(t,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$e(t,r,T,l,a,null))}function uA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,H=null,W=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(K)||$e(t,r,K,null,l,ee)}}for(var G in l){var K=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(K!=null||ee!=null))switch(G){case"type":d=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":W=K;break;case"value":v=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==ee&&$e(t,r,G,K,l,ee)}}dn(t,v,T,I,H,W,d,h);return;case"select":K=v=T=G=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(d)||$e(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&$e(t,r,h,d,l,I)}r=T,a=v,l=K,G!=null?Dr(t,!!a,G,!1):!!l!=!!a&&(r!=null?Dr(t,!!a,r,!0):Dr(t,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(t,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(t,r,v,h,l,d)}Qe(t,G,K);return;case"option":for(var be in a)if(G=a[be],a.hasOwnProperty(be)&&G!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:$e(t,r,be,null,l,G)}for(I in l)if(G=l[I],K=a[I],l.hasOwnProperty(I)&&G!==K&&(G!=null||K!=null))switch(I){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:$e(t,r,I,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)G=a[_e],a.hasOwnProperty(_e)&&G!=null&&!l.hasOwnProperty(_e)&&$e(t,r,_e,null,l,G);for(H in l)if(G=l[H],K=a[H],l.hasOwnProperty(H)&&G!==K&&(G!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:$e(t,r,H,G,l,K)}return;default:if(Vo(r)){for(var Xe in a)G=a[Xe],a.hasOwnProperty(Xe)&&G!==void 0&&!l.hasOwnProperty(Xe)&&Bd(t,r,Xe,void 0,l,G);for(W in l)G=l[W],K=a[W],!l.hasOwnProperty(W)||G===K||G===void 0&&K===void 0||Bd(t,r,W,G,l,K);return}}for(var L in a)G=a[L],a.hasOwnProperty(L)&&G!=null&&!l.hasOwnProperty(L)&&$e(t,r,L,null,l,G);for(ee in l)G=l[ee],K=a[ee],!l.hasOwnProperty(ee)||G===K||G==null&&K==null||$e(t,r,ee,G,l,K)}var qd=null,Hd=null;function xc(t){return t.nodeType===9?t:t.ownerDocument}function Y_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Fd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gd=null;function cA(){var t=window.event;return t&&t.type==="popstate"?t===Gd?!1:(Gd=t,!0):(Gd=null,!1)}var X_=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,fA=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(t){return W_.resolve(null).then(t).catch(dA)}:X_;function dA(t){setTimeout(function(){throw t})}function Ni(t){return t==="head"}function Z_(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Tl(v.documentElement),a&2&&Tl(v.body),a&4)for(a=v.head,Tl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[ms]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Cl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Cl(r)}function Kd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),hi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function mA(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ms])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function gA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function pA(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Yd=null;function J_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function ev(t,r,a){switch(r=xc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Tl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);hi(t)}var Mn=new Map,tv=new Set;function Ic(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xr=ie.d;ie.d={f:yA,r:_A,D:vA,C:EA,L:TA,m:bA,X:AA,S:wA,M:SA};function yA(){var t=Xr.f(),r=vc();return t||r}function _A(t){var r=Jn(t);r!==null&&r.tag===5&&r.type==="form"?Ty(r):Xr.r(t)}var Ga=typeof document>"u"?null:document;function nv(t,r,a){var l=Ga;if(l&&typeof r=="string"&&r){var h=pt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),tv.has(h)||(tv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),zt(r,"link",t),ht(r),l.head.appendChild(r)))}}function vA(t){Xr.D(t),nv("dns-prefetch",t,null)}function EA(t,r){Xr.C(t,r),nv("preconnect",t,r)}function TA(t,r,a){Xr.L(t,r,a);var l=Ga;if(l&&t&&r){var h='link[rel="preload"][as="'+pt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(r){case"style":d=Ka(t);break;case"script":d=Qa(t)}Mn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Mn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(bl(d))||r==="script"&&l.querySelector(wl(d))||(r=l.createElement("link"),zt(r,"link",t),ht(r),l.head.appendChild(r)))}}function bA(t,r){Xr.m(t,r);var a=Ga;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qa(t)}if(!Mn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Mn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),zt(l,"link",t),ht(l),a.head.appendChild(l)}}}function wA(t,r,a){Xr.S(t,r,a);var l=Ga;if(l&&t){var h=Zt(l).hoistableStyles,d=Ka(t);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(bl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Mn.get(d))&&$d(t,a);var I=v=l.createElement("link");ht(I),zt(I,"link",t),I._p=new Promise(function(H,W){I.onload=H,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Cc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function AA(t,r){Xr.X(t,r);var a=Ga;if(a&&t){var l=Zt(a).hoistableScripts,h=Qa(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=E({src:t,async:!0},r),(r=Mn.get(h))&&Xd(t,r),d=a.createElement("script"),ht(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function SA(t,r){Xr.M(t,r);var a=Ga;if(a&&t){var l=Zt(a).hoistableScripts,h=Qa(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Mn.get(h))&&Xd(t,r),d=a.createElement("script"),ht(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function rv(t,r,a,l){var h=(h=we.current)?Ic(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ka(a.href),a=Zt(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var d=Zt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(bl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),d||RA(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Qa(a),a=Zt(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ka(t){return'href="'+pt(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function iv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function RA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),zt(r,"link",a),ht(r),t.head.appendChild(r))}function Qa(t){return'[src="'+pt(t)+'"]'}function wl(t){return"script[async]"+t}function sv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return r.instance=l,ht(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),zt(l,"style",h),Cc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Ka(a.href);var d=t.querySelector(bl(h));if(d)return r.state.loading|=4,r.instance=d,ht(d),d;l=iv(a),(h=Mn.get(h))&&$d(l,h),d=(t.ownerDocument||t).createElement("link"),ht(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",l),r.state.loading|=4,Cc(d,a.precedence,t),r.instance=d;case"script":return d=Qa(a.src),(h=t.querySelector(wl(d)))?(r.instance=h,ht(h),h):(l=a,(h=Mn.get(d))&&(l=E({},a),Xd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),zt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Cc(l,a.precedence,t));return r.instance}function Cc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function $d(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Xd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Nc=null;function av(t,r,a){if(Nc===null){var l=new Map,h=Nc=new Map;h.set(a,l)}else h=Nc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ms]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function ov(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function xA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function lv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function IA(){}function CA(t,r,a){if(Al===null)throw Error(s(475));var l=Al;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ka(a.href),d=t.querySelector(bl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Dc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ht(d);return}d=t.ownerDocument||t,a=iv(a),(h=Mn.get(h))&&$d(a,h),d=d.createElement("link"),ht(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Dc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function NA(){if(Al===null)throw Error(s(475));var t=Al;return t.stylesheets&&t.count===0&&Wd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Wd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Dc(){if(this.count--,this.count===0){if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function Wd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,r.forEach(DA,t),kc=null,Dc.call(t))}function DA(t,r){if(!(r.state.loading&4)){var a=kc.get(t);if(a)var l=a.get(null);else{a=new Map,kc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Sl={$$typeof:X,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function kA(t,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function uv(t,r,a,l,h,d,v,T,I,H,W,ee){return t=new kA(t,r,a,v,T,I,H,ee),r=1,d===!0&&(r|=24),d=gn(3,null,null,r),t.current=d,d.stateNode=t,r=kf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Vf(d),t}function cv(t){return t?(t=Aa,t):Aa}function hv(t,r,a,l,h,d){h=cv(h),l.context===null?l.context=h:l.pendingContext=h,l=yi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_i(t,l,r),a!==null&&(En(a,t,r),tl(a,t,r))}function fv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Zd(t,r){fv(t,r),(t=t.alternate)&&fv(t,r)}function dv(t){if(t.tag===13){var r=wa(t,67108864);r!==null&&En(r,t,67108864),Zd(t,67108864)}}var Oc=!0;function OA(t,r,a,l){var h=F.T;F.T=null;var d=ie.p;try{ie.p=2,Jd(t,r,a,l)}finally{ie.p=d,F.T=h}}function MA(t,r,a,l){var h=F.T;F.T=null;var d=ie.p;try{ie.p=8,Jd(t,r,a,l)}finally{ie.p=d,F.T=h}}function Jd(t,r,a,l){if(Oc){var h=em(l);if(h===null)zd(t,r,l,Mc,a),gv(t,l);else if(VA(h,t,r,a,l))l.stopPropagation();else if(gv(t,l),r&4&&-1<PA.indexOf(t)){for(;h!==null;){var d=Jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Gt(v);T.entanglements[1]|=I,v&=~I}dr(d),(Ge&6)===0&&(yc=bn()+500,_l(0))}}break;case 13:T=wa(d,2),T!==null&&En(T,d,2),vc(),Zd(d,2)}if(d=em(l),d===null&&zd(t,r,l,Mc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else zd(t,r,l,null,a)}}function em(t){return t=Sn(t),tm(t)}var Mc=null;function tm(t){if(Mc=null,t=Ir(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Mc=t,null}function mv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rf()){case wo:return 2;case na:return 8;case us:case sf:return 32;case ra:return 268435456;default:return 32}default:return 32}}var nm=!1,Di=null,ki=null,Oi=null,Rl=new Map,xl=new Map,Mi=[],PA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gv(t,r){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Rl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(r.pointerId)}}function Il(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Jn(r),r!==null&&dv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function VA(t,r,a,l,h){switch(r){case"focusin":return Di=Il(Di,t,r,a,l,h),!0;case"dragenter":return ki=Il(ki,t,r,a,l,h),!0;case"mouseover":return Oi=Il(Oi,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Il(Rl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,xl.set(d,Il(xl.get(d)||null,t,r,a,l,h)),!0}return!1}function pv(t){var r=Ir(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,vu(t.priority,function(){if(a.tag===13){var l=vn();l=li(l);var h=wa(a,l);h!==null&&En(h,a,l),Zd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);kr=l,a.target.dispatchEvent(l),kr=null}else return r=Jn(a),r!==null&&dv(r),t.blockedOn=a,!1;r.shift()}return!0}function yv(t,r,a){Pc(t)&&a.delete(r)}function LA(){nm=!1,Di!==null&&Pc(Di)&&(Di=null),ki!==null&&Pc(ki)&&(ki=null),Oi!==null&&Pc(Oi)&&(Oi=null),Rl.forEach(yv),xl.forEach(yv)}function Vc(t,r){t.blockedOn===r&&(t.blockedOn=null,nm||(nm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,LA)))}var Lc=null;function _v(t){Lc!==t&&(Lc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var d=Jn(a);d!==null&&(t.splice(r,3),r-=3,td(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Cl(t){function r(I){return Vc(I,t)}Di!==null&&Vc(Di,t),ki!==null&&Vc(ki,t),Oi!==null&&Vc(Oi,t),Rl.forEach(r),xl.forEach(r);for(var a=0;a<Mi.length;a++){var l=Mi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Mi.length&&(a=Mi[0],a.blockedOn===null);)pv(a),a.blockedOn===null&&Mi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[gt]||null;if(typeof d=="function")v||_v(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[gt]||null)T=v.formAction;else if(tm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),_v(a)}}}function rm(t){this._internalRoot=t}Uc.prototype.render=rm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=vn();hv(a,l,t,r,null,null)},Uc.prototype.unmount=rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;hv(t.current,2,null,t,null,null),vc(),r[wn]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var r=ui();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Mi.length&&r!==0&&r<Mi[a].priority;a++);Mi.splice(a,0,t),a===0&&pv(t)}};var vv=e.version;if(vv!=="19.1.0")throw Error(s(527,vv,"19.1.0"));ie.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var UA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{lt=jc.inject(UA),Fe=jc}catch{}}return Dl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Py,d=Vy,v=Ly,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=uv(t,1,!1,null,null,a,l,h,d,v,T,null),t[wn]=r.current,jd(t),new rm(r)},Dl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Py,v=Vy,T=Ly,I=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),r=uv(t,1,!0,r,a??null,l,h,d,v,T,I,H),r.context=cv(null),a=r.current,l=vn(),l=li(l),h=yi(l),h.callback=null,_i(a,h,l),a=l,r.current.lanes=a,xr(r,a),dr(r),t[wn]=r.current,jd(t),new Uc(r)},Dl.version="19.1.0",Dl}var Cv;function YA(){if(Cv)return am.exports;Cv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),am.exports=QA(),am.exports}var $A=YA(),kl={},Nv;function XA(){if(Nv)return kl;Nv=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.parse=f,kl.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,O){const N=new u,Q=A.length;if(Q<2)return N;const j=(O==null?void 0:O.decode)||E;let $=0;do{const ne=A.indexOf("=",$);if(ne===-1)break;const X=A.indexOf(";",$),se=X===-1?Q:X;if(ne>se){$=A.lastIndexOf(";",ne-1)+1;continue}const le=m(A,$,ne),me=g(A,ne,le),D=A.slice(le,me);if(N[D]===void 0){let R=m(A,ne+1,se),x=g(A,se,R);const M=j(A.slice(R,x));N[D]=M}$=se+1}while($<Q);return N}function m(A,O,N){do{const Q=A.charCodeAt(O);if(Q!==32&&Q!==9)return O}while(++O<N);return N}function g(A,O,N){for(;O>N;){const Q=A.charCodeAt(--O);if(Q!==32&&Q!==9)return O+1}return N}function p(A,O,N){const Q=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const j=Q(O);if(!e.test(j))throw new TypeError(`argument val is invalid: ${O}`);let $=A+"="+j;if(!N)return $;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);$+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);$+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);$+="; Path="+N.path}if(N.expires){if(!w(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);$+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&($+="; HttpOnly"),N.secure&&($+="; Secure"),N.partitioned&&($+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return $}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return kl}XA();var Dv="popstate";function WA(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Sm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Gl(o)}return JA(e,n,null,i)}function st(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Qn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZA(){return Math.random().toString(36).substring(2,10)}function kv(i,e){return{usr:i.state,key:i.key,idx:e}}function Sm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?fo(e):e,state:n,key:e&&e.key||s||ZA()}}function Gl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function fo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function JA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let j=E(),$=j==null?null:j-p;p=j,g&&g({action:m,location:Q.location,delta:$})}function A(j,$){m="PUSH";let ne=Sm(Q.location,j,$);p=E()+1;let X=kv(ne,p),se=Q.createHref(ne);try{f.pushState(X,"",se)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(se)}u&&g&&g({action:m,location:Q.location,delta:1})}function O(j,$){m="REPLACE";let ne=Sm(Q.location,j,$);p=E();let X=kv(ne,p),se=Q.createHref(ne);f.replaceState(X,"",se),u&&g&&g({action:m,location:Q.location,delta:0})}function N(j){let $=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof j=="string"?j:Gl(j);return ne=ne.replace(/ $/,"%20"),st($,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,$)}let Q={get action(){return m},get location(){return i(o,f)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Dv,w),g=j,()=>{o.removeEventListener(Dv,w),g=null}},createHref(j){return e(o,j)},createURL:N,encodeLocation(j){let $=N(j);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:O,go(j){return f.go(j)}};return Q}function EE(i,e,n="/"){return eS(i,e,n,!1)}function eS(i,e,n,s){let o=typeof e=="string"?fo(e):e,u=ei(o.pathname||"/",n);if(u==null)return null;let f=TE(i);tS(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=fS(u);m=cS(f[g],p,s)}return m}function TE(i,e=[],n=[],s=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(st(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let p=Jr([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),TE(u.children,e,E,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:lS(p,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of bE(u.path))o(u,f,g)}),e}function bE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=bE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function tS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:uS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var nS=/^:[\w-]+$/,rS=3,iS=2,sS=1,aS=10,oS=-2,Ov=i=>i==="*";function lS(i,e){let n=i.split("/"),s=n.length;return n.some(Ov)&&(s+=oS),e&&(s+=iS),n.filter(o=>!Ov(o)).reduce((o,u)=>o+(nS.test(u)?rS:u===""?sS:aS),s)}function uS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function cS(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=lh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),A=g.route;if(!w&&p&&n&&!s[s.length-1].route.index&&(w=lh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Jr([u,w.pathname]),pathnameBase:pS(Jr([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=Jr([u,w.pathnameBase]))}return f}function lh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=hS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:w},A)=>{if(E==="*"){let N=m[A]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const O=m[A];return w&&!O?p[E]=void 0:p[E]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:i}}function hS(i,e=!1,n=!0){Qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function fS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ei(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function dS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?fo(i):i;return{pathname:n?n.startsWith("/")?n:mS(n,e):e,search:yS(s),hash:_S(o)}}function mS(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function cm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ig(i){let e=gS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function sg(i,e,n,s=!1){let o;typeof i=="string"?o=fo(i):(o={...i},st(!o.pathname||!o.pathname.includes("?"),cm("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),cm("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),cm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let g=dS(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var Jr=i=>i.join("/").replace(/\/\/+/g,"/"),pS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),yS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,_S=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function vS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var wE=["POST","PUT","PATCH","DELETE"];new Set(wE);var ES=["GET",...wE];new Set(ES);var mo=z.createContext(null);mo.displayName="DataRouter";var Ch=z.createContext(null);Ch.displayName="DataRouterState";var AE=z.createContext({isTransitioning:!1});AE.displayName="ViewTransition";var TS=z.createContext(new Map);TS.displayName="Fetchers";var bS=z.createContext(null);bS.displayName="Await";var Xn=z.createContext(null);Xn.displayName="Navigation";var nu=z.createContext(null);nu.displayName="Location";var wr=z.createContext({outlet:null,matches:[],isDataRoute:!1});wr.displayName="Route";var ag=z.createContext(null);ag.displayName="RouteError";function wS(i,{relative:e}={}){st(go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(Xn),{hash:o,pathname:u,search:f}=ru(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Jr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function go(){return z.useContext(nu)!=null}function si(){return st(go(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(nu).location}var SE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RE(i){z.useContext(Xn).static||z.useLayoutEffect(i)}function po(){let{isDataRoute:i}=z.useContext(wr);return i?VS():AS()}function AS(){st(go(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(mo),{basename:e,navigator:n}=z.useContext(Xn),{matches:s}=z.useContext(wr),{pathname:o}=si(),u=JSON.stringify(ig(s)),f=z.useRef(!1);return RE(()=>{f.current=!0}),z.useCallback((g,p={})=>{if(Qn(f.current,SE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=sg(g,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Jr([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,i])}z.createContext(null);function ru(i,{relative:e}={}){let{matches:n}=z.useContext(wr),{pathname:s}=si(),o=JSON.stringify(ig(n));return z.useMemo(()=>sg(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function SS(i,e){return xE(i,e)}function xE(i,e,n,s){var ne;st(go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=z.useContext(Xn),{matches:f}=z.useContext(wr),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let X=w&&w.path||"";IE(p,!w||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let A=si(),O;if(e){let X=typeof e=="string"?fo(e):e;st(E==="/"||((ne=X.pathname)==null?void 0:ne.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),O=X}else O=A;let N=O.pathname||"/",Q=N;if(E!=="/"){let X=E.replace(/^\//,"").split("/");Q="/"+N.replace(/^\//,"").split("/").slice(X.length).join("/")}let j=!u&&n&&n.matches&&n.matches.length>0?n.matches:EE(i,{pathname:Q});Qn(w||j!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Qn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=NS(j&&j.map(X=>Object.assign({},X,{params:Object.assign({},g,X.params),pathname:Jr([E,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:Jr([E,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),f,n,s);return e&&$?z.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},$):$}function RS(){let i=PS(),e=vS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,f)}var xS=z.createElement(RS,null),IS=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?z.createElement(wr.Provider,{value:this.props.routeContext},z.createElement(ag.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CS({routeContext:i,match:e,children:n}){let s=z.useContext(mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(wr.Provider,{value:i},n)}function NS(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);st(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:E,errors:w}=n,A=p.route.loader&&!E.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,E)=>{let w,A=!1,O=null,N=null;n&&(w=u&&p.route.id?u[p.route.id]:void 0,O=p.route.errorElement||xS,f&&(m<0&&E===0?(IE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,N=null):m===E&&(A=!0,N=p.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,E+1)),j=()=>{let $;return w?$=O:A?$=N:p.route.Component?$=z.createElement(p.route.Component,null):p.route.element?$=p.route.element:$=g,z.createElement(CS,{match:p,routeContext:{outlet:g,matches:Q,isDataRoute:n!=null},children:$})};return n&&(p.route.ErrorBoundary||p.route.errorElement||E===0)?z.createElement(IS,{location:n.location,revalidation:n.revalidation,component:O,error:w,children:j(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):j()},null)}function og(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DS(i){let e=z.useContext(mo);return st(e,og(i)),e}function kS(i){let e=z.useContext(Ch);return st(e,og(i)),e}function OS(i){let e=z.useContext(wr);return st(e,og(i)),e}function lg(i){let e=OS(i),n=e.matches[e.matches.length-1];return st(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function MS(){return lg("useRouteId")}function PS(){var s;let i=z.useContext(ag),e=kS("useRouteError"),n=lg("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function VS(){let{router:i}=DS("useNavigate"),e=lg("useNavigate"),n=z.useRef(!1);return RE(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Qn(n.current,SE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Mv={};function IE(i,e,n){!e&&!Mv[i]&&(Mv[i]=!0,Qn(!1,n))}z.memo(LS);function LS({routes:i,future:e,state:n}){return xE(i,void 0,n,e)}function US({to:i,replace:e,state:n,relative:s}){st(go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(Xn);Qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(wr),{pathname:f}=si(),m=po(),g=sg(i,ig(u),f,s==="path"),p=JSON.stringify(g);return z.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function Li(i){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jS({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=fo(n));let{pathname:g="/",search:p="",hash:E="",state:w=null,key:A="default"}=n,O=z.useMemo(()=>{let N=ei(g,f);return N==null?null:{location:{pathname:N,search:p,hash:E,state:w,key:A},navigationType:s}},[f,g,p,E,w,A,s]);return Qn(O!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:z.createElement(Xn.Provider,{value:m},z.createElement(nu.Provider,{children:e,value:O}))}function zS({children:i,location:e}){return SS(Rm(i),e)}function Rm(i,e=[]){let n=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,Rm(s.props.children,u));return}st(s.type===Li,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Rm(s.props.children,u)),n.push(f)}),n}var Xc="get",Wc="application/x-www-form-urlencoded";function Nh(i){return i!=null&&typeof i.tagName=="string"}function BS(i){return Nh(i)&&i.tagName.toLowerCase()==="button"}function qS(i){return Nh(i)&&i.tagName.toLowerCase()==="form"}function HS(i){return Nh(i)&&i.tagName.toLowerCase()==="input"}function FS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function GS(i,e){return i.button===0&&(!e||e==="_self")&&!FS(i)}var zc=null;function KS(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var QS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(i){return i!=null&&!QS.has(i)?(Qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):i}function YS(i,e){let n,s,o,u,f;if(qS(i)){let m=i.getAttribute("action");s=m?ei(m,e):null,n=i.getAttribute("method")||Xc,o=hm(i.getAttribute("enctype"))||Wc,u=new FormData(i)}else if(BS(i)||HS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?ei(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Xc,o=hm(i.getAttribute("formenctype"))||hm(m.getAttribute("enctype"))||Wc,u=new FormData(m,i),!KS()){let{name:p,type:E,value:w}=i;if(E==="image"){let A=p?`${p}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else p&&u.append(p,w)}}else{if(Nh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xc,s=null,o=Wc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function ug(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function $S(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function WS(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await $S(u,n);return f.links?f.links():[]}return[]}));return tR(s.flat(1).filter(XS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Pv(i,e,n,s,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>{var E;return n[p].pathname!==g.pathname||((E=n[p].route.path)==null?void 0:E.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{var w;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function ZS(i,e,{includeHydrateFallback:n}={}){return JS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function JS(i){return[...new Set(i)]}function eR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function tR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(eR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var nR=new Set([100,101,204,205]);function rR(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&ei(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function CE(){let i=z.useContext(mo);return ug(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function iR(){let i=z.useContext(Ch);return ug(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var cg=z.createContext(void 0);cg.displayName="FrameworkContext";function NE(){let i=z.useContext(cg);return ug(i,"You must render this element inside a <HydratedRouter> element"),i}function sR(i,e){let n=z.useContext(cg),[s,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:w}=e,A=z.useRef(null);z.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Q=$=>{$.forEach(ne=>{f(ne.isIntersecting)})},j=new IntersectionObserver(Q,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[i]),z.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let O=()=>{o(!0)},N=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Ol(m,O),onBlur:Ol(g,N),onMouseEnter:Ol(p,O),onMouseLeave:Ol(E,N),onTouchStart:Ol(w,O)}]:[!1,A,{}]}function Ol(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function aR({page:i,...e}){let{router:n}=CE(),s=z.useMemo(()=>EE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?z.createElement(lR,{page:i,matches:s,...e}):null}function oR(i){let{manifest:e,routeModules:n}=NE(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return WS(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function lR({page:i,matches:e,...n}){let s=si(),{manifest:o,routeModules:u}=NE(),{basename:f}=CE(),{loaderData:m,matches:g}=iR(),p=z.useMemo(()=>Pv(i,e,g,o,s,"data"),[i,e,g,o,s]),E=z.useMemo(()=>Pv(i,e,g,o,s,"assets"),[i,e,g,o,s]),w=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let N=new Set,Q=!1;if(e.forEach($=>{var X;let ne=o.routes[$.route.id];!ne||!ne.hasLoader||(!p.some(se=>se.route.id===$.route.id)&&$.route.id in m&&((X=u[$.route.id])!=null&&X.shouldRevalidate)||ne.hasClientLoader?Q=!0:N.add($.route.id))}),N.size===0)return[];let j=rR(i,f);return Q&&N.size>0&&j.searchParams.set("_routes",e.filter($=>N.has($.route.id)).map($=>$.route.id).join(",")),[j.pathname+j.search]},[f,m,s,o,p,e,i,u]),A=z.useMemo(()=>ZS(E,o),[E,o]),O=oR(E);return z.createElement(z.Fragment,null,w.map(N=>z.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),A.map(N=>z.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),O.map(({key:N,link:Q})=>z.createElement("link",{key:N,...Q})))}function uR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var DE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DE&&(window.__reactRouterVersion="7.5.3")}catch{}function cR({basename:i,children:e,window:n}){let s=z.useRef();s.current==null&&(s.current=WA({window:n,v5Compat:!0}));let o=s.current,[u,f]=z.useState({action:o.action,location:o.location}),m=z.useCallback(g=>{z.startTransition(()=>f(g))},[f]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(jS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var kE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hn=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:w,...A},O){let{basename:N}=z.useContext(Xn),Q=typeof p=="string"&&kE.test(p),j,$=!1;if(typeof p=="string"&&Q&&(j=p,DE))try{let x=new URL(window.location.href),M=p.startsWith("//")?new URL(x.protocol+p):new URL(p),V=ei(M.pathname,N);M.origin===x.origin&&V!=null?p=V+M.search+M.hash:$=!0}catch{Qn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=wS(p,{relative:o}),[X,se,le]=sR(s,A),me=mR(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:w});function D(x){e&&e(x),x.defaultPrevented||me(x)}let R=z.createElement("a",{...A,...le,href:j||ne,onClick:$||u?e:D,ref:uR(O,se),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return X&&!Q?z.createElement(z.Fragment,null,R,z.createElement(aR,{page:ne})):R});Hn.displayName="Link";var hR=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let w=ru(f,{relative:p.relative}),A=si(),O=z.useContext(Ch),{navigator:N,basename:Q}=z.useContext(Xn),j=O!=null&&vR(w)&&m===!0,$=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,ne=A.pathname,X=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),X=X?X.toLowerCase():null,$=$.toLowerCase()),X&&Q&&(X=ei(X,Q)||X);const se=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let le=ne===$||!o&&ne.startsWith($)&&ne.charAt(se)==="/",me=X!=null&&(X===$||!o&&X.startsWith($)&&X.charAt($.length)==="/"),D={isActive:le,isPending:me,isTransitioning:j},R=le?e:void 0,x;typeof s=="function"?x=s(D):x=[s,le?"active":null,me?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(D):u;return z.createElement(Hn,{...p,"aria-current":R,className:x,ref:E,style:M,to:f,viewTransition:m},typeof g=="function"?g(D):g)});hR.displayName="NavLink";var fR=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Xc,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:w,...A},O)=>{let N=yR(),Q=_R(m,{relative:p}),j=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&kE.test(m),ne=X=>{if(g&&g(X),X.defaultPrevented)return;X.preventDefault();let se=X.nativeEvent.submitter,le=(se==null?void 0:se.getAttribute("formmethod"))||f;N(se||X.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:w})};return z.createElement("form",{ref:O,method:j,action:Q,onSubmit:s?g:ne,...A,"data-discover":!$&&i==="render"?"true":void 0})});fR.displayName="Form";function dR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OE(i){let e=z.useContext(mo);return st(e,dR(i)),e}function mR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=po(),g=si(),p=ru(i,{relative:u});return z.useCallback(E=>{if(GS(E,e)){E.preventDefault();let w=n!==void 0?n:Gl(g)===Gl(p);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,p,n,s,e,i,o,u,f])}var gR=0,pR=()=>`__${String(++gR)}__`;function yR(){let{router:i}=OE("useSubmit"),{basename:e}=z.useContext(Xn),n=MS();return z.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:p}=YS(s,e);if(o.navigate===!1){let E=o.fetcherKey||pR();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function _R(i,{relative:e}={}){let{basename:n}=z.useContext(Xn),s=z.useContext(wr);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ru(i||".",{relative:e})},f=si();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Jr([n,u.pathname])),Gl(u)}function vR(i,e={}){let n=z.useContext(AE);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=OE("useViewTransitionState"),o=ru(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ei(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ei(n.nextLocation.pathname,s)||n.nextLocation.pathname;return lh(o.pathname,f)!=null||lh(o.pathname,u)!=null}new TextEncoder;[...nR];const ER=()=>{};var Vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},TR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},PE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|p>>6,O=p&63;g||(O=64,f||(A=64)),s.push(n[E],n[w],n[A],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ME(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):TR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||w==null)throw new bR;const A=u<<2|m>>4;if(s.push(A),p!==64){const O=m<<4&240|p>>2;if(s.push(O),w!==64){const N=p<<6&192|w;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class bR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wR=function(i){const e=ME(i);return PE.encodeByteArray(e,!0)},uh=function(i){return wR(i).replace(/\./g,"")},VE=function(i){try{return PE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=()=>AR().__FIREBASE_DEFAULTS__,RR=()=>{if(typeof process>"u"||typeof Vv>"u")return;const i=Vv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},xR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&VE(i[1]);return e&&JSON.parse(e)},Dh=()=>{try{return ER()||SR()||RR()||xR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},LE=i=>{var e,n;return(n=(e=Dh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},UE=i=>{const e=LE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},jE=()=>{var i;return(i=Dh())===null||i===void 0?void 0:i.config},zE=i=>{var e;return(e=Dh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[uh(JSON.stringify(n)),uh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function NR(){var i;const e=(i=Dh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function OR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MR(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function PR(){return!NR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VR(){try{return typeof indexedDB=="object"}catch{return!1}}function LR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="FirebaseError";class Pn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=UR,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?jR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Pn(o,m,s)}}function jR(i,e){return i.replace(zR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const zR=/\{\$([^}]+)}/g;function BR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Gs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Lv(u)&&Lv(f)){if(!Gs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Lv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ml(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Pl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function qR(i,e){const n=new HR(i,e);return n.subscribe.bind(n)}class HR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");FR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(i){return i&&i._delegate?i._delegate:i}class Yi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new IR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QR(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KR(i){return i===Hs?void 0:i}function QR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const $R={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},XR=Oe.INFO,WR={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},ZR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=WR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hg{constructor(e){this.name=e,this._logLevel=XR,this._logHandler=ZR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const JR=(i,e)=>e.some(n=>i instanceof n);let Uv,jv;function e1(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t1(){return jv||(jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qE=new WeakMap,xm=new WeakMap,HE=new WeakMap,dm=new WeakMap,fg=new WeakMap;function n1(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Hi(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&qE.set(n,i)}).catch(()=>{}),fg.set(e,i),e}function r1(i){if(xm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});xm.set(i,e)}let Im={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return xm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||HE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function i1(i){Im=i(Im)}function s1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(mm(this),e,...n);return HE.set(s,e.sort?e.sort():[e]),Hi(s)}:t1().includes(i)?function(...e){return i.apply(mm(this),e),Hi(qE.get(this))}:function(...e){return Hi(i.apply(mm(this),e))}}function a1(i){return typeof i=="function"?s1(i):(i instanceof IDBTransaction&&r1(i),JR(i,e1())?new Proxy(i,Im):i)}function Hi(i){if(i instanceof IDBRequest)return n1(i);if(dm.has(i))return dm.get(i);const e=a1(i);return e!==i&&(dm.set(i,e),fg.set(e,i)),e}const mm=i=>fg.get(i);function o1(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Hi(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Hi(f.result),g.oldVersion,g.newVersion,Hi(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const l1=["get","getKey","getAll","getAllKeys","count"],u1=["put","add","delete","clear"],gm=new Map;function zv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=u1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||l1.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return gm.set(e,u),u}i1(i=>({...i,get:(e,n,s)=>zv(e,n)||i.get(e,n,s),has:(e,n)=>!!zv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function h1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cm="@firebase/app",Bv="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new hg("@firebase/app"),f1="@firebase/app-compat",d1="@firebase/analytics-compat",m1="@firebase/analytics",g1="@firebase/app-check-compat",p1="@firebase/app-check",y1="@firebase/auth",_1="@firebase/auth-compat",v1="@firebase/database",E1="@firebase/data-connect",T1="@firebase/database-compat",b1="@firebase/functions",w1="@firebase/functions-compat",A1="@firebase/installations",S1="@firebase/installations-compat",R1="@firebase/messaging",x1="@firebase/messaging-compat",I1="@firebase/performance",C1="@firebase/performance-compat",N1="@firebase/remote-config",D1="@firebase/remote-config-compat",k1="@firebase/storage",O1="@firebase/storage-compat",M1="@firebase/firestore",P1="@firebase/vertexai",V1="@firebase/firestore-compat",L1="firebase",U1="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="[DEFAULT]",j1={[Cm]:"fire-core",[f1]:"fire-core-compat",[m1]:"fire-analytics",[d1]:"fire-analytics-compat",[p1]:"fire-app-check",[g1]:"fire-app-check-compat",[y1]:"fire-auth",[_1]:"fire-auth-compat",[v1]:"fire-rtdb",[E1]:"fire-data-connect",[T1]:"fire-rtdb-compat",[b1]:"fire-fn",[w1]:"fire-fn-compat",[A1]:"fire-iid",[S1]:"fire-iid-compat",[R1]:"fire-fcm",[x1]:"fire-fcm-compat",[I1]:"fire-perf",[C1]:"fire-perf-compat",[N1]:"fire-rc",[D1]:"fire-rc-compat",[k1]:"fire-gcs",[O1]:"fire-gcs-compat",[M1]:"fire-fst",[V1]:"fire-fst-compat",[P1]:"fire-vertex","fire-js":"fire-js",[L1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,z1=new Map,Dm=new Map;function qv(i,e){try{i.container.addComponent(e)}catch(n){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ks(i){const e=i.name;if(Dm.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,i);for(const n of ch.values())qv(n,i);for(const n of z1.values())qv(n,i);return!0}function kh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function un(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new iu("app","Firebase",B1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=U1;function FE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Nm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Fi.create("bad-app-name",{appName:String(o)});if(n||(n=jE()),!n)throw Fi.create("no-options");const u=ch.get(o);if(u){if(Gs(n,u.options)&&Gs(s,u.config))return u;throw Fi.create("duplicate-app",{appName:o})}const f=new YR(o);for(const g of Dm.values())f.addComponent(g);const m=new q1(n,s,f);return ch.set(o,m),m}function dg(i=Nm){const e=ch.get(i);if(!e&&i===Nm&&jE())return FE();if(!e)throw Fi.create("no-app",{appName:i});return e}function gr(i,e,n){var s;let o=(s=j1[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(m.join(" "));return}Ks(new Yi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firebase-heartbeat-database",F1=1,Kl="firebase-heartbeat-store";let pm=null;function GE(){return pm||(pm=o1(H1,F1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Fi.create("idb-open",{originalErrorMessage:i.message})})),pm}async function G1(i){try{const n=(await GE()).transaction(Kl),s=await n.objectStore(Kl).get(KE(i));return await n.done,s}catch(e){if(e instanceof Pn)ti.warn(e.message);else{const n=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ti.warn(n.message)}}}async function Hv(i,e){try{const s=(await GE()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,KE(i)),await s.done}catch(n){if(n instanceof Pn)ti.warn(n.message);else{const s=Fi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ti.warn(s.message)}}}function KE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=1024,Q1=30;class Y1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Fv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Q1){const f=W1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ti.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fv(),{heartbeatsToSend:s,unsentEntries:o}=$1(this._heartbeatsCache.heartbeats),u=uh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ti.warn(n),""}}}function Fv(){return new Date().toISOString().substring(0,10)}function $1(i,e=K1){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Gv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Gv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class X1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VR()?LR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Gv(i){return uh(JSON.stringify({version:2,heartbeats:i})).length}function W1(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(i){Ks(new Yi("platform-logger",e=>new c1(e),"PRIVATE")),Ks(new Yi("heartbeat",e=>new Y1(e),"PRIVATE")),gr(Cm,Bv,i),gr(Cm,Bv,"esm2017"),gr("fire-js","")}Z1("");function mg(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function QE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J1=QE,YE=new iu("auth","Firebase",QE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new hg("@firebase/auth");function ex(i,...e){hh.logLevel<=Oe.WARN&&hh.warn(`Auth (${Ws}): ${i}`,...e)}function Zc(i,...e){hh.logLevel<=Oe.ERROR&&hh.error(`Auth (${Ws}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(i,...e){throw gg(i,...e)}function pr(i,...e){return gg(i,...e)}function $E(i,e,n){const s=Object.assign(Object.assign({},J1()),{[e]:n});return new iu("auth","Firebase",s).create(e,{appName:i.name})}function yr(i){return $E(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return YE.create(i,...e)}function Ee(i,e,...n){if(!i)throw gg(e,...n)}function Wr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Zc(e),new Error(e)}function ni(i,e){i||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function tx(){return Kv()==="http:"||Kv()==="https:"}function Kv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tx()||kR()||"connection"in navigator)?navigator.onLine:!0}function rx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.shortDelay=e,this.longDelay=n,ni(n>e,"Short delay should be less than long delay!"),this.isMobile=CR()||OR()}get(){return nx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(i,e){ni(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ax=new au(3e4,6e4);function rs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ai(i,e,n,s,o={}){return WE(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=su(Object.assign({key:i.config.apiKey},f)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p=Object.assign({method:e,headers:g},u);return DR()||(p.referrerPolicy="no-referrer"),XE.fetch()(await ZE(i,i.config.apiHost,n,m),p)})}async function WE(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},ix),e);try{const o=new lx(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Bc(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw Bc(i,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw $E(i,E,p);Yn(i,E)}}catch(o){if(o instanceof Pn)throw o;Yn(i,"network-request-failed",{message:String(o)})}}async function ou(i,e,n,s,o={}){const u=await ai(i,e,n,s,o);return"mfaPendingCredential"in u&&Yn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function ZE(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?pg(i.config,o):`${i.config.apiScheme}://${o}`;return sx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function ox(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pr(this.auth,"network-request-failed")),ax.get())})}}function Bc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pr(i,e,s);return o.customData._tokenResponse=n,o}function Qv(i){return i!==void 0&&i.enterprise!==void 0}class ux{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ox(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cx(i,e){return ai(i,"GET","/v2/recaptchaConfig",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hx(i,e){return ai(i,"POST","/v1/accounts:delete",e)}async function fh(i,e){return ai(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fx(i,e=!1){const n=et(i),s=await n.getIdToken(e),o=yg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:zl(ym(o.auth_time)),issuedAtTime:zl(ym(o.iat)),expirationTime:zl(ym(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ym(i){return Number(i)*1e3}function yg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=VE(n);return o?JSON.parse(o):(Zc("Failed to decode base64 JWT payload"),null)}catch(o){return Zc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Yv(i){const e=yg(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Pn&&dx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function dx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await ro(i,fh(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?JE(u.providerUserInfo):[],m=px(i.providerData,f),g=i.isAnonymous,p=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?p:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Om(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,w)}async function gx(i){const e=et(i);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function px(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function JE(i){return i.map(e=>{var{providerId:n}=e,s=mg(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(i,e){const n=await WE(i,{},async()=>{const s=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await ZE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",XE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _x(i,e){return ai(i,"POST","/v2/accounts:revokeToken",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Yv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await yx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ja;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Fn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=mg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Om(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await ro(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fx(this,e)}reload(){return gx(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(yr(this.auth));const e=await this.getIdToken();return await ro(this,hx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,g,p,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,j=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,$=(p=n.createdAt)!==null&&p!==void 0?p:void 0,ne=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:X,emailVerified:se,isAnonymous:le,providerData:me,stsTokenManager:D}=n;Ee(X&&D,e,"internal-error");const R=Ja.fromJSON(this.name,D);Ee(typeof X=="string",e,"internal-error"),Vi(w,e.name),Vi(A,e.name),Ee(typeof se=="boolean",e,"internal-error"),Ee(typeof le=="boolean",e,"internal-error"),Vi(O,e.name),Vi(N,e.name),Vi(Q,e.name),Vi(j,e.name),Vi($,e.name),Vi(ne,e.name);const x=new Fn({uid:X,auth:e,email:A,emailVerified:se,displayName:w,isAnonymous:le,photoURL:N,phoneNumber:O,tenantId:Q,stsTokenManager:R,createdAt:$,lastLoginAt:ne});return me&&Array.isArray(me)&&(x.providerData=me.map(M=>Object.assign({},M))),j&&(x._redirectEventId=j),x}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ja;o.updateFromServerResponse(n);const u=new Fn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await dh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?JE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ja;m.updateFromIdToken(s);const g=new Fn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=new Map;function Zr(i){ni(i instanceof Function,"Expected a class definition");let e=$v.get(i);return e?(ni(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,$v.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eT.type="NONE";const Xv=eT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(i,e,n){return`firebase:${i}:${e}:${n}`}class eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Jc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fh(this.auth,{idToken:e}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new eo(Zr(Xv),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Zr(Xv);const f=Jc(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let w;if(typeof E=="string"){const A=await fh(e,{idToken:E}).catch(()=>{});if(!A)break;w=await Fn._fromGetAccountInfoResponse(e,A,E)}else w=Fn._fromJSON(e,E);p!==u&&(m=w),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new eo(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new eo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aT(e))return"Blackberry";if(oT(e))return"Webos";if(nT(e))return"Safari";if((e.includes("chrome/")||rT(e))&&!e.includes("edge/"))return"Chrome";if(sT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function tT(i=Wt()){return/firefox\//i.test(i)}function nT(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rT(i=Wt()){return/crios\//i.test(i)}function iT(i=Wt()){return/iemobile/i.test(i)}function sT(i=Wt()){return/android/i.test(i)}function aT(i=Wt()){return/blackberry/i.test(i)}function oT(i=Wt()){return/webos/i.test(i)}function _g(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function vx(i=Wt()){var e;return _g(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ex(){return MR()&&document.documentMode===10}function lT(i=Wt()){return _g(i)||sT(i)||oT(i)||aT(i)||/windows phone/i.test(i)||iT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(i,e=[]){let n;switch(i){case"Browser":n=Wv(Wt());break;case"Worker":n=`${Wv(Wt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ws}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(i,e={}){return ai(i,"GET","/v2/passwordPolicy",rs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=6;class Ax{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:wx,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zv(this),this.idTokenSubscription=new Zv(this),this.beforeStateQueue=new Tx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fh(this,{idToken:e}),s=await Fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(un(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(un(this.app))return Promise.reject(yr(this));const n=e?et(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return un(this.app)?Promise.reject(yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bx(this),n=new Ax(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await _x(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[Zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ex(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zs(i){return et(i)}class Zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=qR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rx(i){Oh=i}function cT(i){return Oh.loadJS(i)}function xx(){return Oh.recaptchaEnterpriseScript}function Ix(){return Oh.gapiScript}function Cx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Nx{constructor(){this.enterprise=new Dx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Dx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const kx="recaptcha-enterprise",hT="NO_RECAPTCHA";class Ox{constructor(e){this.type=kx,this.auth=Zs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{cx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new ux(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;Qv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(hT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Nx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Qv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=xx();g.length!==0&&(g+=m),cT(g).then(()=>{o(m,u,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function Jv(i,e,n,s=!1,o=!1){const u=new Ox(i);let f;if(o)f=hT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Mm(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Jv(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Jv(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(i,e){const n=kh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Gs(u,e??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:e})}function Px(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Zr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Vx(i,e,n){const s=Zs(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=fT(e),{host:f,port:m}=Lx(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Gs(p,s.config.emulator)&&Gs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ux()}function fT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Lx(i){const e=fT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:e0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:e0(f)}}}function e0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Ux(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,n){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function jx(i,e){return ai(i,"POST","/v1/accounts:update",e)}async function zx(i,e){return ai(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(i,e){return ou(i,"POST","/v1/accounts:signInWithPassword",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(i,e){return ou(i,"POST","/v1/accounts:signInWithEmailLink",rs(i,e))}async function Hx(i,e){return ou(i,"POST","/v1/accounts:signInWithEmailLink",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends vg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Ql(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ql(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,n,"signInWithPassword",Bx);case"emailLink":return qx(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,s,"signUpPassword",zx);case"emailLink":return Hx(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(i,e){return ou(i,"POST","/v1/accounts:signInWithIdp",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="http://localhost";class Qs extends vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=mg(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Qs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,to(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:Fx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Kx(i){const e=Ml(Pl(i)).link,n=e?Ml(Pl(e)).deep_link_id:null,s=Ml(Pl(i)).deep_link_id;return(s?Ml(Pl(s)).link:null)||s||n||e||i}class Eg{constructor(e){var n,s,o,u,f,m;const g=Ml(Pl(e)),p=(n=g.apiKey)!==null&&n!==void 0?n:null,E=(s=g.oobCode)!==null&&s!==void 0?s:null,w=Gx((o=g.mode)!==null&&o!==void 0?o:null);Ee(p&&E&&w,"argument-error"),this.apiKey=p,this.operation=w,this.code=E,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=Kx(e);try{return new Eg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.providerId=$i.PROVIDER_ID}static credential(e,n){return Ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Eg.parseLink(n);return Ee(s,"argument-error"),Ql._fromEmailAndCode(e,s.code,s.tenantId)}}$i.PROVIDER_ID="password";$i.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$i.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends dT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends lu{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ji.credential(n,s)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends lu{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends lu{constructor(){super("twitter.com")}static credential(e,n){return Qs._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Bi.credential(n,s)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(i,e){return ou(i,"POST","/v1/accounts:signUp",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Fn._fromIdTokenResponse(e,s,o),f=t0(s);return new Ys({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=t0(s);return new Ys({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function t0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Pn{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new mh(e,n,s,o)}}function mT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(i,u,e,s):u})}async function Yx(i,e,n=!1){const s=await ro(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ys._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(i,e,n=!1){const{auth:s}=i;if(un(s.app))return Promise.reject(yr(s));const o="reauthenticate";try{const u=await ro(i,mT(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const f=yg(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(i.uid===m,s,"user-mismatch"),Ys._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pT(i,e,n=!1){if(un(i.app))return Promise.reject(yr(i));const s="signIn",o=await mT(i,s,e),u=await Ys._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function $x(i,e){return pT(Zs(i),e)}async function n0(i,e){return gT(et(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yT(i){const e=Zs(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Xx(i,e,n){if(un(i.app))return Promise.reject(yr(i));const s=Zs(i),f=await Mm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qx).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&yT(i),g}),m=await Ys._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function Wx(i,e,n){return un(i.app)?Promise.reject(yr(i)):$x(et(i),$i.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&yT(i),s})}function Zx(i,e){const n=et(i);return un(n.auth.app)?Promise.reject(yr(n.auth)):_T(n,e,null)}function Jx(i,e){return _T(et(i),null,e)}async function _T(i,e,n){const{auth:s}=i,u={idToken:await i.getIdToken(),returnSecureToken:!0};e&&(u.email=e),n&&(u.password=n);const f=await ro(i,jx(s,u));await i._updateTokensIfNecessary(f,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(i,e){return et(i).setPersistence(e)}function tI(i,e,n,s){return et(i).onIdTokenChanged(e,n,s)}function nI(i,e,n){return et(i).beforeAuthStateChanged(e,n)}function vT(i,e,n,s){return et(i).onAuthStateChanged(e,n,s)}function rI(i){return et(i).signOut()}async function iI(i){return et(i).delete()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=1e3,aI=10;class TT extends ET{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Ex()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,aI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},sI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TT.type="LOCAL";const bT=TT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends ET{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wT.type="SESSION";const Tg=wT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Mh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await oI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=bg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function uI(i){_r().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function cI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function fI(){return AT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firebaseLocalStorageDb",dI=1,ph="firebaseLocalStorage",RT="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(i,e){return i.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function mI(){const i=indexedDB.deleteDatabase(ST);return new uu(i).toPromise()}function Pm(){const i=indexedDB.open(ST,dI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(ph,{keyPath:RT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(ph)?e(s):(s.close(),await mI(),e(await Pm()))})})}async function r0(i,e,n){const s=Ph(i,!0).put({[RT]:e,value:n});return new uu(s).toPromise()}async function gI(i,e){const n=Ph(i,!1).get(e),s=await new uu(n).toPromise();return s===void 0?null:s.value}function i0(i,e){const n=Ph(i,!0).delete(e);return new uu(n).toPromise()}const pI=800,yI=3;class xT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>yI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(fI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cI(),!this.activeServiceWorker)return;this.sender=new lI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pm();return await r0(e,gh,"1"),await i0(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>r0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>gI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>i0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ph(o,!1).getAll();return new uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xT.type="LOCAL";const _I=xT;new au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(i,e){return e?Zr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EI(i){return pT(i.auth,new wg(i),i.bypassAuthState)}function TI(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),gT(n,new wg(i),i.bypassAuthState)}async function bI(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),Yx(n,new wg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EI;case"linkViaPopup":case"linkViaRedirect":return bI;case"reauthViaPopup":case"reauthViaRedirect":return TI;default:Yn(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new au(2e3,1e4);class Za extends IT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wI.get())};e()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="pendingRedirect",eh=new Map;class SI extends IT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const s=await RI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RI(i,e){const n=CI(e),s=II(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function xI(i,e){eh.set(i._key(),e)}function II(i){return Zr(i._redirectPersistence)}function CI(i){return Jc(AI,i.config.apiKey,i.name)}async function NI(i,e,n=!1){if(un(i.app))return Promise.reject(yr(i));const s=Zs(i),o=vI(s,e),f=await new SI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=10*60*1e3;class kI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!CT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DI&&this.cachedEventUids.clear(),this.cachedEventUids.has(s0(e))}saveEventToCache(e){this.cachedEventUids.add(s0(e)),this.lastProcessedEventTime=Date.now()}}function s0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function CT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(i,e={}){return ai(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VI=/^https?/;async function LI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await MI(i);for(const n of e)try{if(UI(n))return}catch{}Yn(i,"unauthorized-domain")}function UI(i){const e=km(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!VI.test(n))return!1;if(PI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new au(3e4,6e4);function a0(){const i=_r().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function zI(i){return new Promise((e,n)=>{var s,o,u;function f(){a0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a0(),n(pr(i,"network-request-failed"))},timeout:jI.get()})}if(!((o=(s=_r().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=_r().gapi)===null||u===void 0)&&u.load)f();else{const m=Cx("iframefcb");return _r()[m]=()=>{gapi.load?f():n(pr(i,"network-request-failed"))},cT(`${Ix()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw th=null,e})}let th=null;function BI(i){return th=th||zI(i),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=new au(5e3,15e3),HI="__/auth/iframe",FI="emulator/auth/iframe",GI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QI(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?pg(e,FI):`https://${i.config.authDomain}/${HI}`,s={apiKey:e.apiKey,appName:i.name,v:Ws},o=KI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${su(s).slice(1)}`}async function YI(i){const e=await BI(i),n=_r().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:QI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=pr(i,"network-request-failed"),m=_r().setTimeout(()=>{u(f)},qI.get());function g(){_r().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XI=500,WI=600,ZI="_blank",JI="http://localhost";class o0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eC(i,e,n,s=XI,o=WI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},$I),{width:s.toString(),height:o.toString(),top:u,left:f}),p=Wt().toLowerCase();n&&(m=rT(p)?ZI:n),tT(p)&&(e=e||JI,g.scrollbars="yes");const E=Object.entries(g).reduce((A,[O,N])=>`${A}${O}=${N},`,"");if(vx(p)&&m!=="_self")return tC(e||"",m),new o0(null);const w=window.open(e||"",m,E);Ee(w,i,"popup-blocked");try{w.focus()}catch{}return new o0(w)}function tC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="__/auth/handler",rC="emulator/auth/handler",iC=encodeURIComponent("fac");async function l0(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ws,eventId:o};if(e instanceof dT){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",BR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof lu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),p=g?`#${iC}=${encodeURIComponent(g)}`:"";return`${sC(i)}?${su(m).slice(1)}${p}`}function sC({config:i}){return i.emulator?pg(i,rC):`https://${i.authDomain}/${nC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class aC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tg,this._completeRedirectFn=NI,this._overrideRedirectResult=xI}async _openPopup(e,n,s,o){var u;ni((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await l0(e,n,s,km(),o);return eC(e,f,bg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await l0(e,n,s,km(),o);return uI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ni(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await YI(e),s=new kI(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[_m];f!==void 0&&n(!!f),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lT()||nT()||_g()}}const oC=aC;var u0="@firebase/auth",c0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cC(i){Ks(new Yi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uT(i)},p=new Sx(s,o,u,g);return Px(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ks(new Yi("auth-internal",e=>{const n=Zs(e.getProvider("auth").getImmediate());return(s=>new lC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(u0,c0,uC(i)),gr(u0,c0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=5*60,fC=zE("authIdTokenMaxAge")||hC;let h0=null;const dC=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>fC)return;const o=n==null?void 0:n.token;h0!==o&&(h0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function mC(i=dg()){const e=kh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=Mx(i,{popupRedirectResolver:oC,persistence:[_I,bT,Tg]}),s=zE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=dC(u.toString());nI(n,f,()=>f(n.currentUser)),tI(n,m=>f(m))}}const o=LE("auth");return o&&Vx(n,`http://${o}`),n}function gC(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}Rx({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=pr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",gC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cC("Browser");var pC="firebase",yC="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(pC,yC,"app");var f0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,NT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function x(){}x.prototype=R.prototype,D.D=R.prototype,D.prototype=new x,D.prototype.constructor=D,D.C=function(M,V,U){for(var C=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)C[Tt-2]=arguments[Tt];return R.prototype[V].apply(M,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,x){x||(x=0);var M=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)M[V]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(V=0;16>V;++V)M[V]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=D.g[0],x=D.g[1],V=D.g[2];var U=D.g[3],C=R+(U^x&(V^U))+M[0]+3614090360&4294967295;R=x+(C<<7&4294967295|C>>>25),C=U+(V^R&(x^V))+M[1]+3905402710&4294967295,U=R+(C<<12&4294967295|C>>>20),C=V+(x^U&(R^x))+M[2]+606105819&4294967295,V=U+(C<<17&4294967295|C>>>15),C=x+(R^V&(U^R))+M[3]+3250441966&4294967295,x=V+(C<<22&4294967295|C>>>10),C=R+(U^x&(V^U))+M[4]+4118548399&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(V^R&(x^V))+M[5]+1200080426&4294967295,U=R+(C<<12&4294967295|C>>>20),C=V+(x^U&(R^x))+M[6]+2821735955&4294967295,V=U+(C<<17&4294967295|C>>>15),C=x+(R^V&(U^R))+M[7]+4249261313&4294967295,x=V+(C<<22&4294967295|C>>>10),C=R+(U^x&(V^U))+M[8]+1770035416&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(V^R&(x^V))+M[9]+2336552879&4294967295,U=R+(C<<12&4294967295|C>>>20),C=V+(x^U&(R^x))+M[10]+4294925233&4294967295,V=U+(C<<17&4294967295|C>>>15),C=x+(R^V&(U^R))+M[11]+2304563134&4294967295,x=V+(C<<22&4294967295|C>>>10),C=R+(U^x&(V^U))+M[12]+1804603682&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(V^R&(x^V))+M[13]+4254626195&4294967295,U=R+(C<<12&4294967295|C>>>20),C=V+(x^U&(R^x))+M[14]+2792965006&4294967295,V=U+(C<<17&4294967295|C>>>15),C=x+(R^V&(U^R))+M[15]+1236535329&4294967295,x=V+(C<<22&4294967295|C>>>10),C=R+(V^U&(x^V))+M[1]+4129170786&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^V&(R^x))+M[6]+3225465664&4294967295,U=R+(C<<9&4294967295|C>>>23),C=V+(R^x&(U^R))+M[11]+643717713&4294967295,V=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(V^U))+M[0]+3921069994&4294967295,x=V+(C<<20&4294967295|C>>>12),C=R+(V^U&(x^V))+M[5]+3593408605&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^V&(R^x))+M[10]+38016083&4294967295,U=R+(C<<9&4294967295|C>>>23),C=V+(R^x&(U^R))+M[15]+3634488961&4294967295,V=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(V^U))+M[4]+3889429448&4294967295,x=V+(C<<20&4294967295|C>>>12),C=R+(V^U&(x^V))+M[9]+568446438&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^V&(R^x))+M[14]+3275163606&4294967295,U=R+(C<<9&4294967295|C>>>23),C=V+(R^x&(U^R))+M[3]+4107603335&4294967295,V=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(V^U))+M[8]+1163531501&4294967295,x=V+(C<<20&4294967295|C>>>12),C=R+(V^U&(x^V))+M[13]+2850285829&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^V&(R^x))+M[2]+4243563512&4294967295,U=R+(C<<9&4294967295|C>>>23),C=V+(R^x&(U^R))+M[7]+1735328473&4294967295,V=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(V^U))+M[12]+2368359562&4294967295,x=V+(C<<20&4294967295|C>>>12),C=R+(x^V^U)+M[5]+4294588738&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^V)+M[8]+2272392833&4294967295,U=R+(C<<11&4294967295|C>>>21),C=V+(U^R^x)+M[11]+1839030562&4294967295,V=U+(C<<16&4294967295|C>>>16),C=x+(V^U^R)+M[14]+4259657740&4294967295,x=V+(C<<23&4294967295|C>>>9),C=R+(x^V^U)+M[1]+2763975236&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^V)+M[4]+1272893353&4294967295,U=R+(C<<11&4294967295|C>>>21),C=V+(U^R^x)+M[7]+4139469664&4294967295,V=U+(C<<16&4294967295|C>>>16),C=x+(V^U^R)+M[10]+3200236656&4294967295,x=V+(C<<23&4294967295|C>>>9),C=R+(x^V^U)+M[13]+681279174&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^V)+M[0]+3936430074&4294967295,U=R+(C<<11&4294967295|C>>>21),C=V+(U^R^x)+M[3]+3572445317&4294967295,V=U+(C<<16&4294967295|C>>>16),C=x+(V^U^R)+M[6]+76029189&4294967295,x=V+(C<<23&4294967295|C>>>9),C=R+(x^V^U)+M[9]+3654602809&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^V)+M[12]+3873151461&4294967295,U=R+(C<<11&4294967295|C>>>21),C=V+(U^R^x)+M[15]+530742520&4294967295,V=U+(C<<16&4294967295|C>>>16),C=x+(V^U^R)+M[2]+3299628645&4294967295,x=V+(C<<23&4294967295|C>>>9),C=R+(V^(x|~U))+M[0]+4096336452&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~V))+M[7]+1126891415&4294967295,U=R+(C<<10&4294967295|C>>>22),C=V+(R^(U|~x))+M[14]+2878612391&4294967295,V=U+(C<<15&4294967295|C>>>17),C=x+(U^(V|~R))+M[5]+4237533241&4294967295,x=V+(C<<21&4294967295|C>>>11),C=R+(V^(x|~U))+M[12]+1700485571&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~V))+M[3]+2399980690&4294967295,U=R+(C<<10&4294967295|C>>>22),C=V+(R^(U|~x))+M[10]+4293915773&4294967295,V=U+(C<<15&4294967295|C>>>17),C=x+(U^(V|~R))+M[1]+2240044497&4294967295,x=V+(C<<21&4294967295|C>>>11),C=R+(V^(x|~U))+M[8]+1873313359&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~V))+M[15]+4264355552&4294967295,U=R+(C<<10&4294967295|C>>>22),C=V+(R^(U|~x))+M[6]+2734768916&4294967295,V=U+(C<<15&4294967295|C>>>17),C=x+(U^(V|~R))+M[13]+1309151649&4294967295,x=V+(C<<21&4294967295|C>>>11),C=R+(V^(x|~U))+M[4]+4149444226&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~V))+M[11]+3174756917&4294967295,U=R+(C<<10&4294967295|C>>>22),C=V+(R^(U|~x))+M[2]+718787259&4294967295,V=U+(C<<15&4294967295|C>>>17),C=x+(U^(V|~R))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+U&4294967295}s.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var x=R-this.blockSize,M=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=x;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<R;)if(M[V++]=D.charCodeAt(U++),V==this.blockSize){o(this,M),V=0;break}}else for(;U<R;)if(M[V++]=D[U++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var x=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=x&255,x/=256;for(this.u(D),D=Array(16),R=x=0;4>R;++R)for(var M=0;32>M;M+=8)D[x++]=this.g[R]>>>M&255;return D};function u(D,R){var x=m;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=R(D)}function f(D,R){this.h=R;for(var x=[],M=!0,V=D.length-1;0<=V;V--){var U=D[V]|0;M&&U==R||(x[V]=U,M=!1)}this.g=x}var m={};function g(D){return-128<=D&&128>D?u(D,function(R){return new f([R|0],0>R?-1:0)}):new f([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return j(p(-D));for(var R=[],x=1,M=0;D>=x;M++)R[M]=D/x|0,x*=4294967296;return new f(R,0)}function E(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return j(E(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(R,8)),M=w,V=0;V<D.length;V+=8){var U=Math.min(8,D.length-V),C=parseInt(D.substring(V,V+U),R);8>U?(U=p(Math.pow(R,U)),M=M.j(U).add(p(C))):(M=M.j(x),M=M.add(p(C)))}return M}var w=g(0),A=g(1),O=g(16777216);i=f.prototype,i.m=function(){if(Q(this))return-j(this).m();for(var D=0,R=1,x=0;x<this.g.length;x++){var M=this.i(x);D+=(0<=M?M:4294967296+M)*R,R*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(N(this))return"0";if(Q(this))return"-"+j(this).toString(D);for(var R=p(Math.pow(D,6)),x=this,M="";;){var V=se(x,R).g;x=$(x,V.j(R));var U=((0<x.g.length?x.g[0]:x.h)>>>0).toString(D);if(x=V,N(x))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function N(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function Q(D){return D.h==-1}i.l=function(D){return D=$(this,D),Q(D)?-1:N(D)?0:1};function j(D){for(var R=D.g.length,x=[],M=0;M<R;M++)x[M]=~D.g[M];return new f(x,~D.h).add(A)}i.abs=function(){return Q(this)?j(this):this},i.add=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],M=0,V=0;V<=R;V++){var U=M+(this.i(V)&65535)+(D.i(V)&65535),C=(U>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);M=C>>>16,U&=65535,C&=65535,x[V]=C<<16|U}return new f(x,x[x.length-1]&-2147483648?-1:0)};function $(D,R){return D.add(j(R))}i.j=function(D){if(N(this)||N(D))return w;if(Q(this))return Q(D)?j(this).j(j(D)):j(j(this).j(D));if(Q(D))return j(this.j(j(D)));if(0>this.l(O)&&0>D.l(O))return p(this.m()*D.m());for(var R=this.g.length+D.g.length,x=[],M=0;M<2*R;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<D.g.length;V++){var U=this.i(M)>>>16,C=this.i(M)&65535,Tt=D.i(V)>>>16,nt=D.i(V)&65535;x[2*M+2*V]+=C*nt,ne(x,2*M+2*V),x[2*M+2*V+1]+=U*nt,ne(x,2*M+2*V+1),x[2*M+2*V+1]+=C*Tt,ne(x,2*M+2*V+1),x[2*M+2*V+2]+=U*Tt,ne(x,2*M+2*V+2)}for(M=0;M<R;M++)x[M]=x[2*M+1]<<16|x[2*M];for(M=R;M<2*R;M++)x[M]=0;return new f(x,0)};function ne(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function X(D,R){this.g=D,this.h=R}function se(D,R){if(N(R))throw Error("division by zero");if(N(D))return new X(w,w);if(Q(D))return R=se(j(D),R),new X(j(R.g),j(R.h));if(Q(R))return R=se(D,j(R)),new X(j(R.g),R.h);if(30<D.g.length){if(Q(D)||Q(R))throw Error("slowDivide_ only works with positive integers.");for(var x=A,M=R;0>=M.l(D);)x=le(x),M=le(M);var V=me(x,1),U=me(M,1);for(M=me(M,2),x=me(x,2);!N(M);){var C=U.add(M);0>=C.l(D)&&(V=V.add(x),U=C),M=me(M,1),x=me(x,1)}return R=$(D,V.j(R)),new X(V,R)}for(V=w;0<=D.l(R);){for(x=Math.max(1,Math.floor(D.m()/R.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=p(x),C=U.j(R);Q(C)||0<C.l(D);)x-=M,U=p(x),C=U.j(R);N(U)&&(U=A),V=V.add(U),D=$(D,C)}return new X(V,D)}i.A=function(D){return se(this,D).h},i.and=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],M=0;M<R;M++)x[M]=this.i(M)&D.i(M);return new f(x,this.h&D.h)},i.or=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],M=0;M<R;M++)x[M]=this.i(M)|D.i(M);return new f(x,this.h|D.h)},i.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],M=0;M<R;M++)x[M]=this.i(M)^D.i(M);return new f(x,this.h^D.h)};function le(D){for(var R=D.g.length+1,x=[],M=0;M<R;M++)x[M]=D.i(M)<<1|D.i(M-1)>>>31;return new f(x,D.h)}function me(D,R){var x=R>>5;R%=32;for(var M=D.g.length-x,V=[],U=0;U<M;U++)V[U]=0<R?D.i(U+x)>>>R|D.i(U+x+1)<<32-R:D.i(U+x);return new f(V,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,NT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Gi=f}).apply(typeof f0<"u"?f0:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DT,Vl,kT,nh,Vm,OT,MT,PT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var B=c[b];if(!(B in _))break e;_=_[B]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,B={next:function(){if(!b&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,b),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function N(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,B,Y){for(var oe=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)oe[Pe-2]=arguments[Pe];return y.prototype[B].apply(b,oe)}}function Q(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function j(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(g(b)){const B=c.length||0,Y=b.length||0;c.length=B+Y;for(let oe=0;oe<Y;oe++)c[B+oe]=b[oe]}else c.push(b)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ne(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var le=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function me(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(_ in b)c[_]=b[_];for(let Y=0;Y<x.length;Y++)_=x[Y],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Tt{constructor(){this.h=this.g=null}add(y,_){const b=nt.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var nt=new $(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,fe=!1,ze=new Tt,k=()=>{const c=m.Promise.resolve(void 0);ie=()=>{c.then(re)}};var re=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var y=nt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}fe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ce(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{se(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}N(Ce,ae);var we={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Wn(c,y,_,b,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=B,this.key=++Ze,this.da=this.fa=!1}function oi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sr(c){this.src=c,this.g={},this.h=0}Sr.prototype.add=function(c,y,_,b,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var oe=os(c,y,b,B);return-1<oe?(y=c[oe],_||(y.fa=!1)):(y=new Wn(y,this.src,Y,!!b,B),y.fa=_,c.push(y)),y};function as(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],B=Array.prototype.indexOf.call(b,y,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(b,B,1),Y&&(oi(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function os(c,y,_,b){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==b)return B}return-1}var ls="closure_lm_"+(1e6*Math.random()|0),bo={};function pu(c,y,_,b,B){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)pu(c,y[Y],_,b,B);return null}return _=yu(_),c&&c[Ct]?c.K(y,_,p(b)?!!b.capture:!1,B):bn(c,y,_,!1,b,B)}function bn(c,y,_,b,B,Y){if(!y)throw Error("Invalid event type");var oe=p(B)?!!B.capture:!!B,Pe=ra(c);if(Pe||(c[ls]=Pe=new Sr(c)),_=Pe.add(y,_,b,oe,Y),_.proxy)return _;if(b=rf(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ye||(B=oe),B===void 0&&(B=!1),c.addEventListener(y.toString(),b,B);else if(c.attachEvent)c.attachEvent(us(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function rf(){function c(_){return y.call(c.src,c.listener,_)}const y=sf;return c}function wo(c,y,_,b,B){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)wo(c,y[Y],_,b,B);else b=p(b)?!!b.capture:!!b,_=yu(_),c&&c[Ct]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=os(Y,_,b,B),-1<_&&(oi(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=ra(c))&&(y=c.g[y.toString()],c=-1,y&&(c=os(y,_,b,B)),(_=-1<c?y[c]:null)&&na(_))}function na(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ct])as(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(us(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=ra(y))?(as(_,c),_.h==0&&(_.src=null,y[ls]=null)):oi(c)}}}function us(c){return c in bo?bo[c]:bo[c]="on"+c}function sf(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&na(c),c=_.call(b,y)}return c}function ra(c){return c=c[ls],c instanceof Sr?c:null}var Ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function yu(c){return typeof c=="function"?c:(c[Ao]||(c[Ao]=function(y){return c.handleEvent(y)}),c[Ao])}function lt(){ue.call(this),this.i=new Sr(this),this.M=this,this.F=null}N(lt,ue),lt.prototype[Ct]=!0,lt.prototype.removeEventListener=function(c,y,_,b){wo(this,c,y,_,b)};function Fe(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var B=y;y=new ae(b,c),M(y,B)}if(B=!0,_)for(var Y=_.length-1;0<=Y;Y--){var oe=y.g=_[Y];B=fn(oe,b,!0,y)&&B}if(oe=y.g=c,B=fn(oe,b,!0,y)&&B,B=fn(oe,b,!1,y)&&B,_)for(Y=0;Y<_.length;Y++)oe=y.g=_[Y],B=fn(oe,b,!1,y)&&B}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)oi(_[b]);delete c.g[y],c.h--}}this.F=null},lt.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},lt.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function fn(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Y=0;Y<y.length;++Y){var oe=y[Y];if(oe&&!oe.da&&oe.capture==_){var Pe=oe.listener,wt=oe.ha||oe.src;oe.fa&&as(c.i,oe),B=Pe.call(wt,b)!==!1&&B}}return B&&!b.defaultPrevented}function Gt(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function _u(c){c.g=Gt(()=>{c.g=null,c.i&&(c.i=!1,_u(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class af extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(c){ue.call(this),this.h=c,this.g={}}N(cs,ue);var hs=[];function fs(c){me(c.g,function(y,_){this.g.hasOwnProperty(_)&&na(y)},c),c.g={}}cs.prototype.N=function(){cs.aa.N.call(this),fs(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=m.JSON.stringify,ia=m.JSON.parse,ds=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function So(){}So.prototype.h=null;function Ro(c){return c.h||(c.h=c.i())}function xo(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){ae.call(this,"d")}N(xr,ae);function Io(){ae.call(this,"c")}N(Io,ae);var Zn={},Co=null;function li(){return Co=Co||new lt}Zn.La="serverreachability";function sa(c){ae.call(this,Zn.La,c)}N(sa,ae);function ui(c){const y=li();Fe(y,new sa(y))}Zn.STAT_EVENT="statevent";function vu(c,y){ae.call(this,Zn.STAT_EVENT,c),this.stat=y}N(vu,ae);function rt(c){const y=li();Fe(y,new vu(y,c))}Zn.Ma="timingevent";function bt(c,y){ae.call(this,Zn.Ma,c),this.size=y}N(bt,ae);function gt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function No(c,y,_,b,B,Y){c.info(function(){if(c.g)if(Y)for(var oe="",Pe=Y.split("&"),wt=0;wt<Pe.length;wt++){var Ve=Pe[wt].split("=");if(1<Ve.length){var Dt=Ve[0];Ve=Ve[1];var At=Dt.split("_");oe=2<=At.length&&At[1]=="type"?oe+(Dt+"="+Ve+"&"):oe+(Dt+"=redacted&")}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+y+`
`+_+`
`+oe})}function of(c,y,_,b,B,Y,oe){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+y+`
`+_+`
`+Y+" "+oe})}function ci(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ms(c,_)+(b?" "+b:"")})}function Eu(c,y){c.info(function(){return"TIMEOUT: "+y})}wn.prototype.info=function(){};function ms(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var B=b[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var oe=1;oe<B.length;oe++)B[oe]=""}}}}return Vn(_)}catch{return y}}var hi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function er(){}N(er,So),er.prototype.g=function(){return new XMLHttpRequest},er.prototype.i=function(){return{}},Jn=new er;function Zt(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var Do={},aa={};function Ln(c,y,_){c.L=1,c.v=vs(dn(y)),c.m=_,c.P=!0,Cr(c,null)}function Cr(c,y){c.F=Date.now(),gs(c),c.A=dn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Lo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new ht,c.g=Vu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new af(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(hs[0]=B.toString()),B=hs);for(var Y=0;Y<B.length;Y++){var oe=pu(_,B[Y],b||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ui(),No(c.i,c.u,c.A,c.l,c.R,c.m)}Zt.prototype.ca=function(c){c=c.target;const y=this.M;y&&xn(c)==3?y.j():this.Y(c)},Zt.prototype.Y=function(c){try{if(c==this.g)e:{const At=xn(this.g);var y=this.g.Ba();const Lr=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Iu(this.g)))){this.J||At!=4||y==7||(y==8||0>=Lr?ui(3):ui(2)),fi(this);var _=this.g.Z();this.X=_;t:if(Tu(this)){var b=Iu(this.g);c="";var B=b.length,Y=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vt(this),tr(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Y&&y==B-1)});b.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,of(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,wt=this.g;if((Pe=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Pe)){var Ve=Pe;break t}}Ve=null}if(_=Ve)ci(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ps(this,_);else{this.o=!1,this.s=3,rt(12),Vt(this),tr(this);break e}}if(this.P){_=!0;let Lt;for(;!this.J&&this.C<oe.length;)if(Lt=bu(this,oe),Lt==aa){At==4&&(this.s=4,rt(14),_=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==Do){this.s=4,rt(15),ci(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else ci(this.i,this.l,Lt,null),ps(this,Lt);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||oe.length!=0||this.h.h||(this.s=1,rt(16),_=!1),this.o=this.o&&_,!_)ci(this.i,this.l,oe,"[Invalid Chunked Response]"),Vt(this),tr(this);else if(0<oe.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),xs(Dt),Dt.M=!0,rt(11))}}else ci(this.i,this.l,oe,null),ps(this,oe);At==4&&Vt(this),this.o&&!this.J&&(At==4?Ou(this.j,this):(this.o=!1,gs(this)))}else ff(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Vt(this),tr(this)}}}catch{}finally{}};function Tu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function bu(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?aa:(_=Number(y.substring(_,b)),isNaN(_)?Do:(b+=1,b+_>y.length?aa:(y=y.slice(b,b+_),c.C=b+_,y)))}Zt.prototype.cancel=function(){this.J=!0,Vt(this)};function gs(c){c.S=Date.now()+c.I,wu(c,c.I)}function wu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gt(A(c.ba,c),y)}function fi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Zt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Eu(this.i,this.A),this.L!=2&&(ui(),rt(17)),Vt(this),this.s=2,tr(this)):wu(this,this.S-c)};function tr(c){c.j.G==0||c.J||Ou(c.j,c)}function Vt(c){fi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,fs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ps(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||ko(_.h,c))){if(!c.K&&ko(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)_a(_),pa(_);else break e;qo(_),rt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=gt(A(_.Za,_),6e3));if(1>=la(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vr(_,11)}else if((c.K||_.g==c)&&_a(_),!ne(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Ve=B[y];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const Dt=Ve[3];Dt!=null&&(_.la=Dt,_.j.info("VER="+_.la));const At=Ve[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const Lr=Ve[5];Lr!=null&&typeof Lr=="number"&&0<Lr&&(b=1.5*Lr,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Lt=c.g;if(Lt){const lr=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lr){var Y=b.h;Y.g||lr.indexOf("spdy")==-1&&lr.indexOf("quic")==-1&&lr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ua(Y,Y.h),Y.h=null))}if(b.D){const Fo=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(b.ya=Fo,Qe(b.I,b.D,Fo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var oe=c;if(b.qa=Pu(b,b.J?b.ia:null,b.W),oe.K){Jt(b.h,oe);var Pe=oe,wt=b.L;wt&&(Pe.I=wt),Pe.B&&(fi(Pe),gs(Pe)),b.g=oe}else Du(b);0<_.i.length&&ya(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Vr(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Vr(_,7):zo(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}ui(4)}catch{}}var Au=class{constructor(c,y){this.g=c,this.map=y}};function Nr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function la(c){return c.h?1:c.g?c.g.size:0}function ko(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ua(c,y){c.g?c.g.add(y):c.h=y}function Jt(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Nr.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Q(c.i)}function lf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function ca(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function Mo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ca(c),b=lf(c),B=b.length,Y=0;Y<B;Y++)y.call(void 0,b[Y],_&&_[Y],c)}var ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),B=null;if(0<=b){var Y=c[_].substring(0,b);B=c[_].substring(b+1)}else Y=c[_];y(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,_s(this,c.j),this.o=c.o,this.g=c.g,di(this,c.s),this.l=c.l;var y=c.i,_=new kr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Dr(this,_),this.m=c.m}else c&&(y=String(c).match(ys))?(this.h=!1,_s(this,y[1]||"",!0),this.o=An(y[2]||""),this.g=An(y[3]||"",!0),di(this,y[4]),this.l=An(y[5]||"",!0),Dr(this,y[6]||"",!0),this.m=An(y[7]||"")):(this.h=!1,this.i=new kr(null,this.h))}pt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Es(y,Po,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Es(y,Po,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Es(_,_.charAt(0)=="/"?cf:Vo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Es(_,ha)),c.join("")};function dn(c){return new pt(c)}function _s(c,y,_){c.j=_?An(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function di(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Dr(c,y,_){y instanceof kr?(c.i=y,Ru(c.i,c.h)):(_||(y=Es(y,hf)),c.i=new kr(y,c.h))}function Qe(c,y,_){c.i.set(y,_)}function vs(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Su),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Su(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Po=/[#\/\?@]/g,Vo=/[#\?:]/g,cf=/[#\?]/g,hf=/[#\?@]/g,ha=/#/g;function kr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&uf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=kr.prototype,i.add=function(c,y){Sn(this),this.i=null,c=nr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Or(c,y){Sn(c),y=nr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Mr(c,y){return Sn(c),y=nr(c,y),c.g.has(y)}i.forEach=function(c,y){Sn(this),this.g.forEach(function(_,b){_.forEach(function(B){c.call(y,B,b,this)},this)},this)},i.na=function(){Sn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const B=c[b];for(let Y=0;Y<B.length;Y++)_.push(y[b])}return _},i.V=function(c){Sn(this);let y=[];if(typeof c=="string")Mr(this,c)&&(y=y.concat(this.g.get(nr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Sn(this),this.i=null,c=nr(this,c),Mr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Lo(c,y,_){Or(c,y),0<_.length&&(c.i=null,c.g.set(nr(c,y),Q(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Y=encodeURIComponent(String(b)),oe=this.V(b);for(b=0;b<oe.length;b++){var B=Y;oe[b]!==""&&(B+="="+encodeURIComponent(String(oe[b]))),c.push(B)}}return this.i=c.join("&")};function nr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ru(c,y){y&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(_,b){var B=b.toLowerCase();b!=B&&(Or(this,b),Lo(this,B,_))},c)),c.j=y}function Ts(c,y){const _=new wn;if(m.Image){const b=new Image;b.onload=O(Rn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=O(Rn,_,"TestLoadImage: error",!1,y,b),b.onabort=O(Rn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=O(Rn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Un(c,y){const _=new wn,b=new AbortController,B=setTimeout(()=>{b.abort(),Rn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Y=>{clearTimeout(B),Y.ok?Rn(_,"TestPingServer: ok",!0,y):Rn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Rn(_,"TestPingServer: error",!1,y)})}function Rn(c,y,_,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(_)}catch{}}function bs(){this.g=new ds}function rr(c,y,_){const b=_||"";try{Mo(c,function(B,Y){let oe=B;p(B)&&(oe=Vn(B)),y.push(b+Y+"="+encodeURIComponent(oe))})}catch(B){throw y.push(b+"type="+encodeURIComponent("_badmap")),B}}function mi(c){this.l=c.Ub||null,this.j=c.eb||!1}N(mi,So),mi.prototype.g=function(){return new Pr(this.l,this.j)},mi.prototype.i=function(c){return function(){return c}}({});function Pr(c,y){lt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Pr,lt),i=Pr.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,sr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ir(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,sr(this)),this.g&&(this.readyState=3,sr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ir(this):sr(this),this.readyState==3&&Uo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ir(this))},i.Qa=function(c){this.g&&(this.response=c,ir(this))},i.ga=function(){this.g&&ir(this)};function ir(c){c.readyState=4,c.l=null,c.j=null,c.v=null,sr(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function sr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jo(c){let y="";return me(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Nt(c,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=jo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,y,_))}function qe(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(qe,lt);var fa=/^https?$/i,ws=["POST","PUT"];i=qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?Ro(this.o):Ro(Jn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){xu(this,Y);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)_.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())_.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ws,y,void 0))||b||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of _)this.g.setRequestHeader(Y,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){xu(this,Y)}};function xu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,da(c),ar(c)}function da(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),ar(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ma(this):this.bb())},i.bb=function(){ma(this)};function ma(c){if(c.h&&typeof f<"u"&&(!c.v[1]||xn(c)!=4||c.Z()!=2)){if(c.u&&xn(c)==4)Gt(c.Ea,0,c);else if(Fe(c,"readystatechange"),xn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=oe===0){var B=String(c.D).match(ys)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),b=!fa.test(B?B.toLowerCase():"")}_=b}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var Y=2<xn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",da(c)}}finally{ar(c)}}}}function ar(c,y){if(c.g){As(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=b}catch{}}}function As(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function xn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ia(y)}};function Iu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ff(c){const y={};c=(c.g&&2<=xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ne(c[b]))continue;var _=V(c[b]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[B]||[];y[B]=Y,Y.push(_)}D(y,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ga(c){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,c),this.cb=Ss("retryDelaySeedMs",1e4,c),this.Wa=Ss("forwardChannelMaxRetries",2,c),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Nr(c&&c.concurrentRequestLimit),this.Da=new bs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ga.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,b){rt(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Pu(this,null,this.W),ya(this)};function zo(c){if(Cu(c),c.G==3){var y=c.U++,_=dn(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),Rs(c,_),y=new Zt(c,c.j,y),y.L=2,y.v=vs(dn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Vu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),gs(y)}Mu(c)}function pa(c){c.g&&(xs(c),c.g.cancel(),c.g=null)}function Cu(c){pa(c),c.u&&(m.clearTimeout(c.u),c.u=null),_a(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ya(c){if(!oa(c.h)&&!c.s){c.s=!0;var y=c.Ga;ie||k(),fe||(ie(),fe=!0),ze.add(y,c),c.B=0}}function df(c,y){return la(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gt(A(c.Ga,c,y),Ho(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Zt(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Nu(this,B,y),_=dn(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),Rs(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(jo(Y)))+"&"+y:this.m&&Nt(_,this.m,Y)),ua(this.h,B),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",y),Qe(_,"SID","null"),B.T=!0,Ln(B,_,null)):Ln(B,_,y),this.G=2}}else this.G==3&&(c?Bo(this,c):this.i.length==0||oa(this.h)||Bo(this))};function Bo(c,y){var _;y?_=y.l:_=c.U++;const b=dn(c.I);Qe(b,"SID",c.K),Qe(b,"RID",_),Qe(b,"AID",c.T),Rs(c,b),c.m&&c.o&&Nt(b,c.m,c.o),_=new Zt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Nu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ua(c.h,_),Ln(_,b,y)}function Rs(c,y){c.H&&me(c.H,function(_,b){Qe(y,b,_)}),c.l&&Mo({},function(_,b){Qe(y,b,_)})}function Nu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?A(c.l.Na,c.l,c):null;e:{var B=c.i;let Y=-1;for(;;){const oe=["count="+_];Y==-1?0<_?(Y=B[0].g,oe.push("ofs="+Y)):Y=0:oe.push("ofs="+Y);let Pe=!0;for(let wt=0;wt<_;wt++){let Ve=B[wt].g;const Dt=B[wt].map;if(Ve-=Y,0>Ve)Y=Math.max(0,B[wt].g-100),Pe=!1;else try{rr(Dt,oe,"req"+Ve+"_")}catch{b&&b(Dt)}}if(Pe){b=oe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,b}function Du(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ie||k(),fe||(ie(),fe=!0),ze.add(y,c),c.v=0}}function qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gt(A(c.Fa,c),Ho(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gt(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),pa(this),ku(this))};function xs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ku(c){c.g=new Zt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=dn(c.qa);Qe(y,"RID","rpc"),Qe(y,"SID",c.K),Qe(y,"AID",c.T),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(y,"TO",c.ja),Qe(y,"TYPE","xmlhttp"),Rs(c,y),c.m&&c.o&&Nt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=vs(dn(y)),_.m=null,_.P=!0,Cr(_,c)}i.Za=function(){this.C!=null&&(this.C=null,pa(this),qo(this),rt(19))};function _a(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ou(c,y){var _=null;if(c.g==y){_a(c),xs(c),c.g=null;var b=2}else if(ko(c.h,y))_=y.D,Jt(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;b=li(),Fe(b,new bt(b,_)),ya(c)}else Du(c);else if(B=y.s,B==3||B==0&&0<y.X||!(b==1&&df(c,y)||b==2&&qo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Vr(c,5);break;case 4:Vr(c,10);break;case 3:Vr(c,6);break;default:Vr(c,2)}}}function Ho(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Vr(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),b=c.Xa;const B=!b;b=new pt(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_s(b,"https"),vs(b),B?Ts(b.toString(),_):Un(b.toString(),_)}else rt(2);c.G=0,c.l&&c.l.sa(y),Mu(c),Cu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Mu(c){if(c.G=0,c.ka=[],c.l){const y=Oo(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Pu(c,y,_){var b=_ instanceof pt?dn(_):new pt(_);if(b.g!="")y&&(b.g=y+"."+b.g),di(b,b.s);else{var B=m.location;b=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Y=new pt(null);b&&_s(Y,b),y&&(Y.g=y),B&&di(Y,B),_&&(Y.l=_),b=Y}return _=c.D,y=c.ya,_&&y&&Qe(b,_,y),Qe(b,"VER",c.la),Rs(c,b),b}function Vu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qe(new mi({eb:_})):new qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}i=Lu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function va(){}va.prototype.g=function(c,y){return new en(c,y)};function en(c,y){lt.call(this),this.g=new ga(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ne(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ne(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new or(this)}N(en,lt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){zo(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Vn(c),c=_);y.i.push(new Au(y.Ya++,c)),y.G==3&&ya(y)},en.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,en.aa.N.call(this)};function Uu(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(Uu,xr);function ju(){Io.call(this),this.status=1}N(ju,Io);function or(c){this.g=c}N(or,Lu),or.prototype.ua=function(){Fe(this.g,"a")},or.prototype.ta=function(c){Fe(this.g,new Uu(c))},or.prototype.sa=function(c){Fe(this.g,new ju)},or.prototype.ra=function(){Fe(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,PT=function(){return new va},MT=function(){return li()},OT=Zn,Vm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hi.NO_ERROR=0,hi.TIMEOUT=8,hi.HTTP_ERROR=6,nh=hi,Ir.COMPLETE="complete",kT=Ir,xo.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Vl=xo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,DT=qe}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const d0="@firebase/firestore",m0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new hg("@firebase/firestore");function Ya(){return $s.logLevel}function he(i,...e){if($s.logLevel<=Oe.DEBUG){const n=e.map(Ag);$s.debug(`Firestore (${yo}): ${i}`,...n)}}function ri(i,...e){if($s.logLevel<=Oe.ERROR){const n=e.map(Ag);$s.error(`Firestore (${yo}): ${i}`,...n)}}function io(i,...e){if($s.logLevel<=Oe.WARN){const n=e.map(Ag);$s.warn(`Firestore (${yo}): ${i}`,...n)}}function Ag(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,VT(i,s,n)}function VT(i,e,n){let s=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ri(s),new Error(s)}function He(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||VT(e,o,s)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _C{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class vC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class EC{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ki,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ki)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new LT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class TC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new TC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new g0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new g0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=AC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ie(i,e){return i<e?-1:i>e?1:0}function Lm(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ie(s,o);{const u=UT(),f=SC(u.encode(p0(i,n)),u.encode(p0(e,n)));return f!==0?f:Ie(s,o)}}n+=s>65535?2:1}return Ie(i.length,e.length)}function p0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function SC(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ie(i[n],e[n]);return Ie(i.length,e.length)}function so(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=-62135596800,_0=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*_0);return new xt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<y0)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_0}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-y0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new xt(0,0))}static max(){return new Ae(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="__name__";class mr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=mr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ie(e.length,n.length)}static compareSegments(e,n){const s=mr.isNumericId(e),o=mr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?mr.extractNumericId(e).compare(mr.extractNumericId(n)):Lm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class tt extends mr{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const RC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends mr{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return RC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v0}static keyField(){return new Ht([v0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(tt.fromString(e))}static fromName(e){return new pe(tt.fromString(e).popFirst(5))}static empty(){return new pe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function xC(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new xt(n+1,0):new xt(n,s));return new Xi(o,pe.empty(),e)}function IC(i){return new Xi(i.readTime,i.key,Yl)}class Xi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xi(Ae.min(),pe.empty(),Yl)}static max(){return new Xi(Ae.max(),pe.empty(),Yl)}}function CC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:Ie(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==NC)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,s)=>{n(e)})}static reject(e){return new te((n,s)=>{s(e)})}static waitFor(e){return new te((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next(o=>o?te.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new te((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next(E=>{f[p]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new te((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function kC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Vh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=-1;function Lh(i){return i==null}function yh(i){return i===0&&1/i==-1/0}function OC(i){return typeof i=="number"&&Number.isInteger(i)&&!yh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="";function MC(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=E0(e)),e=PC(i.get(n),e);return E0(e)}function PC(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case zT:n+="";break;default:n+=u}}return n}function E0(i){return i+zT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function is(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function BT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b0(this.data.getIterator())}getIteratorFrom(e){return new b0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class b0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new It(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new qT("Invalid base64 string: "+u):u}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const VC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(i){if(He(!!i,39018),typeof i=="string"){let e=0;const n=VC.exec(i);if(He(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(i.seconds),nanos:mt(i.nanos)}}function mt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zi(i){return typeof i=="string"?Ft.fromBase64String(i):Ft.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="server_timestamp",FT="__type__",GT="__previous_value__",KT="__local_write_time__";function Rg(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[FT])===null||n===void 0?void 0:n.stringValue)===HT}function Uh(i){const e=i.mapValue.fields[GT];return Rg(e)?Uh(e):e}function $l(i){const e=Wi(i.mapValue.fields[KT].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,s,o,u,f,m,g,p){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p}}const _h="(default)";class Xl{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="__type__",UC="__max__",Fc={mapValue:{}},YT="__vector__",vh="value";function Ji(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Rg(i)?4:zC(i)?9007199254740991:jC(i)?10:11:Te(28295,{value:i})}function Tr(i,e){if(i===e)return!0;const n=Ji(i);if(n!==Ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $l(i).isEqual($l(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Wi(o.timestampValue),m=Wi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Zi(o.bytesValue).isEqual(Zi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mt(o.doubleValue),m=mt(u.doubleValue);return f===m?yh(f)===yh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return so(i.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(T0(f)!==T0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Tr(f[g],m[g])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function Wl(i,e){return(i.values||[]).find(n=>Tr(n,e))!==void 0}function ao(i,e){if(i===e)return 0;const n=Ji(i),s=Ji(e);if(n!==s)return Ie(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=mt(u.integerValue||u.doubleValue),g=mt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return w0(i.timestampValue,e.timestampValue);case 4:return w0($l(i),$l(e));case 5:return Lm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Zi(u),g=Zi(f);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Ie(m[p],g[p]);if(E!==0)return E}return Ie(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ie(mt(u.latitude),mt(f.latitude));return m!==0?m:Ie(mt(u.longitude),mt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return A0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,p,E;const w=u.fields||{},A=f.fields||{},O=(m=w[vh])===null||m===void 0?void 0:m.arrayValue,N=(g=A[vh])===null||g===void 0?void 0:g.arrayValue,Q=Ie(((p=O==null?void 0:O.values)===null||p===void 0?void 0:p.length)||0,((E=N==null?void 0:N.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:A0(O,N)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let w=0;w<g.length&&w<E.length;++w){const A=Lm(g[w],E[w]);if(A!==0)return A;const O=ao(m[g[w]],p[E[w]]);if(O!==0)return O}return Ie(g.length,E.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{Pe:n})}}function w0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ie(i,e);const n=Wi(i),s=Wi(e),o=Ie(n.seconds,s.seconds);return o!==0?o:Ie(n.nanos,s.nanos)}function A0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ao(n[o],s[o]);if(u)return u}return Ie(n.length,s.length)}function oo(i){return Um(i)}function Um(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Wi(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Zi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return pe.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Um(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Um(n.fields[f])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function rh(i){switch(Ji(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(i);return e?16+rh(e):16;case 5:return 2*i.stringValue.length;case 6:return Zi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+rh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return is(s.fields,(u,f)=>{o+=u.length+rh(f)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function S0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function jm(i){return!!i&&"integerValue"in i}function xg(i){return!!i&&"arrayValue"in i}function R0(i){return!!i&&"nullValue"in i}function x0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ih(i){return!!i&&"mapValue"in i}function jC(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[QT])===null||n===void 0?void 0:n.stringValue)===YT}function Bl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return is(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Bl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function zC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===UC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){is(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new cn(Bl(this.value))}}function $T(i){const e=[];return is(i.fields,(n,s)=>{const o=new Ht([n]);if(ih(s)){const u=$T(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,Ae.min(),Ae.min(),Ae.min(),cn.empty(),0)}static newFoundDocument(e,n,s,o){return new Xt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,Ae.min(),Ae.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,Ae.min(),Ae.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function I0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=ao(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function C0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Tr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function BC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{}class Et extends XT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new HC(e,n,s):n==="array-contains"?new KC(e,s):n==="in"?new QC(e,s):n==="not-in"?new YC(e,s):n==="array-contains-any"?new $C(e,s):new Et(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new FC(e,s):new GC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ao(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends XT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new $n(e,n)}matches(e){return WT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function WT(i){return i.op==="and"}function ZT(i){return qC(i)&&WT(i)}function qC(i){for(const e of i.filters)if(e instanceof $n)return!1;return!0}function zm(i){if(i instanceof Et)return i.field.canonicalString()+i.op.toString()+oo(i.value);if(ZT(i))return i.filters.map(e=>zm(e)).join(",");{const e=i.filters.map(n=>zm(n)).join(",");return`${i.op}(${e})`}}function JT(i,e){return i instanceof Et?function(s,o){return o instanceof Et&&s.op===o.op&&s.field.isEqual(o.field)&&Tr(s.value,o.value)}(i,e):i instanceof $n?function(s,o){return o instanceof $n&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&JT(f,o.filters[m]),!0):!1}(i,e):void Te(19439)}function eb(i){return i instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`}(i):i instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map(eb).join(" ,")+"}"}(i):"Filter"}class HC extends Et{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class FC extends Et{constructor(e,n){super(e,"in",n),this.keys=tb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GC extends Et{constructor(e,n){super(e,"not-in",n),this.keys=tb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tb(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pe.fromName(s.referenceValue))}class KC extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xg(n)&&Wl(n.arrayValue,this.value)}}class QC extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class YC extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class $C extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function N0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new XC(i,e,n,s,o,u,f)}function Ig(i){const e=Se(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>zm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>oo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>oo(s)).join(",")),e.Ie=n}return e.Ie}function Cg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!BC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!JT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!C0(i.startAt,e.startAt)&&C0(i.endAt,e.endAt)}function Bm(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function WC(i,e,n,s,o,u,f,m){return new Eo(i,e,n,s,o,u,f,m)}function jh(i){return new Eo(i)}function D0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function nb(i){return i.collectionGroup!==null}function ql(i){const e=Se(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(Ht.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Zl(u,s))}),n.has(Ht.keyField().canonicalString())||e.Ee.push(new Zl(Ht.keyField(),s))}return e.Ee}function vr(i){const e=Se(i);return e.de||(e.de=ZC(e,ql(i))),e.de}function ZC(i,e){if(i.limitType==="F")return N0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Zl(o.field,u)});const n=i.endAt?new Eh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Eh(i.startAt.position,i.startAt.inclusive):null;return N0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function qm(i,e){const n=i.filters.concat([e]);return new Eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Hm(i,e,n){return new Eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function zh(i,e){return Cg(vr(i),vr(e))&&i.limitType===e.limitType}function rb(i){return`${Ig(vr(i))}|lt:${i.limitType}`}function $a(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>eb(o)).join(", ")}]`),Lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>oo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>oo(o)).join(",")),`Target(${s})`}(vr(i))}; limitType=${i.limitType})`}function Bh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,g){const p=I0(f,m,g);return f.inclusive?p<=0:p<0}(s.startAt,ql(s),o)||s.endAt&&!function(f,m,g){const p=I0(f,m,g);return f.inclusive?p>=0:p>0}(s.endAt,ql(s),o))}(i,e)}function JC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ib(i){return(e,n)=>{let s=!1;for(const o of ql(i)){const u=e2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function e2(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?ao(g,p):Te(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return BT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=new ot(pe.comparator);function ii(){return t2}const sb=new ot(pe.comparator);function Ll(...i){let e=sb;for(const n of i)e=e.insert(n.key,n);return e}function ab(i){let e=sb;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Fs(){return Hl()}function ob(){return Hl()}function Hl(){return new Js(i=>i.toString(),(i,e)=>i.isEqual(e))}const n2=new ot(pe.comparator),r2=new It(pe.comparator);function Me(...i){let e=r2;for(const n of i)e=e.add(n);return e}const i2=new It(Ie);function s2(){return i2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function lb(i){return{integerValue:""+i}}function a2(i,e){return OC(e)?lb(e):Ng(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function o2(i,e,n){return i instanceof Jl?function(o,u){const f={fields:{[FT]:{stringValue:HT},[KT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Rg(u)&&(u=Uh(u)),u&&(f.fields[GT]=u),{mapValue:f}}(n,e):i instanceof eu?cb(i,e):i instanceof tu?hb(i,e):function(o,u){const f=ub(o,u),m=k0(f)+k0(o.Re);return jm(f)&&jm(o.Re)?lb(m):Ng(o.serializer,m)}(i,e)}function l2(i,e,n){return i instanceof eu?cb(i,e):i instanceof tu?hb(i,e):n}function ub(i,e){return i instanceof Th?function(s){return jm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Jl extends qh{}class eu extends qh{constructor(e){super(),this.elements=e}}function cb(i,e){const n=fb(e);for(const s of i.elements)n.some(o=>Tr(o,s))||n.push(s);return{arrayValue:{values:n}}}class tu extends qh{constructor(e){super(),this.elements=e}}function hb(i,e){let n=fb(e);for(const s of i.elements)n=n.filter(o=>!Tr(o,s));return{arrayValue:{values:n}}}class Th extends qh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function k0(i){return mt(i.integerValue||i.doubleValue)}function fb(i){return xg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.field=e,this.transform=n}}function c2(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof eu&&o instanceof eu||s instanceof tu&&o instanceof tu?so(s.elements,o.elements,Tr):s instanceof Th&&o instanceof Th?Tr(s.Re,o.Re):s instanceof Jl&&o instanceof Jl}(i.transform,e.transform)}class h2{constructor(e,n){this.version=e,this.transformResults=n}}class hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hn}static exists(e){return new hn(void 0,e)}static updateTime(e){return new hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Hh{}function db(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Fh(i.key,hn.none()):new cu(i.key,i.data,hn.none());{const n=i.data,s=cn.empty();let o=new It(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ss(i.key,s,new Tn(o.toArray()),hn.none())}}function f2(i,e,n){i instanceof cu?function(o,u,f){const m=o.value.clone(),g=M0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ss?function(o,u,f){if(!sh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=M0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(mb(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Fl(i,e,n,s){return i instanceof cu?function(u,f,m,g){if(!sh(u.precondition,f))return m;const p=u.value.clone(),E=P0(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null}(i,e,n,s):i instanceof ss?function(u,f,m,g){if(!sh(u.precondition,f))return m;const p=P0(u.fieldTransforms,g,f),E=f.data;return E.setAll(mb(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,f,m){return sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function d2(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=ub(s.transform,o||null);u!=null&&(n===null&&(n=cn.empty()),n.set(s.field,u))}return n||null}function O0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&so(s,o,(u,f)=>c2(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class cu extends Hh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ss extends Hh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mb(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function M0(i,e,n){const s=new Map;He(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,l2(f,m,n[o]))}return s}function P0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,o2(u,f,e))}return s}class Fh extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m2 extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&f2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ob();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=db(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,(n,s)=>O0(n,s))&&so(this.baseMutations,e.baseMutations,(n,s)=>O0(n,s))}}class Dg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return n2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Dg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Ue;function _2(i){switch(i){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function gb(i){if(i===void 0)return ri("GRPC error has no .code"),J.UNKNOWN;switch(i){case vt.OK:return J.OK;case vt.CANCELLED:return J.CANCELLED;case vt.UNKNOWN:return J.UNKNOWN;case vt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case vt.INTERNAL:return J.INTERNAL;case vt.UNAVAILABLE:return J.UNAVAILABLE;case vt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case vt.NOT_FOUND:return J.NOT_FOUND;case vt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case vt.ABORTED:return J.ABORTED;case vt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case vt.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:i})}}(Ue=vt||(vt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new Gi([4294967295,4294967295],0);function V0(i){const e=UT().encode(i),n=new NT;return n.update(e),new Uint8Array(n.digest())}function L0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Gi([n,s],0),new Gi([o,u],0)]}class kg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(s<0)throw new Ul(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Gi.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(Gi.fromNumber(s)));return o.compare(v2)===1&&(o=new Gi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=V0(e),[s,o]=L0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new kg(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=V0(e),[s,o]=L0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Gh(Ae.min(),o,new ot(Ie),ii(),Me())}}class hu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new hu(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class pb{constructor(e,n){this.targetId=e,this.Ce=n}}class yb{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class U0{constructor(){this.Fe=0,this.Me=j0(),this.xe=Ft.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),n=Me(),s=Me();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new hu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=j0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class E2{constructor(e){this.ze=e,this.je=new Map,this.He=ii(),this.Je=Gc(),this.Ye=Gc(),this.Ze=new ot(Ie)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Bm(u))if(s===0){const f=new pe(u.path);this.tt(n,f,Xt.newNoDocument(f,Ae.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),g=m?this.lt(m,e,f):1;if(g!==0){this.st(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Zi(s).toUint8Array()}catch(g){if(g instanceof qT)return io("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new kg(f,o,u)}catch(g){return io(g instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Bm(m.target)){const g=new pe(m.target.path);this.Et(g).has(f)||this.dt(f,g)||this.tt(f,g,Xt.newNoDocument(g,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Me();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const p=this._t(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Gh(e,n,this.Ze,this.He,s);return this.He=ii(),this.Je=Gc(),this.Ye=Gc(),this.Ze=new ot(Ie),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new U0,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new It(Ie),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new It(Ie),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new U0),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new ot(pe.comparator)}function j0(){return new ot(pe.comparator)}const T2={asc:"ASCENDING",desc:"DESCENDING"},b2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w2={and:"AND",or:"OR"};class A2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fm(i,e){return i.useProto3Json||Lh(e)?e:{value:e}}function bh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _b(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function S2(i,e){return bh(i,e.toTimestamp())}function Er(i){return He(!!i,49232),Ae.fromTimestamp(function(n){const s=Wi(n);return new xt(s.seconds,s.nanos)}(i))}function Og(i,e){return Gm(i,e).canonicalString()}function Gm(i,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function vb(i){const e=tt.fromString(i);return He(Ab(e),10190,{key:e.toString()}),e}function Km(i,e){return Og(i.databaseId,e.path)}function vm(i,e){const n=vb(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(Tb(n))}function Eb(i,e){return Og(i.databaseId,e)}function R2(i){const e=vb(i);return e.length===4?tt.emptyPath():Tb(e)}function Qm(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Tb(i){return He(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function z0(i,e,n){return{name:Km(i,e),fields:n.value.mapValue.fields}}function x2(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,E){return p.useProto3Json?(He(E===void 0||typeof E=="string",58123),Ft.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ft.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(p){const E=p.code===void 0?J.UNKNOWN:gb(p.code);return new ce(E,p.message||"")}(f);n=new yb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=vm(i,s.document.name),u=Er(s.document.updateTime),f=s.document.createTime?Er(s.document.createTime):Ae.min(),m=new cn({mapValue:{fields:s.document.fields}}),g=Xt.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new ah(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=vm(i,s.document),u=s.readTime?Er(s.readTime):Ae.min(),f=Xt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ah([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=vm(i,s.document),u=s.removedTargetIds||[];n=new ah([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new y2(o,u),m=s.targetId;n=new pb(m,f)}}return n}function I2(i,e){let n;if(e instanceof cu)n={update:z0(i,e.key,e.value)};else if(e instanceof Fh)n={delete:Km(i,e.key)};else if(e instanceof ss)n={update:z0(i,e.key,e.data),updateMask:L2(e.fieldMask)};else{if(!(e instanceof m2))return Te(16599,{ft:e.type});n={verify:Km(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Th)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Te(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:S2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),n}function C2(i,e){return i&&i.length>0?(He(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?Er(o.updateTime):Er(u);return f.isEqual(Ae.min())&&(f=Er(u)),new h2(f,o.transformResults||[])}(n,e))):[]}function N2(i,e){return{documents:[Eb(i,e.path)]}}function D2(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Eb(i,o);const u=function(p){if(p.length!==0)return wb($n.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(p){if(p.length!==0)return p.map(E=>function(A){return{field:Xa(A.field),direction:M2(A.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Fm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:o}}function k2(i){let e=R2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const A=bb(w);return A instanceof $n&&ZT(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(A=>function(N){return new Zl(Wa(N.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,Lh(A)?null:A}(n.limit));let g=null;n.startAt&&(g=function(w){const A=!!w.before,O=w.values||[];return new Eh(O,A)}(n.startAt));let p=null;return n.endAt&&(p=function(w){const A=!w.before,O=w.values||[];return new Eh(O,A)}(n.endAt)),WC(e,o,f,u,m,"F",g,p)}function O2(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bb(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Wa(n.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(n.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wa(n.unaryFilter.field);return Et.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Wa(n.unaryFilter.field);return Et.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(n){return Et.create(Wa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return $n.create(n.compositeFilter.filters.map(s=>bb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(i):Te(30097,{filter:i})}function M2(i){return T2[i]}function P2(i){return b2[i]}function V2(i){return w2[i]}function Xa(i){return{fieldPath:i.canonicalString()}}function Wa(i){return Ht.fromServerFormat(i.fieldPath)}function wb(i){return i instanceof Et?function(n){if(n.op==="=="){if(x0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(R0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(x0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(R0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:P2(n.op),value:n.value}}}(i):i instanceof $n?function(n){const s=n.getFilters().map(o=>wb(o));return s.length===1?s[0]:{compositeFilter:{op:V2(n.op),filters:s}}}(i):Te(54877,{filter:i})}function L2(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ab(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Ft.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.wt=e}}function j2(i){const e=k2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.yn=new B2}addToCollectionParentIndex(e,n){return this.yn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Xi.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class B2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sb=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(Sb,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new lo(0)}static ir(){return new lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="LruGarbageCollector",q2=1048576;function H0([i,e],[n,s]){const o=Ie(i,n);return o===0?Ie(e,s):o}class H2{constructor(e){this.cr=e,this.buffer=new It(H0),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();H0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class F2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){he(q0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vo(n)?he(q0,"Ignoring IndexedDB error during garbage collection: ",n):await _o(n)}await this.Ir(3e5)})}}class G2{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Vh.le);const s=new H2(n);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(B0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B0):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(p=Date.now(),Ya()<=Oe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function K2(i,e){return new G2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.changes=new Js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Fl(s.mutation,o,Tn.empty(),xt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const o=Fs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ll();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Fs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ii();const f=Hl(),m=function(){return Hl()}();return n.forEach((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof ss)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Fl(E.mutation,p,E.mutation.getFieldMask(),xt.now())):f.set(p.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,E)=>f.set(p,E)),n.forEach((p,E)=>{var w;return m.set(p,new Y2(E,(w=f.get(p))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Hl();let o=new ot((f,m)=>f-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||Tn.empty();E=m.applyToLocalView(p,E),s.set(g,E);const w=(o.get(m.batchId)||Me()).add(g);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,w=ob();E.forEach(A=>{if(!u.has(A)){const O=db(n.get(A),s.get(A));O!==null&&w.set(A,O),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,p,w))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(Fs());let m=Yl,g=u;return f.next(p=>te.forEach(p,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{g=g.insert(E,A)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,Me())).next(E=>({batchId:m,changes:ab(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let o=Ll();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ll();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,g=>{const p=function(w,A){return new Eo(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(E=>{E.forEach((w,A)=>{f=f.insert(w,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,Xt.newInvalidDocument(E)))});let m=Ll();return f.forEach((g,p)=>{const E=u.get(g);E!==void 0&&Fl(E.mutation,p,Tn.empty(),xt.now()),Bh(n,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return te.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Er(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:j2(o.bundledQuery),readTime:Er(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.overlays=new ot(pe.comparator),this.Or=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Fs();return te.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=Fs(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot((p,E)=>p-E);const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=Fs(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Fs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,E)=>m.set(p,E)),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new p2(n,s));let u=this.Or.get(n);u===void 0&&(u=Me(),this.Or.set(n,u)),this.Or.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(){this.Nr=new It(Pt.Br),this.Lr=new It(Pt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new Pt(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new pe(new tt([])),s=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new pe(new tt([])),s=new Pt(n,e),o=new Pt(n,e+1);let u=Me();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Pt(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return pe.comparator(e.key,n.key)||Ie(e.Gr,n.Gr)}static kr(e,n){return Ie(e.Gr,n.Gr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new It(Pt.Br)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new g2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Hr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Sg:this.Jn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const m=this.jr(f.Gr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Ie);return n.forEach(o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{s=s.add(m.Gr)})}),te.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new pe(u),0);let m=new It(Ie);return this.zr.forEachWhile(g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Gr)),!0)},f),te.resolve(this.Jr(m))}Jr(e){const n=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return te.forEach(n.mutations,o=>{const u=new Pt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new Pt(n,0),o=this.zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.Zr=e,this.docs=function(){return new ot(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let s=ii();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ii();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||CC(IC(E),s)<=0||(o.has(E.key)||Bh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}Xr(e,n){return te.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new tN(this)}getSize(e){return te.resolve(this.size)}}class tN extends Q2{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),te.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.persistence=e,this.ei=new Js(n=>Ig(n),Cg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ti=0,this.ni=new Mg,this.targetCount=0,this.ri=lo.rr()}forEachTarget(e,n){return this.ei.forEach((s,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),te.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new lo(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.ar(n),te.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n){this.ii={},this.overlays={},this.si=new Vh(0),this.oi=!1,this.oi=!0,this._i=new Z2,this.referenceDelegate=e(this),this.ai=new nN(this),this.indexManager=new z2,this.remoteDocumentCache=function(o){return new eN(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new U2(n),this.ci=new X2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new W2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new J2(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new rN(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,n){return te.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class rN extends DC{constructor(e){super(),this.currentSequenceNumber=e}}class Pg{constructor(e){this.persistence=e,this.Ti=new Mg,this.Ii=null}static Ei(e){return new Pg(e)}get di(){if(this.Ii)return this.Ii;throw Te(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,s=>{const o=pe.fromPath(s);return this.Ai(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return te.or([()=>te.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class wh{constructor(e,n){this.persistence=e,this.Ri=new Js(s=>MC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=K2(this,n)}static Ei(e,n){return new wh(e,n)}li(){}hi(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return te.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?te.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),te.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}gr(e,n,s){return te.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.Ri.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=o}static Ps(e,n){let s=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return PR()?8:kC(Wt())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new iN;return this.fs(e,n,f).next(m=>{if(u.result=m,this.Is)return this.gs(e,n,f,m.size)})}).next(()=>u.result)}gs(e,n,s,o){return s.documentReadCount<this.Es?(Ya()<=Oe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),te.resolve()):(Ya()<=Oe.DEBUG&&he("QueryEngine","Query:",$a(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ya()<=Oe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):te.resolve())}Rs(e,n){if(D0(n))return te.resolve(null);let s=vr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Hm(n,null,"F"),s=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Me(...u);return this.As.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const p=this.ps(n,m);return this.ys(n,p,f,g.readTime)?this.Rs(e,Hm(n,null,"F")):this.ws(e,p,n,g)}))})))}Vs(e,n,s,o){return D0(n)||o.isEqual(Ae.min())?te.resolve(null):this.As.getDocuments(e,s).next(u=>{const f=this.ps(n,u);return this.ys(n,f,s,o)?te.resolve(null):(Ya()<=Oe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(n)),this.ws(e,f,n,xC(o,Yl)).next(m=>m))})}ps(e,n){let s=new It(ib(e));return n.forEach((o,u)=>{Bh(e,u)&&(s=s.add(u))}),s}ys(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,n,s){return Ya()<=Oe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",$a(n)),this.As.getDocumentsMatchingQuery(e,n,Xi.min(),s)}ws(e,n,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="LocalStore",aN=3e8;class oN{constructor(e,n,s,o){this.persistence=e,this.bs=n,this.serializer=o,this.Ss=new ot(Ie),this.Ds=new Js(u=>Ig(u),Cg),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $2(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function lN(i,e,n,s){return new oN(i,e,n,s)}async function xb(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Me();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(p=>({Ms:p,removedBatchIds:f,addedBatchIds:m}))})})}function uN(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(m,g,p,E){const w=p.batch,A=w.keys();let O=te.resolve();return A.forEach(N=>{O=O.next(()=>E.getEntry(g,N)).next(Q=>{const j=p.docVersions.get(N);He(j!==null,48541),Q.version.compareTo(j)<0&&(w.applyToRemoteDocument(Q,p),Q.isValidDocument()&&(Q.setReadTime(p.commitVersion),E.addEntry(Q)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(g,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Me();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Ib(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function cN(i,e){const n=Se(i),s=e.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const m=[];e.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.ai.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,w)));let O=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(Ft.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(w,O),function(Q,j,$){return Q.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=aN?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(A,O,E)&&m.push(n.ai.updateTargetData(u,O))});let g=ii(),p=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(hN(u,f,e.documentUpdates).next(E=>{g=E.xs,p=E.Os})),!s.isEqual(Ae.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(w=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(n.Ss=o,u))}function hN(i,e,n){let s=Me(),o=Me();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=ii();return n.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):he(Lg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{xs:f,Os:o}})}function fN(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Sg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function dN(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ai.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):n.ai.allocateTargetId(s).next(f=>(o=new qi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function Ym(i,e,n){const s=Se(i),o=s.Ss.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!vo(f))throw f;he(Lg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function F0(i,e,n){const s=Se(i);let o=Ae.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,p,E){const w=Se(g),A=w.Ds.get(E);return A!==void 0?te.resolve(w.Ss.get(A)):w.ai.getTargetData(p,E)}(s,f,vr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.bs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Me())).next(m=>(mN(s,JC(e),m),{documents:m,Ns:u})))}function mN(i,e,n){let s=i.vs.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.vs.set(e,s)}class G0{constructor(){this.activeTargetIds=s2()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gN{constructor(){this.So=new G0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new G0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="ConnectivityMonitor";class Q0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){he(K0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){he(K0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc=null;function $m(){return Kc===null?Kc=function(){return 268435456+Math.round(2147483648*Math.random())}():Kc++,"0x"+Kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="RestConnection",yN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _N{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===_h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,n,s,o,u){const f=$m(),m=this.$o(e,n.toUriEncodedString());he(Em,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(g,o,u),this.Ko(e,m,g,s).then(p=>(he(Em,`Received RPC '${e}' ${f}: `,p),p),p=>{throw io(Em,`RPC '${e}' ${f} failed with error: `,p,"url: ",m,"request:",s),p})}Wo(e,n,s,o,u,f){return this.Qo(e,n,s,o,u)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,n){const s=yN[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class EN extends _N{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,o){const u=$m();return new Promise((f,m)=>{const g=new DT;g.setWithCredentials(!0),g.listenOnce(kT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case nh.NO_ERROR:const E=g.getResponseJson();he(Yt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case nh.TIMEOUT:he(Yt,`RPC '${e}' ${u} timed out`),m(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const w=g.getStatus();if(he(Yt,`RPC '${e}' ${u} failed with status:`,w,"response text:",g.getResponseText()),w>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A==null?void 0:A.error;if(O&&O.status&&O.message){const N=function(j){const $=j.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN}(O.status);m(new ce(N,O.message))}else m(new ce(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ce(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{s_:e,streamId:u,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{he(Yt,`RPC '${e}' ${u} completed.`)}});const p=JSON.stringify(o);he(Yt,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",p,s,15)})}a_(e,n,s){const o=$m(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=PT(),m=MT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Uo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");he(Yt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const w=f.createWebChannel(E,g);let A=!1,O=!1;const N=new vN({Go:j=>{O?he(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(A||(he(Yt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),he(Yt,`RPC '${e}' stream ${o} sending:`,j),w.send(j))},zo:()=>w.close()}),Q=(j,$,ne)=>{j.listen($,X=>{try{ne(X)}catch(se){setTimeout(()=>{throw se},0)}})};return Q(w,Vl.EventType.OPEN,()=>{O||(he(Yt,`RPC '${e}' stream ${o} transport opened.`),N.t_())}),Q(w,Vl.EventType.CLOSE,()=>{O||(O=!0,he(Yt,`RPC '${e}' stream ${o} transport closed`),N.r_())}),Q(w,Vl.EventType.ERROR,j=>{O||(O=!0,io(Yt,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),N.r_(new ce(J.UNAVAILABLE,"The operation could not be completed")))}),Q(w,Vl.EventType.MESSAGE,j=>{var $;if(!O){const ne=j.data[0];He(!!ne,16349);const X=ne,se=(X==null?void 0:X.error)||(($=X[0])===null||$===void 0?void 0:$.error);if(se){he(Yt,`RPC '${e}' stream ${o} received error:`,se);const le=se.status;let me=function(x){const M=vt[x];if(M!==void 0)return gb(M)}(le),D=se.message;me===void 0&&(me=J.INTERNAL,D="Unknown error status: "+le+" with message "+se.message),O=!0,N.r_(new ce(me,D)),w.close()}else he(Yt,`RPC '${e}' stream ${o} received:`,ne),N.i_(ne)}}),Q(m,OT.STAT_EVENT,j=>{j.stat===Vm.PROXY?he(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Vm.NOPROXY&&he(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.n_()},0),N}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(i){return new A2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="PersistentStream";class Nb{constructor(e,n,s,o,u,f,m,g){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Cb(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===n&&this.B_(s,o)},s=>{e(()=>{const o=new ce(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return he(Y0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(he(Y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TN extends Nb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=x2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Er(f.readTime):Ae.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=Qm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=Bm(g)?{documents:N2(u,g)}:{query:D2(u,g).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=_b(u,f.resumeToken);const p=Fm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=bh(u,f.snapshotVersion.toTimestamp());const p=Fm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const s=O2(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.F_(n)}}class bN extends Nb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=C2(e.writeResults,e.commitTime),s=Er(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=Qm(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>I2(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{}class AN extends wN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,Gm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(J.UNKNOWN,u.toString())})}Wo(e,n,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(e,Gm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(J.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class SN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ri(n),this.ea=!1):he("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="RemoteStore";class RN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{ea(this)&&(he(Xs,"Restarting streams for network reachability change."),await async function(g){const p=Se(g);p.aa.add(4),await fu(p),p.la.set("Unknown"),p.aa.delete(4),await Qh(p)}(this))})}),this.la=new SN(s,o)}}async function Qh(i){if(ea(i))for(const e of i.ua)await e(!0)}async function fu(i){for(const e of i.ua)await e(!1)}function Db(i,e){const n=Se(i);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Bg(n)?zg(n):To(n).b_()&&jg(n,e))}function Ug(i,e){const n=Se(i),s=To(n);n._a.delete(e),s.b_()&&kb(n,e),n._a.size===0&&(s.b_()?s.v_():ea(n)&&n.la.set("Unknown"))}function jg(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(i).U_(e)}function kb(i,e){i.ha.Ke(e),To(i).K_(e)}function zg(i){i.ha=new E2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),To(i).start(),i.la.ta()}function Bg(i){return ea(i)&&!To(i).w_()&&i._a.size>0}function ea(i){return Se(i).aa.size===0}function Ob(i){i.ha=void 0}async function xN(i){i.la.set("Online")}async function IN(i){i._a.forEach((e,n)=>{jg(i,e)})}async function CN(i,e){Ob(i),Bg(i)?(i.la.ia(e),zg(i)):i.la.set("Unknown")}async function NN(i,e,n){if(i.la.set("Online"),e instanceof yb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(i,e)}catch(s){he(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ah(i,s)}else if(e instanceof ah?i.ha.Xe(e):e instanceof pb?i.ha.ot(e):i.ha.nt(e),!n.isEqual(Ae.min()))try{const s=await Ib(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u._a.get(p);E&&u._a.set(p,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,p)=>{const E=u._a.get(g);if(!E)return;u._a.set(g,E.withResumeToken(Ft.EMPTY_BYTE_STRING,E.snapshotVersion)),kb(u,g);const w=new qi(E.target,g,p,E.sequenceNumber);jg(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){he(Xs,"Failed to raise snapshot:",s),await Ah(i,s)}}async function Ah(i,e,n){if(!vo(e))throw e;i.aa.add(1),await fu(i),i.la.set("Offline"),n||(n=()=>Ib(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(Xs,"Retrying IndexedDB access"),await n(),i.aa.delete(1),await Qh(i)})}function Mb(i,e){return e().catch(n=>Ah(i,n,e))}async function Yh(i){const e=Se(i),n=es(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Sg;for(;DN(e);)try{const o=await fN(e.localStore,s);if(o===null){e.oa.length===0&&n.v_();break}s=o.batchId,kN(e,o)}catch(o){await Ah(e,o)}Pb(e)&&Vb(e)}function DN(i){return ea(i)&&i.oa.length<10}function kN(i,e){i.oa.push(e);const n=es(i);n.b_()&&n.W_&&n.G_(e.mutations)}function Pb(i){return ea(i)&&!es(i).w_()&&i.oa.length>0}function Vb(i){es(i).start()}async function ON(i){es(i).H_()}async function MN(i){const e=es(i);for(const n of i.oa)e.G_(n.mutations)}async function PN(i,e,n){const s=i.oa.shift(),o=Dg.from(s,e,n);await Mb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Yh(i)}async function VN(i,e){e&&es(i).W_&&await async function(s,o){if(function(f){return _2(f)&&f!==J.ABORTED}(o.code)){const u=s.oa.shift();es(s).D_(),await Mb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Yh(s)}}(i,e),Pb(i)&&Vb(i)}async function $0(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),he(Xs,"RemoteStore received new credentials");const s=ea(n);n.aa.add(3),await fu(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Qh(n)}async function LN(i,e){const n=Se(i);e?(n.aa.delete(2),await Qh(n)):e||(n.aa.add(2),await fu(n),n.la.set("Unknown"))}function To(i){return i.Pa||(i.Pa=function(n,s,o){const u=Se(n);return u.Y_(),new TN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:xN.bind(null,i),Jo:IN.bind(null,i),Zo:CN.bind(null,i),Q_:NN.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),Bg(i)?zg(i):i.la.set("Unknown")):(await i.Pa.stop(),Ob(i))})),i.Pa}function es(i){return i.Ta||(i.Ta=function(n,s,o){const u=Se(n);return u.Y_(),new bN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:ON.bind(null,i),Zo:VN.bind(null,i),z_:MN.bind(null,i),j_:PN.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await Yh(i)):(await i.Ta.stop(),i.oa.length>0&&(he(Xs,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new qg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hg(i,e){if(ri("AsyncQueue",`${e}: ${i}`),vo(i))return new ce(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Ll(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new no;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.Ia=new ot(pe.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class uo{constructor(e,n,s,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new uo(e,n,no.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class jN{constructor(){this.queries=W0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=W0(),u.forEach((f,m)=>{for(const g of m.Ra)g.onError(s)})})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function W0(){return new Js(i=>rb(i),zh)}async function Lb(i,e){const n=Se(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new UN,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Hg(f,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Ra.push(e),e.ga(n.onlineState),u.Aa&&e.pa(u.Aa)&&Fg(n)}async function Ub(i,e){const n=Se(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function zN(i,e){const n=Se(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(s=!0);f.Aa=o}}s&&Fg(n)}function BN(i,e,n){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(n);s.queries.delete(e)}function Fg(i){i.fa.forEach(e=>{e.next()})}var Xm,Z0;(Z0=Xm||(Xm={})).ya="default",Z0.Cache="cache";class jb{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.key=e}}class Bb{constructor(e){this.key=e}}class qN{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Me(),this.mutatedKeys=Me(),this.Ua=ib(e),this.Ka=new no(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new X0,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const A=o.get(E),O=Bh(this.query,w)?w:null,N=!!A&&this.mutatedKeys.has(A.key),Q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let j=!1;A&&O?A.data.isEqual(O.data)?N!==Q&&(s.track({type:3,doc:O}),j=!0):this.ja(A,O)||(s.track({type:2,doc:O}),j=!0,(g&&this.Ua(O,g)>0||p&&this.Ua(O,p)<0)&&(m=!0)):!A&&O?(s.track({type:0,doc:O}),j=!0):A&&!O&&(s.track({type:1,doc:A}),j=!0,(g||p)&&(m=!0)),j&&(O?(f=f.add(O),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:m,mutatedKeys:u}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((E,w)=>function(O,N){const Q=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:j})}};return Q(O)-Q(N)}(E.type,w.type)||this.Ua(E.doc,w.doc)),this.Ha(s),o=o!=null&&o;const m=n&&!o?this.Ja():[],g=this.$a.size===0&&this.current&&!o?1:0,p=g!==this.Qa;return this.Qa=g,f.length!==0||p?{snapshot:new uo(this.query,e.Ka,u,f,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new X0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Me(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new Bb(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new zb(s))}),n}Xa(e){this.qa=e.Ns,this.$a=Me();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return uo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Gg="SyncEngine";class HN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class FN{constructor(e){this.key=e,this.tu=!1}}class GN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new Js(m=>rb(m),zh),this.iu=new Map,this.su=new Set,this.ou=new ot(pe.comparator),this._u=new Map,this.au=new Mg,this.uu={},this.cu=new Map,this.lu=lo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function KN(i,e,n=!0){const s=Qb(i);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await qb(s,e,n,!0),o}async function QN(i,e){const n=Qb(i);await qb(n,e,!0,!1)}async function qb(i,e,n,s){const o=await dN(i.localStore,vr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await YN(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&Db(i.remoteStore,o),m}async function YN(i,e,n,s,o){i.Pu=(w,A,O)=>async function(Q,j,$,ne){let X=j.view.Ga($);X.ys&&(X=await F0(Q.localStore,j.query,!1).then(({documents:D})=>j.view.Ga(D,X)));const se=ne&&ne.targetChanges.get(j.targetId),le=ne&&ne.targetMismatches.get(j.targetId)!=null,me=j.view.applyChanges(X,Q.isPrimaryClient,se,le);return eE(Q,j.targetId,me.Ya),me.snapshot}(i,w,A,O);const u=await F0(i.localStore,e,!0),f=new qN(e,u.Ns),m=f.Ga(u.documents),g=hu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),p=f.applyChanges(m,i.isPrimaryClient,g);eE(i,n,p.Ya);const E=new HN(e,n,f);return i.ru.set(e,E),i.iu.has(n)?i.iu.get(n).push(e):i.iu.set(n,[e]),p.snapshot}async function $N(i,e,n){const s=Se(i),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!zh(f,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ym(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ug(s.remoteStore,o.targetId),Wm(s,o.targetId)}).catch(_o)):(Wm(s,o.targetId),await Ym(s.localStore,o.targetId,!0))}async function XN(i,e){const n=Se(i),s=n.ru.get(e),o=n.iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ug(n.remoteStore,s.targetId))}async function WN(i,e,n){const s=iD(i);try{const o=await function(f,m){const g=Se(f),p=xt.now(),E=m.reduce((O,N)=>O.add(N.key),Me());let w,A;return g.persistence.runTransaction("Locally write mutations","readwrite",O=>{let N=ii(),Q=Me();return g.Cs.getEntries(O,E).next(j=>{N=j,N.forEach(($,ne)=>{ne.isValidDocument()||(Q=Q.add($))})}).next(()=>g.localDocuments.getOverlayedDocuments(O,N)).next(j=>{w=j;const $=[];for(const ne of m){const X=d2(ne,w.get(ne.key).overlayedDocument);X!=null&&$.push(new ss(ne.key,X,$T(X.value.mapValue),hn.exists(!0)))}return g.mutationQueue.addMutationBatch(O,p,$,m)}).next(j=>{A=j;const $=j.applyToLocalDocumentSet(w,Q);return g.documentOverlayCache.saveOverlays(O,j.batchId,$)})}).then(()=>({batchId:A.batchId,changes:ab(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let p=f.uu[f.currentUser.toKey()];p||(p=new ot(Ie)),p=p.insert(m,g),f.uu[f.currentUser.toKey()]=p}(s,o.batchId,n),await du(s,o.changes),await Yh(s.remoteStore)}catch(o){const u=Hg(o,"Failed to persist write");n.reject(u)}}async function Hb(i,e){const n=Se(i);try{const s=await cN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?He(f.tu,14607):o.removedDocuments.size>0&&(He(f.tu,42227),f.tu=!1))}),await du(n,s,e)}catch(s){await _o(s)}}function J0(i,e,n){const s=Se(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ru.forEach((u,f)=>{const m=f.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=Se(f);g.onlineState=m;let p=!1;g.queries.forEach((E,w)=>{for(const A of w.Ra)A.ga(m)&&(p=!0)}),p&&Fg(g)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ZN(i,e,n){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s._u.get(e),u=o&&o.key;if(u){let f=new ot(pe.comparator);f=f.insert(u,Xt.newNoDocument(u,Ae.min()));const m=Me().add(u),g=new Gh(Ae.min(),new Map,new ot(Ie),f,m);await Hb(s,g),s.ou=s.ou.remove(u),s._u.delete(e),Kg(s)}else await Ym(s.localStore,e,!1).then(()=>Wm(s,e,n)).catch(_o)}async function JN(i,e){const n=Se(i),s=e.batch.batchId;try{const o=await uN(n.localStore,e);Gb(n,s,null),Fb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await du(n,o)}catch(o){await _o(o)}}async function eD(i,e,n){const s=Se(i);try{const o=await function(f,m){const g=Se(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next(w=>(He(w!==null,37113),E=w.keys(),g.mutationQueue.removeMutationBatch(p,w))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>g.localDocuments.getDocuments(p,E))})}(s.localStore,e);Gb(s,e,n),Fb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await du(s,o)}catch(o){await _o(o)}}function Fb(i,e){(i.cu.get(e)||[]).forEach(n=>{n.resolve()}),i.cu.delete(e)}function Gb(i,e,n){const s=Se(i);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function Wm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),n&&i.nu.Tu(s,n);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||Kb(i,s)})}function Kb(i,e){i.su.delete(e.path.canonicalString());const n=i.ou.get(e);n!==null&&(Ug(i.remoteStore,n),i.ou=i.ou.remove(e),i._u.delete(n),Kg(i))}function eE(i,e,n){for(const s of n)s instanceof zb?(i.au.addReference(s.key,e),tD(i,s)):s instanceof Bb?(he(Gg,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||Kb(i,s.key)):Te(19791,{Iu:s})}function tD(i,e){const n=e.key,s=n.path.canonicalString();i.ou.get(n)||i.su.has(s)||(he(Gg,"New document in limbo: "+n),i.su.add(s),Kg(i))}function Kg(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const n=new pe(tt.fromString(e)),s=i.lu.next();i._u.set(s,new FN(n)),i.ou=i.ou.insert(n,s),Db(i.remoteStore,new qi(vr(jh(n.path)),s,"TargetPurposeLimboResolution",Vh.le))}}async function du(i,e,n){const s=Se(i),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((m,g)=>{f.push(s.Pu(g,e,n).then(p=>{var E;if((p||n)&&s.isPrimaryClient){const w=p?!p.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(p){o.push(p);const w=Vg.Ps(g.targetId,p);u.push(w)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(g,p){const E=Se(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(p,A=>te.forEach(A.ls,O=>E.persistence.referenceDelegate.addReference(w,A.targetId,O)).next(()=>te.forEach(A.hs,O=>E.persistence.referenceDelegate.removeReference(w,A.targetId,O)))))}catch(w){if(!vo(w))throw w;he(Lg,"Failed to update sequence numbers: "+w)}for(const w of p){const A=w.targetId;if(!w.fromCache){const O=E.Ss.get(A),N=O.snapshotVersion,Q=O.withLastLimboFreeSnapshotVersion(N);E.Ss=E.Ss.insert(A,Q)}}}(s.localStore,u))}async function nD(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){he(Gg,"User change. New user:",e.toKey());const s=await xb(n.localStore,e);n.currentUser=e,function(u,f){u.cu.forEach(m=>{m.forEach(g=>{g.reject(new ce(J.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await du(n,s.Ms)}}function rD(i,e){const n=Se(i),s=n._u.get(e);if(s&&s.tu)return Me().add(s.key);{let o=Me();const u=n.iu.get(e);if(!u)return o;for(const f of u){const m=n.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function Qb(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZN.bind(null,e),e.nu.Q_=zN.bind(null,e.eventManager),e.nu.Tu=BN.bind(null,e.eventManager),e}function iD(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eD.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return lN(this.persistence,new sN,e.initialUser,this.serializer)}Ru(e){return new Rb(Pg.Ei,this.serializer)}Au(e){return new gN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class sD extends Sh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){He(this.persistence.referenceDelegate instanceof wh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new F2(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new Rb(s=>wh.Ei(s,n),this.serializer)}}class Zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>J0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nD.bind(null,this.syncEngine),await LN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jN}()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),s=function(u){return new EN(u)}(e.databaseInfo);return function(u,f,m,g){return new AN(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new RN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>J0(this.syncEngine,n,0),function(){return Q0.C()?new Q0:new pN}())}createSyncEngine(e,n){return function(o,u,f,m,g,p,E){const w=new GN(o,u,f,m,g,p);return E&&(w.hu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Se(o);he(Xs,"RemoteStore shutting down."),u.aa.add(5),await fu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zm.provider={build:()=>new Zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class aD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=jT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{he(ts,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(he(ts,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Hg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function bm(i,e){i.asyncQueue.verifyOperationInProgress(),he(ts,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await xb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function tE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await oD(i);he(ts,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>$0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>$0(e.remoteStore,o)),i._onlineComponents=e}async function oD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(ts,"Using user provided OfflineComponentProvider");try{await bm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await bm(i,new Sh)}}else he(ts,"Using default OfflineComponentProvider"),await bm(i,new sD(void 0));return i._offlineComponents}async function $b(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(ts,"Using user provided OnlineComponentProvider"),await tE(i,i._uninitializedComponentsProvider._online)):(he(ts,"Using default OnlineComponentProvider"),await tE(i,new Zm))),i._onlineComponents}function lD(i){return $b(i).then(e=>e.syncEngine)}async function Jm(i){const e=await $b(i),n=e.eventManager;return n.onListen=KN.bind(null,e.syncEngine),n.onUnlisten=$N.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XN.bind(null,e.syncEngine),n}function uD(i,e,n={}){const s=new Ki;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,p){const E=new Yb({next:A=>{E.yu(),f.enqueueAndForget(()=>Ub(u,w));const O=A.docs.has(m);!O&&A.fromCache?p.reject(new ce(J.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&g&&g.source==="server"?p.reject(new ce(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),w=new jb(jh(m.path),E,{includeMetadataChanges:!0,Fa:!0});return Lb(u,w)}(await Jm(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(i,e,n){if(!n)throw new ce(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function cD(i,e,n,s){if(e===!0&&s===!0)throw new ce(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function rE(i){if(!pe.isDocumentKey(i))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function iE(i){if(pe.isDocumentKey(i))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function $h(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Kn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(i);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="firestore.googleapis.com",sE=!0;class aE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zb,this.ssl=sE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:sE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q2)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new _C;switch(s.type){case"firstParty":return new bC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=nE.get(n);s&&(he("ComponentProvider","Removing Datastore"),nE.delete(n),s.terminate())}(this),Promise.resolve()}}function hD(i,e,n,s={}){var o;const u=(i=Kn(i,Xh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==Zb&&u.host!==m&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Gs(g,f)&&(i._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=$t.MOCK_USER;else{p=BE(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(w)}i._authCredentials=new vC(new LT(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ta(this.firestore,e,this._query)}}class nn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class Qi extends ta{constructor(e,n,s){super(e,n,jh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new pe(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function Qg(i,e,...n){if(i=et(i),Wb("collection","path",e),i instanceof Xh){const s=tt.fromString(e,...n);return iE(s),new Qi(i,null,s)}{if(!(i instanceof nn||i instanceof Qi))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return iE(s),new Qi(i.firestore,null,s)}}function qn(i,e,...n){if(i=et(i),arguments.length===1&&(e=jT.newId()),Wb("doc","path",e),i instanceof Xh){const s=tt.fromString(e,...n);return rE(s),new nn(i,null,new pe(s))}{if(!(i instanceof nn||i instanceof Qi))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return rE(s),new nn(i.firestore,i instanceof Qi?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="AsyncQueue";class lE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Cb(this,"async_queue_retry"),this.ju=()=>{const s=Tm();s&&he(oE,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Ki;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!vo(e))throw e;he(oE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,ri("INTERNAL UNHANDLED ERROR: ",uE(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const o=qg.createAndSchedule(this,e,n,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Te(47125,{ec:uE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function uE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class ns extends Xh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new lE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lE(e),this._firestoreClient=void 0,await e}}}function fD(i,e){const n=typeof i=="object"?i:dg(),s=typeof i=="string"?i:_h,o=kh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=UE("firestore");u&&hD(o,...u)}return o}function Wh(i){if(i._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||dD(i),i._firestoreClient}function dD(i){var e,n,s;const o=i._freezeSettings(),u=function(m,g,p,E){return new LC(m,g,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Xb(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new aD(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(Ft.fromBase64String(e))}catch(n){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new co(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=/^__.*__$/;class gD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class Jb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ew(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{oc:i})}}class Xg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Rh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(ew(this.oc)&&mD.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class pD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Kh(e)}dc(e,n,s,o=!1){return new Xg({oc:e,methodName:n,Ec:s,path:Ht.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ef(i){const e=i._freezeSettings(),n=Kh(i._databaseId);return new pD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Wg(i,e,n,s,o,u={}){const f=i.dc(u.merge||u.mergeFields?2:0,e,n,o);Jg("Data must be an object, but it was:",f,s);const m=tw(s,f);let g,p;if(u.merge)g=new Tn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=eg(e,w,n);if(!f.contains(A))throw new ce(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);rw(E,A)||E.push(A)}g=new Tn(E),p=f.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,p=f.fieldTransforms;return new gD(new cn(m),g,p)}class tf extends Jh{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}class Zg extends Jh{_toFieldTransform(e){return new u2(e.path,new Jl)}isEqual(e){return e instanceof Zg}}function yD(i,e,n,s){const o=i.dc(1,e,n);Jg("Data must be an object, but it was:",o,s);const u=[],f=cn.empty();is(s,(g,p)=>{const E=ep(e,g,n);p=et(p);const w=o.hc(E);if(p instanceof tf)u.push(E);else{const A=mu(p,w);A!=null&&(u.push(E),f.set(E,A))}});const m=new Tn(u);return new Jb(f,m,o.fieldTransforms)}function _D(i,e,n,s,o,u){const f=i.dc(1,e,n),m=[eg(e,s,n)],g=[o];if(u.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(eg(e,u[A])),g.push(u[A+1]);const p=[],E=cn.empty();for(let A=m.length-1;A>=0;--A)if(!rw(p,m[A])){const O=m[A];let N=g[A];N=et(N);const Q=f.hc(O);if(N instanceof tf)p.push(O);else{const j=mu(N,Q);j!=null&&(p.push(O),E.set(O,j))}}const w=new Tn(p);return new Jb(E,w,f.fieldTransforms)}function vD(i,e,n,s=!1){return mu(n,i.dc(s?4:3,e))}function mu(i,e){if(nw(i=et(i)))return Jg("Unsupported field value:",e,i),tw(i,e);if(i instanceof Jh)return function(s,o){if(!ew(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let g=mu(m,o.Pc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=et(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return a2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=xt.fromDate(s);return{timestampValue:bh(o.serializer,u)}}if(s instanceof xt){const u=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(s instanceof Yg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof co)return{bytesValue:_b(o.serializer,s._byteString)};if(s instanceof nn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Og(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof $g)return function(f,m){return{mapValue:{fields:{[QT]:{stringValue:YT},[vh]:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.Tc("VectorValues must only contain numeric values.");return Ng(m.serializer,p)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${$h(s)}`)}(i,e)}function tw(i,e){const n={};return BT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(i,(s,o)=>{const u=mu(o,e.uc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function nw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof xt||i instanceof Yg||i instanceof co||i instanceof nn||i instanceof Jh||i instanceof $g)}function Jg(i,e,n){if(!nw(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=$h(n);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function eg(i,e,n){if((e=et(e))instanceof Zh)return e._internalPath;if(typeof e=="string")return ep(i,e);throw Rh("Field path arguments must be of type string or ",i,!1,void 0,n)}const ED=new RegExp("[~\\*/\\[\\]]");function ep(i,e,n){if(e.search(ED)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Zh(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Rh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ce(J.INVALID_ARGUMENT,m+i+g)}function rw(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TD extends iw{data(){return super.data()}}function tp(i,e){return typeof e=="string"?ep(i,e):e instanceof Zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class np{}class sw extends np{}function wD(i,e,...n){let s=[];e instanceof np&&s.push(e),s=s.concat(n),function(u){const f=u.filter(g=>g instanceof ip).length,m=u.filter(g=>g instanceof rp).length;if(f>1||f>0&&m>0)throw new ce(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class rp extends sw{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new rp(e,n,s)}_apply(e){const n=this._parse(e);return aw(e._query,n),new ta(e.firestore,e.converter,qm(e._query,n))}_parse(e){const n=ef(e.firestore);return function(u,f,m,g,p,E,w){let A;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){fE(w,E);const N=[];for(const Q of w)N.push(hE(g,u,Q));A={arrayValue:{values:N}}}else A=hE(g,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||fE(w,E),A=vD(m,f,w,E==="in"||E==="not-in");return Et.create(p,E,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ip extends np{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ip(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:$n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)aw(f,g),f=qm(f,g)}(e._query,n),new ta(e.firestore,e.converter,qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sp extends sw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sp(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(u,f)}(e._query,this._field,this._direction);return new ta(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Eo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function AD(i,e="asc"){const n=e,s=tp("orderBy",i);return sp._create(s,n)}function hE(i,e,n){if(typeof(n=et(n))=="string"){if(n==="")throw new ce(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nb(e)&&n.indexOf("/")!==-1)throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!pe.isDocumentKey(s))throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return S0(i,new pe(s))}if(n instanceof nn)return S0(i,n._key);throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function fE(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aw(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class SD{convertValue(e,n="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return is(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[vh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>mt(f.doubleValue));return new $g(u)}convertGeoPoint(e){return new Yg(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Uh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);He(Ab(s),9688,{name:e});const o=new Xl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||ri(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ow extends iw{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(tp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class oh extends ow{data(e={}){return super.data(e)}}class RD{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new oh(this._firestore,this._userDataWriter,s.key,s,new jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:xD(m.type),doc:g,oldIndex:p,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(i){i=Kn(i,nn);const e=Kn(i.firestore,ns);return uD(Wh(e),i._key).then(n=>hw(e,i,n))}class lw extends SD{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function uw(i,e,n){i=Kn(i,nn);const s=Kn(i.firestore,ns),o=ap(i.converter,e,n);return nf(s,[Wg(ef(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,hn.none())])}function ng(i){return nf(Kn(i.firestore,ns),[new Fh(i._key,hn.none())])}function ID(i,e){const n=Kn(i.firestore,ns),s=qn(i),o=ap(i.converter,e);return nf(n,[Wg(ef(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,hn.exists(!1))]).then(()=>s)}function cw(i,...e){var n,s,o;i=et(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||cE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(cE(e[f])){const w=e[f];e[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let g,p,E;if(i instanceof nn)p=Kn(i.firestore,ns),E=jh(i._key.path),g={next:w=>{e[f]&&e[f](hw(p,i,w))},error:e[f+1],complete:e[f+2]};else{const w=Kn(i,ta);p=Kn(w.firestore,ns),E=w._query;const A=new lw(p);g={next:O=>{e[f]&&e[f](new RD(p,A,w,O))},error:e[f+1],complete:e[f+2]},bD(i._query)}return function(A,O,N,Q){const j=new Yb(Q),$=new jb(O,j,N);return A.asyncQueue.enqueueAndForget(async()=>Lb(await Jm(A),$)),()=>{j.yu(),A.asyncQueue.enqueueAndForget(async()=>Ub(await Jm(A),$))}}(Wh(p),E,m,g)}function nf(i,e){return function(s,o){const u=new Ki;return s.asyncQueue.enqueueAndForget(async()=>WN(await lD(s),o,u)),u.promise}(Wh(i),e)}function hw(i,e,n){const s=n.docs.get(e._key),o=new lw(i);return new ow(i,o,e._key,s,new jl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ef(e)}set(e,n,s){this._verifyNotCommitted();const o=wm(e,this._firestore),u=ap(o.converter,n,s),f=Wg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,hn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=wm(e,this._firestore);let f;return f=typeof(n=et(n))=="string"||n instanceof Zh?_D(this._dataReader,"WriteBatch.update",u._key,n,s,o):yD(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=wm(e,this._firestore);return this._mutations=this._mutations.concat(new Fh(n._key,hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wm(i,e){if((i=et(i)).firestore!==e)throw new ce(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function ND(){return new Zg("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(i){return Wh(i=Kn(i,ns)),new CD(i,e=>nf(i,e))}(function(e,n=!0){(function(o){yo=o})(Ws),Ks(new Yi("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ns(new EC(s.getProvider("auth-internal")),new wC(f,s.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(p.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),gr(d0,m0,e),gr(d0,m0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="firebasestorage.googleapis.com",kD="storageBucket",OD=2*60*1e3,MD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Pn{constructor(e,n,s=0){super(Am(e),`Firebase Storage: ${n} (${Am(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ar.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Am(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var br;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(br||(br={}));function Am(i){return"storage/"+i}function PD(){const i="An unknown error occurred, please check the error payload for server response.";return new Ar(br.UNKNOWN,i)}function VD(){return new Ar(br.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LD(){return new Ar(br.CANCELED,"User canceled the upload/download.")}function UD(i){return new Ar(br.INVALID_URL,"Invalid URL '"+i+"'.")}function jD(i){return new Ar(br.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function dE(i){return new Ar(br.INVALID_ARGUMENT,i)}function dw(){return new Ar(br.APP_DELETED,"The Firebase app was deleted.")}function zD(i){return new Ar(br.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Gn.makeFromUrl(e,n)}catch{return new Gn(e,"")}if(s.path==="")return s;throw jD(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function p(se){se.path_=decodeURIComponent(se.path)}const E="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",O=new RegExp(`^https?://${w}/${E}/b/${o}/o${A}`,"i"),N={bucket:1,path:3},Q=n===fw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",$=new RegExp(`^https?://${Q}/${o}/${j}`,"i"),X=[{regex:m,indices:g,postModify:u},{regex:O,indices:N,postModify:p},{regex:$,indices:{bucket:1,path:2},postModify:p}];for(let se=0;se<X.length;se++){const le=X[se],me=le.regex.exec(e);if(me){const D=me[le.indices.bucket];let R=me[le.indices.path];R||(R=""),s=new Gn(D,R),le.postModify(s);break}}if(s==null)throw UD(e);return s}}class BD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(i,e,n){let s=1,o=null,u=null,f=!1,m=0;function g(){return m===2}let p=!1;function E(...j){p||(p=!0,e.apply(null,j))}function w(j){o=setTimeout(()=>{o=null,i(O,g())},j)}function A(){u&&clearTimeout(u)}function O(j,...$){if(p){A();return}if(j){A(),E.call(null,j,...$);return}if(g()||f){A(),E.call(null,j,...$);return}s<64&&(s*=2);let X;m===1?(m=2,X=0):X=(s+Math.random())*1e3,w(X)}let N=!1;function Q(j){N||(N=!0,A(),!p&&(o!==null?(j||(m=2),clearTimeout(o),w(0)):j||(m=1)))}return w(0),u=setTimeout(()=>{f=!0,Q(!0)},n),Q}function HD(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(i){return i!==void 0}function mE(i,e,n,s){if(s<e)throw dE(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw dE(`Invalid value for '${i}'. Expected ${n} or less.`)}function GD(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var xh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(xh||(xh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,s,o,u,f,m,g,p,E,w,A=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=E,this.connectionFactory_=w,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,N)=>{this.resolve_=O,this.reject_=N,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Qc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===xh.NO_ERROR,g=u.getStatus();if(!m||KD(g,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===xh.ABORT;s(!1,new Qc(!1,null,E));return}const p=this.successCodes_.indexOf(g)!==-1;s(!0,new Qc(p,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());FD(g)?u(g):u()}catch(g){f(g)}else if(m!==null){const g=PD();g.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,g)):f(g)}else if(o.canceled){const g=this.appDelete_?dw():LD();f(g)}else{const g=VD();f(g)}};this.canceled_?n(!1,new Qc(!1,null,!0)):this.backoffId_=qD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function YD(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function $D(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function XD(i,e){e&&(i["X-Firebase-GMPID"]=e)}function WD(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function ZD(i,e,n,s,o,u,f=!0){const m=GD(i.urlParams),g=i.url+m,p=Object.assign({},i.headers);return XD(p,e),YD(p,n),$D(p,u),WD(p,s),new QD(g,i.method,p,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function ek(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this._service=e,n instanceof Gn?this._location=n:this._location=Gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ih(e,n)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ek(this._location.path)}get storage(){return this._service}get parent(){const e=JD(this._location.path);if(e===null)return null;const n=new Gn(this._location.bucket,e);return new Ih(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw zD(e)}}function gE(i,e){const n=e==null?void 0:e[kD];return n==null?null:Gn.makeFromBucketSpec(n,i)}function tk(i,e,n,s={}){i.host=`${e}:${n}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:BE(o,i.app.options.projectId))}class nk{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=fw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=OD,this._maxUploadRetryTime=MD,this._requests=new Set,o!=null?this._bucket=Gn.makeFromBucketSpec(o,this._host):this._bucket=gE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=gE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ih(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new BD(dw());{const f=ZD(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const pE="@firebase/storage",yE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="storage";function rk(i=dg(),e){i=et(i);const s=kh(i,mw).getImmediate({identifier:e}),o=UE("storage");return o&&ik(s,...o),s}function ik(i,e,n,s={}){tk(i,e,n,s)}function sk(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new nk(n,s,o,e,Ws)}function ak(){Ks(new Yi(mw,sk,"PUBLIC").setMultipleInstances(!0)),gr(pE,yE,""),gr(pE,yE,"esm2017")}ak();const ok={apiKey:"AIzaSyAQ-jhDNP2_pq0ewqe_QKVi0AHdOd0r0u8",authDomain:"subdlbridge-3ef0e.firebaseapp.com",projectId:"subdlbridge-3ef0e",storageBucket:"subdlbridge-3ef0e.firebasestorage.app",messagingSenderId:"1033353514414",appId:"1:1033353514414:web:27fde58dde37ed84690c3f"},op=FE(ok),ln=fD(op),ho=mC(op);rk(op);const lp="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%20viewBox='0%200%2073%2065'%3e%3c!--%20Generator:%20Adobe%20Illustrator%2029.5.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%202.1.0%20Build%20137)%20--%3e%3cdefs%3e%3cstyle%3e%20.st0%20{%20fill:%20%23ffee2b;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='st0'%20d='M0,0h73v65H0V0Z'/%3e%3cg%3e%3cpath%20d='M17,14.1h-3.1v-1.8h-3.7v1.8l6.7,8v5.5l-1.2,1.2h-7.3l-1.2-1.2v-3.6h3.1v1.8h3.7v-1.8l-6.7-8v-5.5l1.2-1.2h7.3l1.2,1.2v3.7ZM26.2,9.2h3.1v18.4l-1.2,1.2h-7.4l-1.2-1.2V9.2h3.1v16.5h3.7s0-16.5,0-16.5ZM41.4,10.4v7.4l-1.2,1.2,1.2,1.2v7.4l-1.2,1.2h-8.6V9.2h8.6s1.2,1.2,1.2,1.2ZM38.4,12.3h-3.7v5.5h3.7v-5.5ZM34.7,25.7h3.7v-4.9h-3.7v4.9ZM52.5,9.2l1.2,1.2v17.1l-1.2,1.2h-8.6V9.2h8.6ZM50.6,25.7v-13.5h-3.7v13.5s3.7,0,3.7,0ZM59.1,25.7h5.4v3.1h-8.5V9.2h3.1v16.5h0Z'/%3e%3cg%3e%3cpath%20d='M10.1,55.8H1.3v-20h8.8l1.7,1.8v7.3l-.9.9.9.9v7.4l-1.7,1.7ZM8.3,44.1v-4.7h-3.5v4.7h3.5ZM8.3,52.3v-4.7h-3.5v4.7h3.5Z'/%3e%3cpath%20d='M25.5,55.8h-3.5l-3-8.2h-.5v8.2h-3.5v-20h8.8l1.7,1.8v8.2l-1.7,1.7h-1.3l3,8.2ZM22,44.1v-4.7h-3.5v4.7h3.5Z'/%3e%3cpath%20d='M32.3,55.8h-3.5v-20h3.5v20Z'/%3e%3cpath%20d='M44.2,55.8h-8.8v-20h8.8l1.7,1.8v16.5l-1.7,1.7ZM42.5,52.3v-13h-3.5v13h3.5Z'/%3e%3cpath%20d='M57.9,55.8h-7l-1.7-1.7v-16.5l1.7-1.8h7l1.7,1.8v5.2h-3.5v-3.5h-3.5v13h3.5v-4.7h-1.7v-3.5h5.2v10l-1.7,1.7Z'/%3e%3cpath%20d='M71.6,55.8h-8.8v-20h8.8v3.5h-5.2v4.7h5.2v3.5h-5.2v4.7h5.2v3.5Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",lk=[{code:"en",label:"English"},{code:"ar",label:"Arabic"},{code:"fr",label:"French"},{code:"es",label:"Spanish"},{code:"de",label:"German"},{code:"it",label:"Italian"},{code:"pt",label:"Portuguese"},{code:"ru",label:"Russian"},{code:"ja",label:"Japanese"},{code:"zh",label:"Chinese"}];function uk(){const i=po(),[e,n]=z.useState(""),[s,o]=z.useState(""),[u,f]=z.useState(""),[m,g]=z.useState("en"),[p,E]=z.useState(""),[w,A]=z.useState(!1),[O,N]=z.useState(!1),[Q,j]=z.useState(""),$=async ne=>{if(ne.preventDefault(),!w){j("You must accept the Terms and Conditions");return}if(s!==u){j("Passwords do not match");return}j(""),N(!0);try{const{user:X}=await Xx(ho,e,s);await uw(qn(ln,"users",X.uid,"settings","prefs"),{lang:m,apiKey:p}),i("/")}catch(X){X instanceof Pn||X instanceof Error?j(X.message):j("Unknown error")}finally{N(!1)}};return S.jsx("section",{children:S.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:[S.jsxs(Hn,{to:"/",className:"flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white",children:[S.jsx("img",{className:"w-8 h-8 mr-2",src:lp,alt:"subdlBridge logo"}),"subdlBridge"]}),S.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",children:S.jsxs("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[S.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Create an account"}),Q&&S.jsx("div",{className:"p-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:Q}),S.jsxs("form",{className:"space-y-4 md:space-y-6",onSubmit:$,children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),S.jsx("input",{id:"email",type:"email",placeholder:"name@company.com",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:e,onChange:ne=>n(ne.target.value),required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),S.jsx("input",{id:"password",type:"password",placeholder:"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:s,onChange:ne=>o(ne.target.value),required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"confirm-password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Confirm password"}),S.jsx("input",{id:"confirm-password",type:"password",placeholder:"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:u,onChange:ne=>f(ne.target.value),required:!0})]}),S.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[S.jsxs("div",{className:"w-full md:w-[35%]",children:[S.jsx("label",{htmlFor:"preferred-language",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Preferred Language"}),S.jsx("select",{id:"preferred-language",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:m,onChange:ne=>g(ne.target.value),children:lk.map(ne=>S.jsx("option",{value:ne.code,children:ne.label},ne.code))})]}),S.jsxs("div",{className:"w-full md:flex-1",children:[S.jsx("label",{htmlFor:"api-key",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"SubDL API Key(optional)"}),S.jsx("input",{id:"api-key",type:"text",placeholder:"Enter your SubDL API Key",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:p,onChange:ne=>E(ne.target.value)})]})]}),S.jsxs("div",{className:"flex items-start",children:[S.jsx("div",{className:"flex items-center h-5",children:S.jsx("input",{id:"terms",type:"checkbox",className:`w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300\r
                               dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800`,checked:w,onChange:ne=>A(ne.target.checked),required:!0})}),S.jsx("div",{className:"ml-3 text-sm",children:S.jsxs("label",{htmlFor:"terms",className:"font-light text-gray-500 dark:text-gray-300",children:["I accept the"," ",S.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:underline dark:text-primary-500",children:"Terms and Conditions"})]})})]}),S.jsx("button",{type:"submit",disabled:O,className:"w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:O?"Creating account":"Create an account"}),S.jsxs("p",{className:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Already have an account?"," ",S.jsx(Hn,{to:"/login",className:"font-medium text-primary-600 hover:underline dark:text-primary-500",children:"Login here"})]})]})]})})]})})}function _E(){const i=po(),[e,n]=z.useState(""),[s,o]=z.useState(""),[u,f]=z.useState(!1),[m,g]=z.useState(""),[p,E]=z.useState(!1),w=async A=>{A.preventDefault(),g(""),f(!0);try{await eI(ho,p?bT:Tg),await Wx(ho,e,s),i("/")}catch(O){O instanceof Pn||O instanceof Error?g(O.message):g("Unknown error")}finally{f(!1)}};return S.jsx("section",{children:S.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:[S.jsxs(Hn,{to:"/",className:"flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white",children:[S.jsx("img",{className:"w-8 h-8 mr-2",src:lp,alt:"subdlBridge logo"}),"subdlBridge"]}),S.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",children:S.jsxs("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[S.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Sign in to your account"}),m&&S.jsx("div",{className:"p-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:m}),S.jsxs("form",{className:"space-y-4 md:space-y-6",onSubmit:w,children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),S.jsx("input",{id:"email",type:"email",placeholder:"name@company.com",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:e,onChange:A=>n(A.target.value),required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),S.jsx("input",{id:"password",type:"password",placeholder:"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:s,onChange:A=>o(A.target.value),required:!0})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-start",children:[S.jsx("div",{className:"flex items-center h-5",children:S.jsx("input",{id:"remember",type:"checkbox",checked:p,onChange:A=>E(A.target.checked),className:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800"})}),S.jsx("div",{className:"ml-3 text-sm",children:S.jsx("label",{htmlFor:"remember",className:"text-gray-500 dark:text-gray-300",children:"Remember me"})})]}),S.jsx("a",{href:"#",className:"text-sm font-medium text-primary-600 hover:underline dark:text-primary-500",children:"Forgot password?"})]}),S.jsx("button",{type:"submit",disabled:u,className:"w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:u?"Signing in...":"Sign in"}),S.jsxs("p",{className:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Don't have an account yet?"," ",S.jsx(Hn,{to:"/register",className:"font-medium text-primary-600 hover:underline dark:text-primary-500",children:"Sign up"})]})]})]})})]})})}function up(){const i=po(),e=si(),[n,s]=z.useState(!1),o=z.useRef(null),u="text-primary-600 dark:text-primary-500 font-medium",f="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-500",m=p=>!!(p==="/"&&e.pathname==="/"||p!=="/"&&e.pathname.startsWith(p)),g=async()=>{try{await rI(ho),i("/login")}catch(p){console.error("Error signing out:",p)}};return z.useEffect(()=>{const p=E=>{o.current&&!o.current.contains(E.target)&&s(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]),S.jsx("nav",{className:"bg-white border-gray-200 px-4 lg:px-6 py-3 dark:bg-gray-800 shadow-md",children:S.jsxs("div",{className:"flex flex-wrap justify-between items-center mx-auto",children:[S.jsxs(Hn,{to:"/",className:"flex items-center",children:[S.jsx("img",{src:lp,className:"w-8 h-8 mr-2",alt:"subdlBridge Logo"}),S.jsx("span",{className:"self-center text-xl font-semibold whitespace-nowrap dark:text-white",children:"subdlBridge"})]}),S.jsx("div",{className:"flex items-center lg:order-2",children:S.jsxs("div",{className:"relative",ref:o,children:[S.jsxs("button",{type:"button",className:"flex text-sm bg-gray-200 rounded-full focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600",onClick:()=>s(!n),children:[S.jsx("span",{className:"sr-only",children:"Open user menu"}),S.jsx("svg",{className:"w-8 h-8 p-1 text-gray-600 dark:text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})]}),n&&S.jsxs("div",{className:"absolute right-0 z-10 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 dark:bg-gray-700",children:[S.jsx(Hn,{to:"/account",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-600",onClick:()=>s(!1),children:"Account Settings"}),S.jsx("button",{onClick:()=>{g(),s(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-600",children:"Logout"})]})]})}),S.jsx("div",{className:"flex justify-between items-center w-full lg:flex lg:w-auto lg:order-1 mt-2 lg:mt-0",children:S.jsxs("ul",{className:"flex flex-col font-medium lg:flex-row lg:space-x-8 lg:mt-0",children:[S.jsx("li",{children:S.jsx(Hn,{to:"/",className:`block py-2 pl-3 pr-4 ${m("/")?u:f} lg:p-0`,children:"Search"})}),S.jsx("li",{children:S.jsx(Hn,{to:"/my-sub-list",className:`block py-2 pl-3 pr-4 ${m("/my-sub-list")?u:f} lg:p-0`,children:"My Sub List"})}),S.jsx("li",{children:S.jsx(Hn,{to:"/how-to-use",className:`block py-2 pl-3 pr-4 ${m("/how-to-use")?u:f} lg:p-0`,children:"How to Use"})})]})})]})})}function gu(){const[i,e]=z.useState({user:null,loading:!0,authenticated:!1});return z.useEffect(()=>{const n=vT(ho,s=>{e({user:s,loading:!1,authenticated:!!s})});return()=>n()},[]),i}function ck(){const{user:i}=gu(),[e,n]=z.useState({});return z.useEffect(()=>{if(!i)return n({});tg(qn(ln,"users",i.uid,"settings","prefs")).then(s=>n(s.exists()?s.data():{})).catch(()=>n({}))},[i]),e}function hk({onSearch:i,loading:e=!1}){const{lang:n,apiKey:s}=ck(),[o,u]=z.useState(""),[f,m]=z.useState("title"),[g,p]=z.useState(n||"en"),[E,w]=z.useState("");z.useEffect(()=>{n&&p(n)},[n]);const A=["en","ar","fr","es","de","it","pt","ru","ja","zh"],O=N=>{if(N.preventDefault(),!!o.trim()){w("");try{const Q={languages:g.toUpperCase(),api_key:s||""};f==="title"&&(Q.film_name=o.trim()),f==="sd_id"&&(Q.sd_id=o.trim()),f==="file_name"&&(Q.file_name=o.trim()),i(Q)}catch(Q){w(Q.message)}}};return S.jsxs("div",{className:"space-y-4",children:[E&&S.jsx("div",{className:"p-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:E}),S.jsxs("form",{onSubmit:O,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsxs("label",{htmlFor:"search-query",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:["Search ",f==="title"?"by Title":f==="sd_id"?"by SubDL ID":"by File Name"]}),S.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[S.jsx("input",{id:"search-query",type:"text",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:o,onChange:N=>u(N.target.value),placeholder:f==="title"?"Enter movie title...":f==="sd_id"?"Enter SubDL ID...":"Enter file name...",required:!0}),S.jsx("button",{type:"submit",disabled:e||!o.trim(),className:"w-full md:w-auto text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 disabled:bg-gray-400 disabled:dark:bg-gray-600 disabled:cursor-not-allowed",children:e?"Searching...":"Search"})]})]}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[S.jsxs("div",{className:"w-full sm:w-1/2",children:[S.jsx("label",{htmlFor:"search-mode",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Search Mode"}),S.jsxs("select",{id:"search-mode",value:f,onChange:N=>m(N.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[S.jsx("option",{value:"title",children:"Movie Title"}),S.jsx("option",{value:"sd_id",children:"SubDL ID"}),S.jsx("option",{value:"file_name",children:"File Name"})]})]}),S.jsxs("div",{className:"w-full sm:w-1/2",children:[S.jsx("label",{htmlFor:"search-lang",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Language"}),S.jsx("select",{id:"search-lang",value:g,onChange:N=>p(N.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:A.map(N=>S.jsx("option",{value:N,children:N.toUpperCase()},N))})]})]})]})]})}function gw({subtitle:i,onAdd:e,alreadyAdded:n=!1}){const s=i.release_name||i.name||`ID ${i.subtitle_id??i.sd_id??""}`;return S.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border mb-4 dark:bg-gray-800 dark:border-gray-700",children:S.jsxs("div",{className:"p-4 space-y-3",children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsx("h2",{className:"text-lg font-semibold leading-tight tracking-tight text-gray-900 dark:text-white truncate",title:s,children:s}),S.jsx("span",{className:"px-2.5 py-0.5 text-xs font-medium rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",children:i.lang})]}),S.jsx("div",{className:"space-y-1",children:S.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[S.jsx("span",{className:"font-medium",children:"ID:"})," ",i.sd_id]})}),S.jsxs("div",{className:"flex justify-between items-center pt-2",children:[S.jsx("a",{href:i.download_link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary-600 hover:underline dark:text-primary-500",children:"Direct Download"}),S.jsx("button",{onClick:e,disabled:n,className:`${n?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 dark:bg-primary-600 dark:hover:bg-primary-700"} text-white focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-4 py-2 text-center dark:focus:ring-primary-800`,children:n?"Added to List":"+ Add to My List"})]})]})})}const fk="";async function dk(i){const e=new URL("https://api.subdl.com/api/v1/subtitles");i.api_key,"page"in i||(i.page=1),"subs_per_page"in i||(i.subs_per_page=30),Object.entries(i).forEach(([o,u])=>{u&&e.searchParams.append(o,String(u))}),console.log("Fetching from URL:",e.toString());const n=await fetch(e.toString());if(!n.ok){const o=await n.text();throw new Error(`SubDL API error (${n.status}): ${o}`)}const s=await n.json();return console.log("Raw API response:",s),{subtitles:s.subtitles||[],currentPage:s.currentPage||Number(i.page),totalPages:s.totalPages||1,total:s.total}}function mk(){const{user:i}=gu(),[e,n]=z.useState({});return z.useEffect(()=>{if(!i)return n({});const s=Qg(ln,"users",i.uid,"subs"),o=cw(s,u=>{const f={};u.forEach(m=>{f[m.data().url]=!0}),n(f)});return()=>o()},[i]),e}function gk(){const[i,e]=z.useState([]),[n,s]=z.useState(null),[o,u]=z.useState(!1),[f,m]=z.useState(""),[g,p]=z.useState({currentPage:0,totalPages:0,totalItems:0}),[E,w]=z.useState(null),{user:A}=gu(),O=mk(),N=z.useRef(null),Q=async se=>{if(!A){alert("Login first");return}s(se.url);try{await ID(Qg(ln,"users",A.uid,"subs"),{url:se.url,lang:se.lang,title:se.name||se.release_name||`Subtitle ${se.subtitle_id||se.sd_id||""}`,addedAt:Date.now()})}catch(le){console.error("Error adding subtitle:",le)}finally{s(null)}},j=async(se,le=!0)=>{u(!0),m("");try{console.log("Searching with params:",se);const me=await dk(se);console.log("Got response:",me);const D=(me.subtitles||[]).map(R=>{const x=R.url.match(/subtitle\/(\d+)-(\d+)\.zip/);return{...R,download_link:`https://dl.subdl.com${R.url}`,sd_id:x?Number(x[1]):void 0,subtitle_id:x?Number(x[2]):void 0}});e(R=>le?D:[...R,...D]),p({currentPage:me.currentPage,totalPages:me.totalPages,totalItems:me.total||0}),w(se)}catch(me){m(me.message),console.error("Search error:",me)}finally{u(!1)}},$=se=>{j({...se,page:1},!0)},ne=z.useCallback(()=>{if(!E||o||g.currentPage>=g.totalPages){console.log("Skipping loadMore:",{noSearchParams:!E,isLoading:o,currentPage:g.currentPage,totalPages:g.totalPages});return}console.log("Loading next page:",g.currentPage+1),j({...E,page:g.currentPage+1},!1)},[E,o,g.currentPage,g.totalPages]);z.useEffect(()=>{if(!N.current)return;const se=new IntersectionObserver(me=>{const[D]=me;console.log("Intersection observed:",D.isIntersecting),D.isIntersecting&&!o&&g.currentPage<g.totalPages&&ne()},{root:null,rootMargin:"400px",threshold:.1}),le=N.current;return le&&(console.log("Setting up observer on element:",le),se.observe(le)),()=>{le&&se.unobserve(le)}},[ne,o,g]);const X=g.currentPage<g.totalPages;return S.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[S.jsx(up,{}),S.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 md:py-12",children:[S.jsxs("div",{className:"flex flex-col items-center justify-center mb-12",children:[S.jsx("h1",{className:"text-3xl md:text-4xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white mb-4 text-center",children:"Find Your Perfect Subtitle"}),S.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto text-center",children:"Search our extensive database for subtitles in multiple languages"})]}),S.jsx("div",{className:"w-full max-w-3xl mx-auto mb-12",children:S.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 dark:bg-gray-800 dark:border-gray-700",children:S.jsxs("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[S.jsx("h2",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white",children:"Search SubDL Subtitles"}),S.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enter a movie title, SubDL ID, or file name to find matching subtitles"}),S.jsx(hk,{onSearch:$,loading:o})]})})}),f&&S.jsx("div",{className:"w-full max-w-3xl mx-auto mb-6",children:S.jsx("div",{className:"p-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:f})}),i.length>0?S.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("h2",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white",children:"Search Results"}),S.jsxs("span",{className:"px-2.5 py-0.5 bg-gray-200 text-gray-800 text-xs font-medium rounded-full dark:bg-gray-700 dark:text-gray-300",children:[i.length," of ",g.totalItems||"many"," found"]})]}),S.jsx("div",{className:"space-y-4",children:i.map((se,le)=>S.jsx(gw,{subtitle:se,onAdd:()=>Q(se),alreadyAdded:n===se.url||O[se.url]===!0},`${se.url}-${le}`))}),S.jsx("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400 py-2",children:o?"Loading...":X?`Showing ${i.length} of ${g.totalItems} results (Page ${g.currentPage} of ${g.totalPages})`:"All results loaded"}),X&&S.jsx("div",{ref:N,className:"py-8 flex justify-center",style:{minHeight:"100px"},children:o&&S.jsxs("div",{className:"flex items-center justify-center",children:[S.jsx("div",{className:"w-8 h-8 border-4 border-t-4 border-gray-200 border-t-primary-600 rounded-full animate-spin"}),S.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-300",children:"Loading more results..."})]})}),X&&!o&&S.jsx("div",{className:"mt-4 mb-8 flex justify-center",children:S.jsx("button",{onClick:ne,className:"bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center text-white dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Load more results"})})]}):S.jsx("div",{className:"w-full max-w-3xl mx-auto",children:S.jsxs("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 dark:bg-gray-800 dark:border-gray-700 p-8 text-center",children:[S.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),S.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No results yet"}),S.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:"Use the search above to find subtitles for your favorite movies and TV shows"})]})})]}),S.jsx("footer",{className:"w-full py-4 mt-auto bg-white border-t dark:bg-gray-800 dark:border-gray-700",children:S.jsx("div",{className:"container mx-auto px-4",children:S.jsx("p",{className:"text-sm text-center text-gray-500 dark:text-gray-400",children:"2025 subdlBridge - Find and download subtitles easily"})})})]})}function pk(){const[i,e]=z.useState([]),[n,s]=z.useState(!0),[o,u]=z.useState(null),[f,m]=z.useState(""),{user:g}=gu();z.useEffect(()=>{if(!g){e([]),s(!1);return}s(!0);const E=wD(Qg(ln,"users",g.uid,"subs"),AD("addedAt","desc")),w=cw(E,A=>{const O=[];A.forEach(N=>{O.push({id:N.id,...N.data()})}),e(O),s(!1)},A=>{console.error("Error fetching subtitles:",A),m("Failed to load your subtitles. Please try again later."),s(!1)});return()=>w()},[g]);const p=async E=>{if(g){u(E),m("");try{await ng(qn(ln,"users",g.uid,"subs",E))}catch(w){console.error("Error removing subtitle:",w),m("Failed to remove subtitle. Please try again.")}finally{u(null)}}};return S.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[S.jsx(up,{}),S.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 md:py-12",children:[S.jsxs("div",{className:"flex flex-col items-center justify-center mb-12",children:[S.jsx("h1",{className:"text-3xl md:text-4xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white mb-4 text-center",children:"My Sub List"}),S.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto text-center",children:"Manage your saved subtitles"})]}),f&&S.jsx("div",{className:"w-full max-w-3xl mx-auto mb-6",children:S.jsx("div",{className:"p-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:f})}),n?S.jsx("div",{className:"w-full max-w-3xl mx-auto",children:S.jsxs("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 dark:bg-gray-800 dark:border-gray-700 p-8 text-center",children:[S.jsx("div",{className:"flex justify-center items-center",children:S.jsxs("svg",{className:"animate-spin h-8 w-8 text-primary-600 dark:text-primary-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),S.jsx("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:"Loading your subtitles..."})]})}):i.length>0?S.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("h2",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white",children:"Your Saved Subtitles"}),S.jsxs("span",{className:"px-2.5 py-0.5 bg-gray-200 text-gray-800 text-xs font-medium rounded-full dark:bg-gray-700 dark:text-gray-300",children:[i.length," subtitles"]})]}),S.jsx("div",{className:"space-y-4",children:i.map(E=>{const w={url:E.url,lang:E.lang,name:E.title,download_link:`https://dl.subdl.com${E.url}`};return S.jsxs("div",{className:"relative",children:[S.jsx(gw,{subtitle:w,onAdd:()=>{},alreadyAdded:!0}),S.jsx("button",{onClick:()=>p(E.id),disabled:o===E.id,className:`${o===E.id?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed":"bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700"} text-white focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-4 py-2 text-center dark:focus:ring-red-800 absolute top-4 right-4`,children:o===E.id?"Removing...":"Remove"})]},E.id)})})]}):S.jsx("div",{className:"w-full max-w-3xl mx-auto",children:S.jsxs("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 dark:bg-gray-800 dark:border-gray-700 p-8 text-center",children:[S.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),S.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No saved subtitles"}),S.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:"Start searching and adding subtitles to your list from the home page"})]})})]}),S.jsx("footer",{className:"w-full py-4 mt-auto bg-white border-t dark:bg-gray-800 dark:border-gray-700",children:S.jsx("div",{className:"container mx-auto px-4",children:S.jsx("p",{className:"text-sm text-center text-gray-500 dark:text-gray-400",children:"2025 subdlBridge - Find and download subtitles easily"})})})]})}let Yc;const yk=new Uint8Array(16);function _k(){if(!Yc&&(Yc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Yc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yc(yk)}const Bt=[];for(let i=0;i<256;++i)Bt.push((i+256).toString(16).slice(1));function vk(i,e=0){return Bt[i[e+0]]+Bt[i[e+1]]+Bt[i[e+2]]+Bt[i[e+3]]+"-"+Bt[i[e+4]]+Bt[i[e+5]]+"-"+Bt[i[e+6]]+Bt[i[e+7]]+"-"+Bt[i[e+8]]+Bt[i[e+9]]+"-"+Bt[i[e+10]]+Bt[i[e+11]]+Bt[i[e+12]]+Bt[i[e+13]]+Bt[i[e+14]]+Bt[i[e+15]]}const Ek=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vE={randomUUID:Ek};function Tk(i,e,n){if(vE.randomUUID&&!i)return vE.randomUUID();i=i||{};const s=i.random||(i.rng||_k)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,vk(s)}function bk(){const i=po(),{user:e}=gu(),[n,s]=z.useState(""),[o,u]=z.useState(""),[f,m]=z.useState(""),[g,p]=z.useState("en"),[E,w]=z.useState(""),[A,O]=z.useState(""),[N,Q]=z.useState(!1),[j,$]=z.useState(!0),[ne,X]=z.useState({type:"",text:""}),[se,le]=z.useState(!1),[me,D]=z.useState(!1),[R,x]=z.useState(!1),M=["en","ar","fr","es","de","it","pt","ru","ja","zh"];z.useEffect(()=>{(async()=>{if(e){s(e.email||"");try{const ie=await tg(qn(ln,"users",e.uid,"settings","prefs"));if(ie.exists()){const fe=ie.data();fe.lang&&p(fe.lang),fe.apiKey&&w(fe.apiKey||"")}await nt()}catch(ie){console.error("Error loading user preferences:",ie),X({type:"error",text:"Failed to load your preferences. Please try again later."})}}})()},[e]);const V=()=>{navigator.clipboard.writeText(A).then(()=>{x(!0),setTimeout(()=>x(!1),3e3)}).catch(F=>{console.error("Error copying token to clipboard:",F),X({type:"error",text:"Failed to copy token to clipboard. Please try manually selecting and copying."})})},U=async F=>{if(F.preventDefault(),!!e){Q(!0),X({type:"",text:""});try{await uw(qn(ln,"users",e.uid,"settings","prefs"),{lang:g,apiKey:E.trim()||null}),X({type:"success",text:"Your preferences have been updated successfully!"})}catch(ie){console.error("Error updating preferences:",ie),X({type:"error",text:"Failed to update preferences. Please try again."})}finally{Q(!1)}}},C=async F=>{if(F.preventDefault(),!(!e||!f)){Q(!0),X({type:"",text:""});try{const ie=$i.credential(e.email||"",f);await n0(e,ie),n!==e.email&&n.trim()&&await Zx(e,n),o.trim()&&await Jx(e,o),m(""),u(""),X({type:"success",text:"Your account has been updated successfully!"})}catch(ie){console.error("Error updating account:",ie),X({type:"error",text:"Failed to update account. Please check your current password and try again."})}finally{Q(!1)}}},Tt=async()=>{if(!(!e||!f)){D(!0);try{const F=$i.credential(e.email||"",f);await n0(e,F),await ng(qn(ln,"users",e.uid,"settings","prefs")),await ng(qn(ln,"users",e.uid,"settings","auth")),await iI(e),i("/login")}catch(F){console.error("Error deleting account:",F),X({type:"error",text:"Failed to delete account. Please check your password and try again."}),D(!1),le(!1)}}},nt=async()=>{if(e){$(!0);try{const F=await tg(qn(ln,"users",e.uid,"settings","auth"));if(F.exists()){const ie=F.data();O(ie.token)}else{const ie=Tk(),fe=DD(ln);fe.set(qn(ln,"users",e.uid,"settings","auth"),{token:ie}),fe.set(qn(ln,"tokens",ie),{uid:e.uid,createdAt:ND()}),await fe.commit(),O(ie)}}catch(F){console.error("Error loading or generating token:",F),X({type:"error",text:"Failed to generate your authentication token. Please try again later."})}finally{$(!1)}}};return S.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[S.jsx(up,{}),S.jsx("main",{className:"flex-1 container mx-auto px-4 py-8 md:py-12",children:S.jsxs("div",{className:"max-w-3xl mx-auto",children:[S.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"Account Settings"}),ne.text&&S.jsx("div",{className:`p-4 mb-6 text-sm rounded-lg ${ne.type==="success"?"text-green-800 bg-green-50 dark:bg-gray-800 dark:text-green-400":"text-red-800 bg-red-50 dark:bg-gray-800 dark:text-red-400"}`,role:"alert",children:ne.text}),S.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border mb-6 dark:bg-gray-800 dark:border-gray-700",children:S.jsxs("div",{className:"p-6 space-y-6",children:[S.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"API Authentication Token"}),S.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:"This is your unique authentication token for API access. Keep it secret and secure."}),j?S.jsx("div",{className:"animate-pulse flex space-x-4",children:S.jsx("div",{className:"flex-1 space-y-3 py-1",children:S.jsx("div",{className:"h-8 bg-gray-200 rounded dark:bg-gray-700"})})}):S.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[S.jsx("div",{className:"flex-1 relative",children:S.jsx("input",{type:"text",value:A,readOnly:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})}),S.jsx("button",{onClick:V,className:"inline-flex items-center justify-center text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:R?"Copied!":"Copy to Clipboard"})]})]})}),S.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border mb-6 dark:bg-gray-800 dark:border-gray-700",children:S.jsxs("div",{className:"p-6 space-y-6",children:[S.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Account Information"}),S.jsxs("form",{onSubmit:C,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Email Address"}),S.jsx("input",{type:"email",id:"email",value:n,onChange:F=>s(F.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"your@email.com",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"new-password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"New Password (leave blank to keep current)"}),S.jsx("input",{type:"password",id:"new-password",value:o,onChange:F=>u(F.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:""})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"current-password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Current Password (required to update account)"}),S.jsx("input",{type:"password",id:"current-password",value:f,onChange:F=>m(F.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"",required:!0})]}),S.jsx("button",{type:"submit",disabled:N,className:"w-full md:w-auto text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 disabled:bg-gray-400 disabled:dark:bg-gray-600 disabled:cursor-not-allowed",children:N?"Updating...":"Update Account"})]})]})}),S.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border mb-6 dark:bg-gray-800 dark:border-gray-700",children:S.jsxs("div",{className:"p-6 space-y-6",children:[S.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Subtitle Preferences"}),S.jsxs("form",{onSubmit:U,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"default-lang",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Default Language"}),S.jsx("select",{id:"default-lang",value:g,onChange:F=>p(F.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:M.map(F=>S.jsx("option",{value:F,children:F.toUpperCase()},F))})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"api-key",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"SubDL API Key (optional)"}),S.jsx("input",{type:"text",id:"api-key",value:E,onChange:F=>w(F.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Enter your SubDL API key (if you have one)"})]}),S.jsx("button",{type:"submit",disabled:N,className:"w-full md:w-auto text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 disabled:bg-gray-400 disabled:dark:bg-gray-600 disabled:cursor-not-allowed",children:N?"Saving...":"Save Preferences"})]})]})}),S.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border dark:bg-gray-800 dark:border-gray-700",children:S.jsxs("div",{className:"p-6 space-y-6",children:[S.jsx("h2",{className:"text-xl font-bold text-red-600 dark:text-red-500",children:"Danger Zone"}),se?S.jsxs("div",{className:"p-4 border border-red-300 rounded-lg bg-red-50 dark:bg-gray-700 dark:border-red-800",children:[S.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-400 mb-3",children:"Confirm Account Deletion"}),S.jsx("p",{className:"mb-4 text-sm text-gray-700 dark:text-gray-300",children:"Please enter your current password to confirm account deletion:"}),S.jsx("div",{className:"mb-4",children:S.jsx("input",{type:"password",value:f,onChange:F=>m(F.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Enter your current password",required:!0})}),S.jsxs("div",{className:"flex space-x-3",children:[S.jsx("button",{onClick:Tt,disabled:me||!f,className:"text-white bg-red-600 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800 disabled:bg-gray-400 disabled:dark:bg-gray-600 disabled:cursor-not-allowed",children:me?"Deleting...":"Confirm Delete"}),S.jsx("button",{onClick:()=>{le(!1),m("")},disabled:me,className:"text-gray-700 bg-white border border-gray-300 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-700 disabled:bg-gray-400 disabled:dark:bg-gray-600 disabled:cursor-not-allowed",children:"Cancel"})]})]}):S.jsxs("div",{children:[S.jsx("p",{className:"mb-4 text-sm text-gray-700 dark:text-gray-300",children:"Deleting your account will permanently remove all your data, including saved subtitles. This action cannot be undone."}),S.jsx("button",{onClick:()=>le(!0),className:"w-full md:w-auto text-white bg-red-600 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",children:"Delete Account"})]})]})})]})}),S.jsx("footer",{className:"w-full py-4 mt-auto bg-white border-t dark:bg-gray-800 dark:border-gray-700",children:S.jsx("div",{className:"container mx-auto px-4",children:S.jsx("p",{className:"text-sm text-center text-gray-500 dark:text-gray-400",children:"2025 subdlBridge - Find and download subtitles easily"})})})]})}function $c({children:i}){const[e,n]=z.useState(!0),[s,o]=z.useState(!1);return z.useEffect(()=>{const u=vT(ho,f=>{o(!!f),n(!1)});return()=>u()},[]),e?S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:S.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):s?S.jsx(S.Fragment,{children:i}):S.jsx(US,{to:"/login",replace:!0})}function wk(){return S.jsx(cR,{basename:"/subdlBridge-web",children:S.jsxs(zS,{children:[S.jsx(Li,{path:"/register",element:S.jsx(uk,{})}),S.jsx(Li,{path:"/login",element:S.jsx(_E,{})}),S.jsx(Li,{path:"/",element:S.jsx($c,{children:S.jsx(gk,{})})}),S.jsx(Li,{path:"/my-sub-list",element:S.jsx($c,{children:S.jsx(pk,{})})}),S.jsx(Li,{path:"/account",element:S.jsx($c,{children:S.jsx(bk,{})})}),S.jsx(Li,{path:"/how-to-use",element:S.jsx($c,{children:S.jsx("div",{children:"How To Use Page (Coming Soon)"})})}),S.jsx(Li,{path:"*",element:S.jsx(_E,{})})]})})}$A.createRoot(document.getElementById("root")).render(S.jsx(z.StrictMode,{children:S.jsx(wk,{})}));
