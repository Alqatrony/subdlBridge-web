(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function VA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Wd={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function LA(){if(fv)return Nl;fv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var dv;function UA(){return dv||(dv=1,Wd.exports=LA()),Wd.exports}var A=UA(),Zd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function jA(){if(mv)return Re;mv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,K={};function z(D,ie,J){this.props=D,this.context=ie,this.refs=K,this.updater=J||O}z.prototype.isReactComponent={},z.prototype.setState=function(D,ie){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ie,"setState")},z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function $(){}$.prototype=z.prototype;function ne(D,ie,J){this.props=D,this.context=ie,this.refs=K,this.updater=J||O}var Q=ne.prototype=new $;Q.constructor=ne,N(Q,z.prototype),Q.isPureReactComponent=!0;var ae=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function k(D,ie,J,se,me,Ce){return J=Ce.ref,{$$typeof:i,type:D,key:ie,ref:J!==void 0?J:null,props:Ce}}function R(D,ie){return k(D.type,ie,void 0,void 0,void 0,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function M(D){var ie={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(J){return ie[J]})}var V=/\/+/g;function U(D,ie){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):ie.toString(36)}function C(){}function Tt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(ie){D.status==="pending"&&(D.status="fulfilled",D.value=ie)},function(ie){D.status==="pending"&&(D.status="rejected",D.reason=ie)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function et(D,ie,J,se,me){var Ce=typeof D;(Ce==="undefined"||Ce==="boolean")&&(D=null);var we=!1;if(D===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(D.$$typeof){case i:case e:we=!0;break;case E:return we=D._init,et(we(D._payload),ie,J,se,me)}}if(we)return me=me(D),we=se===""?"."+U(D,0):se,ae(me)?(J="",we!=null&&(J=we.replace(V,"$&/")+"/"),et(me,ie,J,"",function(Xn){return Xn})):me!=null&&(x(me)&&(me=R(me,J+(me.key==null||D&&D.key===me.key?"":(""+me.key).replace(V,"$&/")+"/")+we)),ie.push(me)),1;we=0;var Ct=se===""?".":se+":";if(ae(D))for(var Ze=0;Ze<D.length;Ze++)se=D[Ze],Ce=Ct+U(se,Ze),we+=et(se,ie,J,Ce,me);else if(Ze=S(D),typeof Ze=="function")for(D=Ze.call(D),Ze=0;!(se=D.next()).done;)se=se.value,Ce=Ct+U(se,Ze++),we+=et(se,ie,J,Ce,me);else if(Ce==="object"){if(typeof D.then=="function")return et(Tt(D),ie,J,se,me);throw ie=String(D),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(D,ie,J){if(D==null)return D;var se=[],me=0;return et(D,se,"","",function(Ce){return ie.call(J,Ce,me++)}),se}function ue(D){if(D._status===-1){var ie=D._result;ie=ie(),ie.then(function(J){(D._status===0||D._status===-1)&&(D._status=1,D._result=J)},function(J){(D._status===0||D._status===-1)&&(D._status=2,D._result=J)}),D._status===-1&&(D._status=0,D._result=ie)}if(D._status===1)return D._result.default;throw D._result}var ge=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function je(){}return Re.Children={map:X,forEach:function(D,ie,J){X(D,function(){ie.apply(this,arguments)},J)},count:function(D){var ie=0;return X(D,function(){ie++}),ie},toArray:function(D){return X(D,function(ie){return ie})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=z,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ne,Re.StrictMode=s,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return le.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,ie,J){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var se=N({},D.props),me=D.key,Ce=void 0;if(ie!=null)for(we in ie.ref!==void 0&&(Ce=void 0),ie.key!==void 0&&(me=""+ie.key),ie)!de.call(ie,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ie.ref===void 0||(se[we]=ie[we]);var we=arguments.length-2;if(we===1)se.children=J;else if(1<we){for(var Ct=Array(we),Ze=0;Ze<we;Ze++)Ct[Ze]=arguments[Ze+2];se.children=Ct}return k(D.type,me,void 0,void 0,Ce,se)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,ie,J){var se,me={},Ce=null;if(ie!=null)for(se in ie.key!==void 0&&(Ce=""+ie.key),ie)de.call(ie,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(me[se]=ie[se]);var we=arguments.length-2;if(we===1)me.children=J;else if(1<we){for(var Ct=Array(we),Ze=0;Ze<we;Ze++)Ct[Ze]=arguments[Ze+2];me.children=Ct}if(D&&D.defaultProps)for(se in we=D.defaultProps,we)me[se]===void 0&&(me[se]=we[se]);return k(D,Ce,void 0,void 0,null,me)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=x,Re.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:ue}},Re.memo=function(D,ie){return{$$typeof:p,type:D,compare:ie===void 0?null:ie}},Re.startTransition=function(D){var ie=le.T,J={};le.T=J;try{var se=D(),me=le.S;me!==null&&me(J,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(je,ge)}catch(Ce){ge(Ce)}finally{le.T=ie}},Re.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Re.use=function(D){return le.H.use(D)},Re.useActionState=function(D,ie,J){return le.H.useActionState(D,ie,J)},Re.useCallback=function(D,ie){return le.H.useCallback(D,ie)},Re.useContext=function(D){return le.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,ie){return le.H.useDeferredValue(D,ie)},Re.useEffect=function(D,ie,J){var se=le.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(D,ie)},Re.useId=function(){return le.H.useId()},Re.useImperativeHandle=function(D,ie,J){return le.H.useImperativeHandle(D,ie,J)},Re.useInsertionEffect=function(D,ie){return le.H.useInsertionEffect(D,ie)},Re.useLayoutEffect=function(D,ie){return le.H.useLayoutEffect(D,ie)},Re.useMemo=function(D,ie){return le.H.useMemo(D,ie)},Re.useOptimistic=function(D,ie){return le.H.useOptimistic(D,ie)},Re.useReducer=function(D,ie,J){return le.H.useReducer(D,ie,J)},Re.useRef=function(D){return le.H.useRef(D)},Re.useState=function(D){return le.H.useState(D)},Re.useSyncExternalStore=function(D,ie,J){return le.H.useSyncExternalStore(D,ie,J)},Re.useTransition=function(){return le.H.useTransition()},Re.version="19.1.0",Re}var gv;function Qm(){return gv||(gv=1,Zd.exports=jA()),Zd.exports}var j=Qm();const zA=VA(j);var Jd={exports:{}},kl={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function BA(){return pv||(pv=1,function(i){function e(X,ue){var ge=X.length;X.push(ue);e:for(;0<ge;){var je=ge-1>>>1,D=X[je];if(0<o(D,ue))X[je]=ue,X[ge]=D,ge=je;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ue=X[0],ge=X.pop();if(ge!==ue){X[0]=ge;e:for(var je=0,D=X.length,ie=D>>>1;je<ie;){var J=2*(je+1)-1,se=X[J],me=J+1,Ce=X[me];if(0>o(se,ge))me<D&&0>o(Ce,se)?(X[je]=Ce,X[me]=ge,je=me):(X[je]=se,X[J]=ge,je=J);else if(me<D&&0>o(Ce,ge))X[je]=Ce,X[me]=ge,je=me;else break e}}return ue}function o(X,ue){var ge=X.sortIndex-ue.sortIndex;return ge!==0?ge:X.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,w=null,S=3,O=!1,N=!1,K=!1,z=!1,$=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ae(X){for(var ue=n(p);ue!==null;){if(ue.callback===null)s(p);else if(ue.startTime<=X)s(p),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=n(p)}}function le(X){if(K=!1,ae(X),!N)if(n(g)!==null)N=!0,de||(de=!0,U());else{var ue=n(p);ue!==null&&et(le,ue.startTime-X)}}var de=!1,k=-1,R=5,x=-1;function M(){return z?!0:!(i.unstable_now()-x<R)}function V(){if(z=!1,de){var X=i.unstable_now();x=X;var ue=!0;try{e:{N=!1,K&&(K=!1,ne(k),k=-1),O=!0;var ge=S;try{t:{for(ae(X),w=n(g);w!==null&&!(w.expirationTime>X&&M());){var je=w.callback;if(typeof je=="function"){w.callback=null,S=w.priorityLevel;var D=je(w.expirationTime<=X);if(X=i.unstable_now(),typeof D=="function"){w.callback=D,ae(X),ue=!0;break t}w===n(g)&&s(g),ae(X)}else s(g);w=n(g)}if(w!==null)ue=!0;else{var ie=n(p);ie!==null&&et(le,ie.startTime-X),ue=!1}}break e}finally{w=null,S=ge,O=!1}ue=void 0}}finally{ue?U():de=!1}}}var U;if(typeof Q=="function")U=function(){Q(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Tt=C.port2;C.port1.onmessage=V,U=function(){Tt.postMessage(null)}}else U=function(){$(V,0)};function et(X,ue){k=$(function(){X(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(X){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var ge=S;S=ue;try{return X()}finally{S=ge}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=S;S=X;try{return ue()}finally{S=ge}},i.unstable_scheduleCallback=function(X,ue,ge){var je=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,X){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ge+D,X={id:E++,callback:ue,priorityLevel:X,startTime:ge,expirationTime:D,sortIndex:-1},ge>je?(X.sortIndex=ge,e(p,X),n(g)===null&&X===n(p)&&(K?(ne(k),k=-1):K=!0,et(le,ge-je))):(X.sortIndex=D,e(g,X),N||O||(N=!0,de||(de=!0,U()))),X},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(X){var ue=S;return function(){var ge=S;S=ue;try{return X.apply(this,arguments)}finally{S=ge}}}}(tm)),tm}var yv;function qA(){return yv||(yv=1,em.exports=BA()),em.exports}var nm={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function HA(){if(_v)return Yt;_v=1;var i=Qm();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:p,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},Yt.flushSync=function(g){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=E,s.d.f()}},Yt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Yt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Yt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,w=m(E,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,O=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:O}):E==="script"&&s.d.X(g,{crossOrigin:w,integrity:S,fetchPriority:O,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Yt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Yt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,w=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Yt.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Yt.requestFormReset=function(g){s.d.r(g)},Yt.unstable_batchedUpdates=function(g,p){return g(p)},Yt.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var vv;function FA(){if(vv)return nm.exports;vv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),nm.exports=HA(),nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function GA(){if(Ev)return kl;Ev=1;var i=qA(),e=Qm(),n=FA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function p(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=p(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case z:return"Profiler";case K:return"StrictMode";case le:return"Suspense";case de:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case ne:return(t._context.displayName||"Context")+".Consumer";case ae:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return r=t.displayName||null,r!==null?r:Tt(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return Tt(t(r))}catch{}}return null}var et=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],D=-1;function ie(t){return{current:t}}function J(t){0>D||(t.current=je[D],je[D]=null,D--)}function se(t,r){D++,je[D]=t.current,t.current=r}var me=ie(null),Ce=ie(null),we=ie(null),Ct=ie(null);function Ze(t,r){switch(se(we,r),se(Ce,t),se(me,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?z_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=z_(r),t=B_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(me),se(me,t)}function Xn(){J(me),J(Ce),J(we)}function oi(t){t.memoizedState!==null&&se(Ct,t);var r=me.current,a=B_(r,t.type);r!==a&&(se(Ce,t),se(me,a))}function Sr(t){Ce.current===t&&(J(me),J(Ce)),Ct.current===t&&(J(Ct),Sl._currentValue=ge)}var rs=Object.prototype.hasOwnProperty,is=i.unstable_scheduleCallback,ss=i.unstable_cancelCallback,bo=i.unstable_shouldYield,mu=i.unstable_requestPaint,vn=i.unstable_now,Xh=i.unstable_getCurrentPriorityLevel,wo=i.unstable_ImmediatePriority,na=i.unstable_UserBlockingPriority,as=i.unstable_NormalPriority,Wh=i.unstable_LowPriority,ra=i.unstable_IdlePriority,Ao=i.log,gu=i.unstable_setDisableYieldValue,ot=null,Fe=null;function un(t){if(typeof Ao=="function"&&gu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ot,t)}catch{}}var Gt=Math.clz32?Math.clz32:os,pu=Math.log,Zh=Math.LN2;function os(t){return t>>>=0,t===0?32:31-(pu(t)/Zh|0)|0}var ls=256,us=4194304;function Mn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ia(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Mn(l):(v&=T,v!==0?h=Mn(v):a||(a=T&~t,a!==0&&(h=Mn(a))))):(T=l&~d,T!==0?h=Mn(T):v!==0?h=Mn(v):a||(a=l&~t,a!==0&&(h=Mn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function cs(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function So(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var t=ls;return ls<<=1,(ls&4194048)===0&&(ls=256),t}function xo(){var t=us;return us<<=1,(us&62914560)===0&&(us=4194304),t}function Rr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function xr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Io(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var W=31-Gt(a),ee=1<<W;T[W]=0,I[W]=-1;var F=H[W];if(F!==null)for(H[W]=null,W=0;W<F.length;W++){var G=F[W];G!==null&&(G.lane&=-536870913)}a&=~ee}l!==0&&Wn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Wn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Gt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Co(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ui(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:av(t.type))}function yu(t,r){var a=ue.p;try{return ue.p=t,r()}finally{ue.p=a}}var nt=Math.random().toString(36).slice(2),bt="__reactFiber$"+nt,gt="__reactProps$"+nt,En="__reactContainer$"+nt,No="__reactEvents$"+nt,Jh="__reactListeners$"+nt,ci="__reactHandles$"+nt,_u="__reactResources$"+nt,hs="__reactMarker$"+nt;function hi(t){delete t[bt],delete t[gt],delete t[No],delete t[Jh],delete t[ci]}function Ir(t){var r=t[bt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[En]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=G_(t);t!==null;){if(a=t[bt])return a;t=G_(t)}return r}t=a,a=t.parentNode}return null}function Zn(t){if(t=t[bt]||t[En]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Jn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Zt(t){var r=t[_u];return r||(r=t[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ht(t){t[hs]=!0}var ko=new Set,aa={};function Pn(t,r){Cr(t,r),Cr(t+"Capture",r)}function Cr(t,r){for(aa[t]=r,t=0;t<r.length;t++)ko.add(r[t])}var vu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eu={},fs={};function Tu(t){return rs.call(fs,t)?!0:rs.call(Eu,t)?!1:vu.test(t)?fs[t]=!0:(Eu[t]=!0,!1)}function fi(t,r,a){if(Tu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function er(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Vt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var ds,bu;function Nr(t){if(ds===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ds=r&&r[1]||"",bu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ds+t+bu}var oa=!1;function la(t,r){if(!t||oa)return"";oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(G){var F=G}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(G){F=G}t.call(ee.prototype)}}else{try{throw Error()}catch(G){F=G}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),H=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===H.length)for(l=I.length-1,h=H.length-1;1<=l&&0<=h&&I[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==H[h]){var W=`
`+I[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{oa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Nr(a):""}function Do(t){switch(t.tag){case 26:case 27:case 5:return Nr(t.type);case 16:return Nr("Lazy");case 13:return Nr("Suspense");case 19:return Nr("SuspenseList");case 0:case 15:return la(t.type,!1);case 11:return la(t.type.render,!1);case 1:return la(t.type,!0);case 31:return Nr("Activity");default:return""}}function ua(t){try{var r="";do r+=Do(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ef(t){var r=Oo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ca(t){t._valueTracker||(t._valueTracker=ef(t))}function Mo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Oo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ms(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var tf=/[\n"\\]/g;function pt(t){return t.replace(tf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function cn(t,r,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Jt(r)):t.value!==""+Jt(r)&&(t.value=""+Jt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?di(t,v,Jt(r)):a!=null?di(t,v,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Jt(T):t.removeAttribute("name")}function gs(t,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Jt(a):"",r=r!=null?""+Jt(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function di(t,r,a){r==="number"&&ms(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function kr(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ye(t,r,a){if(r!=null&&(r=""+Jt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Jt(a):""}function ps(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(et(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Jt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Tn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ys.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Po(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&wu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&wu(t,d,r[d])}function Vo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(t){return rf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Dr=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Or=null,Mr=null;function Lo(t){var r=Zn(t);if(r&&(t=r.stateNode)){var a=t[gt]||null;e:switch(t=r.stateNode,r.type){case"input":if(cn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[gt]||null;if(!h)throw Error(s(90));cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Mo(l)}break e;case"textarea":Ye(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&kr(t,!!a.multiple,r,!1)}}}var tr=!1;function Au(t,r,a){if(tr)return t(r,a);tr=!0;try{var l=t(r);return l}finally{if(tr=!1,(Or!==null||Mr!==null)&&(yc(),Or&&(r=Or,t=Mr,Mr=Or=null,Lo(r),t)))for(r=0;r<t.length;r++)Lo(t[r])}}function _s(t,r){var a=t.stateNode;if(a===null)return null;var l=a[gt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wn=!1;if(Vn)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){wn=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{wn=!1}var nr=null,mi=null,Pr=null;function Uo(){if(Pr)return Pr;var t,r=mi,a=r.length,l,h="value"in nr?nr.value:nr.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Pr=h.slice(t,1<l?1-l:void 0)}function rr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ir(){return!0}function jo(){return!1}function Nt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ir:jo,this.isPropagationStopped=jo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),r}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=Nt(qe),Es=E({},qe,{view:0,detail:0}),Su=Nt(Es),da,ma,sr,Ts=E({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sr&&(sr&&t.type==="mousemove"?(da=t.screenX-sr.screenX,ma=t.screenY-sr.screenY):ma=da=0,sr=t),da)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),An=Nt(Ts),Ru=E({},Ts,{dataTransfer:0}),sf=Nt(Ru),bs=E({},Es,{relatedTarget:0}),ga=Nt(bs),zo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),pa=Nt(zo),xu=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ya=Nt(xu),af=E({},qe,{data:0}),Bo=Nt(af),ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Cu[t])?!!r[t]:!1}function As(){return qo}var Nu=E({},Es,{key:function(t){if(t.key){var r=ws[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=rr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(t){return t.type==="keypress"?rr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_a=Nt(Nu),ku=E({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=Nt(ku),Vr=E({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),Du=Nt(Vr),Ou=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mu=Nt(Ou),Pu=E({},Ts,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),va=Nt(Pu),en=E({},qe,{newState:0,oldState:0}),Vu=Nt(en),Lu=[9,13,27,32],ar=Vn&&"CompositionEvent"in window,c=null;Vn&&"documentMode"in document&&(c=document.documentMode);var y=Vn&&"TextEvent"in window&&!c,_=Vn&&(!ar||c&&8<c&&11>=c),b=" ",B=!1;function Y(t,r){switch(t){case"keyup":return Lu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function wt(t,r){switch(t){case"compositionend":return oe(r);case"keypress":return r.which!==32?null:(B=!0,b);case"textInput":return t=r.data,t===b&&B?null:t;default:return null}}function Ve(t,r){if(Pe)return t==="compositionend"||!ar&&Y(t,r)?(t=Uo(),Pr=mi=nr=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!kt[t.type]:r==="textarea"}function Lr(t,r,a,l){Or?Mr?Mr.push(l):Mr=[l]:Or=l,r=wc(r,"onChange"),0<r.length&&(a=new fa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Lt=null,or=null;function Fo(t){P_(t,0)}function Uu(t){var r=Jn(t);if(Mo(r))return t}function np(t,r){if(t==="change")return r}var rp=!1;if(Vn){var of;if(Vn){var lf="oninput"in document;if(!lf){var ip=document.createElement("div");ip.setAttribute("oninput","return;"),lf=typeof ip.oninput=="function"}of=lf}else of=!1;rp=of&&(!document.documentMode||9<document.documentMode)}function sp(){Lt&&(Lt.detachEvent("onpropertychange",ap),or=Lt=null)}function ap(t){if(t.propertyName==="value"&&Uu(or)){var r=[];Lr(r,or,t,bn(t)),Au(Fo,r)}}function fw(t,r,a){t==="focusin"?(sp(),Lt=r,or=a,Lt.attachEvent("onpropertychange",ap)):t==="focusout"&&sp()}function dw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(or)}function mw(t,r){if(t==="click")return Uu(r)}function gw(t,r){if(t==="input"||t==="change")return Uu(r)}function pw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var hn=typeof Object.is=="function"?Object.is:pw;function Go(t,r){if(hn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!rs.call(r,h)||!hn(t[h],r[h]))return!1}return!0}function op(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lp(t,r){var a=op(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=op(a)}}function up(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?up(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function cp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ms(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ms(t.document)}return r}function uf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var yw=Vn&&"documentMode"in document&&11>=document.documentMode,Ea=null,cf=null,Ko=null,hf=!1;function hp(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hf||Ea==null||Ea!==ms(l)||(l=Ea,"selectionStart"in l&&uf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Go(Ko,l)||(Ko=l,l=wc(cf,"onSelect"),0<l.length&&(r=new fa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ea)))}function Ss(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ta={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},ff={},fp={};Vn&&(fp=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Rs(t){if(ff[t])return ff[t];if(!Ta[t])return t;var r=Ta[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in fp)return ff[t]=r[a];return t}var dp=Rs("animationend"),mp=Rs("animationiteration"),gp=Rs("animationstart"),_w=Rs("transitionrun"),vw=Rs("transitionstart"),Ew=Rs("transitioncancel"),pp=Rs("transitionend"),yp=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function Ln(t,r){yp.set(t,r),Pn(r,[t])}var _p=new WeakMap;function Sn(t,r){if(typeof t=="object"&&t!==null){var a=_p.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ua(r)},_p.set(t,r),r)}return{value:t,source:r,stack:ua(r)}}var Rn=[],ba=0,mf=0;function ju(){for(var t=ba,r=mf=ba=0;r<t;){var a=Rn[r];Rn[r++]=null;var l=Rn[r];Rn[r++]=null;var h=Rn[r];Rn[r++]=null;var d=Rn[r];if(Rn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&vp(a,h,d)}}function zu(t,r,a,l){Rn[ba++]=t,Rn[ba++]=r,Rn[ba++]=a,Rn[ba++]=l,mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function gf(t,r,a,l){return zu(t,r,a,l),Bu(t)}function wa(t,r){return zu(t,null,null,r),Bu(t)}function vp(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Bu(t){if(50<yl)throw yl=0,Td=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Aa={};function Tw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,r,a,l){return new Tw(t,r,a,l)}function pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ur(t,r){var a=t.alternate;return a===null?(a=fn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ep(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function qu(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")pf(t)&&(v=1);else if(typeof t=="string")v=wA(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=fn(31,a,r,h),t.elementType=x,t.lanes=d,t;case N:return xs(a.children,h,d,r);case K:v=8,h|=24;break;case z:return t=fn(12,a,r,h|2),t.elementType=z,t.lanes=d,t;case le:return t=fn(13,a,r,h),t.elementType=le,t.lanes=d,t;case de:return t=fn(19,a,r,h),t.elementType=de,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case Q:v=10;break e;case ne:v=9;break e;case ae:v=11;break e;case k:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=fn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function xs(t,r,a,l){return t=fn(7,t,l,r),t.lanes=a,t}function yf(t,r,a){return t=fn(6,t,null,r),t.lanes=a,t}function _f(t,r,a){return r=fn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Sa=[],Ra=0,Hu=null,Fu=0,xn=[],In=0,Is=null,jr=1,zr="";function Cs(t,r){Sa[Ra++]=Fu,Sa[Ra++]=Hu,Hu=t,Fu=r}function Tp(t,r,a){xn[In++]=jr,xn[In++]=zr,xn[In++]=Is,Is=t;var l=jr;t=zr;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,jr=1<<32-Gt(r)+h|a<<h|l,zr=d+t}else jr=1<<d|a<<h|l,zr=t}function vf(t){t.return!==null&&(Cs(t,1),Tp(t,1,0))}function Ef(t){for(;t===Hu;)Hu=Sa[--Ra],Sa[Ra]=null,Fu=Sa[--Ra],Sa[Ra]=null;for(;t===Is;)Is=xn[--In],xn[In]=null,zr=xn[--In],xn[In]=null,jr=xn[--In],xn[In]=null}var tn=null,lt=null,Be=!1,Ns=null,lr=!1,Tf=Error(s(519));function ks(t){var r=Error(s(418,""));throw $o(Sn(r,t)),Tf}function bp(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[bt]=t,r[gt]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<vl.length;a++)De(vl[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),gs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ca(r);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),ps(r,l.value,l.defaultValue,l.children),ca(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||j_(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=Ac),r=!0):r=!1,r||ks(t)}function wp(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:lr=!1;return;case 27:case 3:lr=!0;return;default:tn=tn.return}}function Yo(t){if(t!==tn)return!1;if(!Be)return wp(t),Be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ld(t.type,t.memoizedProps)),a=!a),a&&lt&&ks(t),wp(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){lt=jn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}lt=null}}else r===27?(r=lt,Ni(t.type)?(t=Bd,Bd=null,lt=t):lt=r):lt=tn?jn(t.stateNode.nextSibling):null;return!0}function Qo(){lt=tn=null,Be=!1}function Ap(){var t=Ns;return t!==null&&(an===null?an=t:an.push.apply(an,t),Ns=null),t}function $o(t){Ns===null?Ns=[t]:Ns.push(t)}var bf=ie(null),Ds=null,Br=null;function gi(t,r,a){se(bf,r._currentValue),r._currentValue=a}function qr(t){t._currentValue=bf.current,J(bf)}function wf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Af(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),wf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),wf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Xo(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ct.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}h=h.return}t!==null&&Af(r,t,a,l),r.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Os(t){Ds=t,Br=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Sp(Ds,t)}function Ku(t,r){return Ds===null&&Os(t),Sp(t,r)}function Sp(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Br===null){if(t===null)throw Error(s(308));Br=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Br=Br.next=r;return a}var bw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},ww=i.unstable_scheduleCallback,Aw=i.unstable_NormalPriority,St={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new bw,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&ww(Aw,function(){t.controller.abort()})}var Zo=null,Rf=0,xa=0,Ia=null;function Sw(t,r){if(Zo===null){var a=Zo=[];Rf=0,xa=Id(),Ia={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Rf++,r.then(Rp,Rp),r}function Rp(){if(--Rf===0&&Zo!==null){Ia!==null&&(Ia.status="fulfilled");var t=Zo;Zo=null,xa=0,Ia=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Rw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var xp=X.S;X.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Sw(t,r),xp!==null&&xp(t,r)};var Ms=ie(null);function xf(){var t=Ms.current;return t!==null?t:Je.pooledCache}function Yu(t,r){r===null?se(Ms,Ms.current):se(Ms,r.pool)}function Ip(){var t=xf();return t===null?null:{parent:St._currentValue,pool:t}}var Jo=Error(s(460)),Cp=Error(s(474)),Qu=Error(s(542)),If={then:function(){}};function Np(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $u(){}function kp(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then($u,$u),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Op(t),t;default:if(typeof r.status=="string")r.then($u,$u);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Op(t),t}throw el=r,Jo}}var el=null;function Dp(){if(el===null)throw Error(s(459));var t=el;return el=null,t}function Op(t){if(t===Jo||t===Qu)throw Error(s(483))}var pi=!1;function Cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _i(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Bu(t),vp(t,null,a),r}return zu(t,l,r,a),Bu(t)}function tl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Co(t,a)}}function kf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Df=!1;function nl(){if(Df){var t=Ia;if(t!==null)throw t}}function rl(t,r,a,l){Df=!1;var h=t.updateQueue;pi=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,H=I.next;I.next=null,v===null?d=H:v.next=H,v=I;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=H:T.next=H,W.lastBaseUpdate=I))}if(d!==null){var ee=h.baseState;v=0,W=H=I=null,T=d;do{var F=T.lane&-536870913,G=F!==T.lane;if(G?(Le&F)===F:(l&F)===F){F!==0&&F===xa&&(Df=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=t,_e=T;F=r;var Xe=a;switch(_e.tag){case 1:if(be=_e.payload,typeof be=="function"){ee=be.call(Xe,ee,F);break e}ee=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=_e.payload,F=typeof be=="function"?be.call(Xe,ee,F):be,F==null)break e;ee=E({},ee,F);break e;case 2:pi=!0}}F=T.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(H=W=G,I=ee):W=W.next=G,v|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);W===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Ri|=v,t.lanes=v,t.memoizedState=ee}}function Mp(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Pp(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Mp(a[t],r)}var Ca=ie(null),Xu=ie(0);function Vp(t,r){t=$r,se(Xu,t),se(Ca,r),$r=t|r.baseLanes}function Of(){se(Xu,$r),se(Ca,Ca.current)}function Mf(){$r=Xu.current,J(Ca),J(Xu)}var vi=0,xe=null,Qe=null,yt=null,Wu=!1,Na=!1,Ps=!1,Zu=0,il=0,ka=null,xw=0;function ft(){throw Error(s(321))}function Pf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!hn(t[a],r[a]))return!1;return!0}function Vf(t,r,a,l,h,d){return vi=d,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?vy:Ey,Ps=!1,d=a(l,h),Ps=!1,Na&&(d=Up(r,a,l,h)),Lp(t),d}function Lp(t){X.H=ic;var r=Qe!==null&&Qe.next!==null;if(vi=0,yt=Qe=xe=null,Wu=!1,il=0,ka=null,r)throw Error(s(300));t===null||Dt||(t=t.dependencies,t!==null&&Gu(t)&&(Dt=!0))}function Up(t,r,a,l){xe=t;var h=0;do{if(Na&&(ka=null),il=0,Na=!1,25<=h)throw Error(s(301));if(h+=1,yt=Qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=Mw,d=r(a,l)}while(Na);return d}function Iw(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?sl(r):r,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(xe.flags|=1024),r}function Lf(){var t=Zu!==0;return Zu=0,t}function Uf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function jf(t){if(Wu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Wu=!1}vi=0,yt=Qe=xe=null,Na=!1,il=Zu=0,ka=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?xe.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Qe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var r=yt===null?xe.memoizedState:yt.next;if(r!==null)yt=r,Qe=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},yt===null?xe.memoizedState=yt=t:yt=yt.next=t}return yt}function zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var r=il;return il+=1,ka===null&&(ka=[]),t=kp(ka,t,r),r=xe,(yt===null?r.memoizedState:yt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?vy:Ey),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===Q)return Kt(t)}throw Error(s(438,String(t)))}function Bf(t){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=zf(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=M;return r.index++,a}function Hr(t,r){return typeof r=="function"?r(t):r}function ec(t){var r=_t();return qf(r,Qe,t)}function qf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=v=null,I=null,H=r,W=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Le&ee)===ee:(vi&ee)===ee){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===xa&&(W=!0);else if((vi&F)===F){H=H.next,F===xa&&(W=!0);continue}else ee={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=ee,v=d):I=I.next=ee,xe.lanes|=F,Ri|=F;ee=H.action,Ps&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else F={lane:ee,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=F,v=d):I=I.next=F,xe.lanes|=ee,Ri|=ee;H=H.next}while(H!==null&&H!==r);if(I===null?v=d:I.next=T,!hn(d,t.memoizedState)&&(Dt=!0,W&&(a=Ia,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Hf(t){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);hn(d,r.memoizedState)||(Dt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function jp(t,r,a){var l=xe,h=_t(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!hn((Qe||h).memoizedState,a);v&&(h.memoizedState=a,Dt=!0),h=h.queue;var T=qp.bind(null,l,h,t);if(al(2048,8,T,[t]),h.getSnapshot!==r||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Da(9,tc(),Bp.bind(null,l,h,a,r),null),Je===null)throw Error(s(349));d||(vi&124)!==0||zp(l,r,a)}return a}function zp(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=zf(),xe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Bp(t,r,a,l){r.value=a,r.getSnapshot=l,Hp(r)&&Fp(t)}function qp(t,r,a){return a(function(){Hp(r)&&Fp(t)})}function Hp(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!hn(t,a)}catch{return!0}}function Fp(t){var r=wa(t,2);r!==null&&yn(r,t,2)}function Ff(t){var r=rn();if(typeof t=="function"){var a=t;if(t=a(),Ps){un(!0);try{a()}finally{un(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:t},r}function Gp(t,r,a,l){return t.baseState=a,qf(t,Qe,typeof l=="function"?l:Hr)}function Cw(t,r,a,l,h){if(rc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Kp(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Kp(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=X.T,v={};X.T=v;try{var T=a(h,l),I=X.S;I!==null&&I(v,T),Yp(t,r,T)}catch(H){Gf(t,r,H)}finally{X.T=d}}else try{d=a(h,l),Yp(t,r,d)}catch(H){Gf(t,r,H)}}function Yp(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qp(t,r,l)},function(l){return Gf(t,r,l)}):Qp(t,r,a)}function Qp(t,r,a){r.status="fulfilled",r.value=a,$p(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Kp(t,a)))}function Gf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,$p(r),r=r.next;while(r!==l)}t.action=null}function $p(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Xp(t,r){return r}function Wp(t,r){if(Be){var a=Je.formState;if(a!==null){e:{var l=xe;if(Be){if(lt){t:{for(var h=lt,d=lr;h.nodeType!==8;){if(!d){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=jn(h.nextSibling),l=h.data==="F!";break e}}ks(l)}l=!1}l&&(r=a[0])}}return a=rn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xp,lastRenderedState:r},a.queue=l,a=py.bind(null,xe,l),l.dispatch=a,l=Ff(!1),d=Xf.bind(null,xe,!1,l.queue),l=rn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Cw.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Zp(t){var r=_t();return Jp(r,Qe,t)}function Jp(t,r,a){if(r=qf(t,r,Xp)[0],t=ec(Hr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=sl(r)}catch(v){throw v===Jo?Qu:v}else l=r;r=_t();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,Da(9,tc(),Nw.bind(null,h,a),null)),[l,d,t]}function Nw(t,r){t.action=r}function ey(t){var r=_t(),a=Qe;if(a!==null)return Jp(r,a,t);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Da(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=zf(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function tc(){return{destroy:void 0,resource:void 0}}function ty(){return _t().memoizedState}function nc(t,r,a,l){var h=rn();l=l===void 0?null:l,xe.flags|=t,h.memoizedState=Da(1|r,tc(),a,l)}function al(t,r,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Qe!==null&&l!==null&&Pf(l,Qe.memoizedState.deps)?h.memoizedState=Da(r,d,a,l):(xe.flags|=t,h.memoizedState=Da(1|r,d,a,l))}function ny(t,r){nc(8390656,8,t,r)}function ry(t,r){al(2048,8,t,r)}function iy(t,r){return al(4,2,t,r)}function sy(t,r){return al(4,4,t,r)}function ay(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function oy(t,r,a){a=a!=null?a.concat([t]):null,al(4,4,ay.bind(null,r,t),a)}function Kf(){}function ly(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Pf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function uy(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Pf(r,l[1]))return l[0];if(l=t(),Ps){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,r],l}function Yf(t,r,a){return a===void 0||(vi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=f_(),xe.lanes|=t,Ri|=t,a)}function cy(t,r,a,l){return hn(a,r)?a:Ca.current!==null?(t=Yf(t,a,l),hn(t,r)||(Dt=!0),t):(vi&42)===0?(Dt=!0,t.memoizedState=a):(t=f_(),xe.lanes|=t,Ri|=t,r)}function hy(t,r,a,l,h){var d=ue.p;ue.p=d!==0&&8>d?d:8;var v=X.T,T={};X.T=T,Xf(t,!1,r,a);try{var I=h(),H=X.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=Rw(I,l);ol(t,r,W,pn(t))}else ol(t,r,l,pn(t))}catch(ee){ol(t,r,{then:function(){},status:"rejected",reason:ee},pn())}finally{ue.p=d,X.T=v}}function kw(){}function Qf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=fy(t).queue;hy(t,h,r,ge,a===null?kw:function(){return dy(t),a(l)})}function fy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function dy(t){var r=fy(t).next.queue;ol(t,r,{},pn())}function $f(){return Kt(Sl)}function my(){return _t().memoizedState}function gy(){return _t().memoizedState}function Dw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=pn();t=yi(a);var l=_i(r,t,a);l!==null&&(yn(l,r,a),tl(l,r,a)),r={cache:Sf()},t.payload=r;return}r=r.return}}function Ow(t,r,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},rc(t)?yy(r,a):(a=gf(t,r,a,l),a!==null&&(yn(a,t,l),_y(a,r,l)))}function py(t,r,a){var l=pn();ol(t,r,a,l)}function ol(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(t))yy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return zu(t,r,h,0),Je===null&&ju(),!1}catch{}finally{}if(a=gf(t,r,h,l),a!==null)return yn(a,t,l),_y(a,r,l),!0}return!1}function Xf(t,r,a,l){if(l={lane:2,revertLane:Id(),action:l,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(r)throw Error(s(479))}else r=gf(t,a,l,2),r!==null&&yn(r,t,2)}function rc(t){var r=t.alternate;return t===xe||r!==null&&r===xe}function yy(t,r){Na=Wu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function _y(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Co(t,a)}}var ic={readContext:Kt,use:Ju,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},vy={readContext:Kt,use:Ju,useCallback:function(t,r){return rn().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:ny,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,nc(4194308,4,ay.bind(null,r,t),a)},useLayoutEffect:function(t,r){return nc(4194308,4,t,r)},useInsertionEffect:function(t,r){nc(4,2,t,r)},useMemo:function(t,r){var a=rn();r=r===void 0?null:r;var l=t();if(Ps){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=rn();if(a!==void 0){var h=a(r);if(Ps){un(!0);try{a(r)}finally{un(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Ow.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var r=rn();return t={current:t},r.memoizedState=t},useState:function(t){t=Ff(t);var r=t.queue,a=py.bind(null,xe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Kf,useDeferredValue:function(t,r){var a=rn();return Yf(a,t,r)},useTransition:function(){var t=Ff(!1);return t=hy.bind(null,xe,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=xe,h=rn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Le&124)!==0||zp(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,ny(qp.bind(null,l,d,t),[t]),l.flags|=2048,Da(9,tc(),Bp.bind(null,l,d,a,r),null),a},useId:function(){var t=rn(),r=Je.identifierPrefix;if(Be){var a=zr,l=jr;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=Zu++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=xw++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:$f,useFormState:Wp,useActionState:Wp,useOptimistic:function(t){var r=rn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Xf.bind(null,xe,!0,a),a.dispatch=r,[t,r]},useMemoCache:Bf,useCacheRefresh:function(){return rn().memoizedState=Dw.bind(null,xe)}},Ey={readContext:Kt,use:Ju,useCallback:ly,useContext:Kt,useEffect:ry,useImperativeHandle:oy,useInsertionEffect:iy,useLayoutEffect:sy,useMemo:uy,useReducer:ec,useRef:ty,useState:function(){return ec(Hr)},useDebugValue:Kf,useDeferredValue:function(t,r){var a=_t();return cy(a,Qe.memoizedState,t,r)},useTransition:function(){var t=ec(Hr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:jp,useId:my,useHostTransitionStatus:$f,useFormState:Zp,useActionState:Zp,useOptimistic:function(t,r){var a=_t();return Gp(a,Qe,t,r)},useMemoCache:Bf,useCacheRefresh:gy},Mw={readContext:Kt,use:Ju,useCallback:ly,useContext:Kt,useEffect:ry,useImperativeHandle:oy,useInsertionEffect:iy,useLayoutEffect:sy,useMemo:uy,useReducer:Hf,useRef:ty,useState:function(){return Hf(Hr)},useDebugValue:Kf,useDeferredValue:function(t,r){var a=_t();return Qe===null?Yf(a,t,r):cy(a,Qe.memoizedState,t,r)},useTransition:function(){var t=Hf(Hr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:jp,useId:my,useHostTransitionStatus:$f,useFormState:ey,useActionState:ey,useOptimistic:function(t,r){var a=_t();return Qe!==null?Gp(a,Qe,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:gy},Oa=null,ll=0;function sc(t){var r=ll;return ll+=1,Oa===null&&(Oa=[]),kp(Oa,t,r)}function ul(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function ac(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ty(t){var r=t._init;return r(t._payload)}function by(t){function r(L,P){if(t){var q=L.deletions;q===null?(L.deletions=[P],L.flags|=16):q.push(P)}}function a(L,P){if(!t)return null;for(;P!==null;)r(L,P),P=P.sibling;return null}function l(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function h(L,P){return L=Ur(L,P),L.index=0,L.sibling=null,L}function d(L,P,q){return L.index=q,t?(q=L.alternate,q!==null?(q=q.index,q<P?(L.flags|=67108866,P):q):(L.flags|=67108866,P)):(L.flags|=1048576,P)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,P,q,Z){return P===null||P.tag!==6?(P=yf(q,L.mode,Z),P.return=L,P):(P=h(P,q),P.return=L,P)}function I(L,P,q,Z){var fe=q.type;return fe===N?W(L,P,q.props.children,Z,q.key):P!==null&&(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Ty(fe)===P.type)?(P=h(P,q.props),ul(P,q),P.return=L,P):(P=qu(q.type,q.key,q.props,null,L.mode,Z),ul(P,q),P.return=L,P)}function H(L,P,q,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=_f(q,L.mode,Z),P.return=L,P):(P=h(P,q.children||[]),P.return=L,P)}function W(L,P,q,Z,fe){return P===null||P.tag!==7?(P=xs(q,L.mode,Z,fe),P.return=L,P):(P=h(P,q),P.return=L,P)}function ee(L,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=yf(""+P,L.mode,q),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return q=qu(P.type,P.key,P.props,null,L.mode,q),ul(q,P),q.return=L,q;case O:return P=_f(P,L.mode,q),P.return=L,P;case R:var Z=P._init;return P=Z(P._payload),ee(L,P,q)}if(et(P)||U(P))return P=xs(P,L.mode,q,null),P.return=L,P;if(typeof P.then=="function")return ee(L,sc(P),q);if(P.$$typeof===Q)return ee(L,Ku(L,P),q);ac(L,P)}return null}function F(L,P,q,Z){var fe=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return fe!==null?null:T(L,P,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===fe?I(L,P,q,Z):null;case O:return q.key===fe?H(L,P,q,Z):null;case R:return fe=q._init,q=fe(q._payload),F(L,P,q,Z)}if(et(q)||U(q))return fe!==null?null:W(L,P,q,Z,null);if(typeof q.then=="function")return F(L,P,sc(q),Z);if(q.$$typeof===Q)return F(L,P,Ku(L,q),Z);ac(L,q)}return null}function G(L,P,q,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(q)||null,T(P,L,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return L=L.get(Z.key===null?q:Z.key)||null,I(P,L,Z,fe);case O:return L=L.get(Z.key===null?q:Z.key)||null,H(P,L,Z,fe);case R:var Ne=Z._init;return Z=Ne(Z._payload),G(L,P,q,Z,fe)}if(et(Z)||U(Z))return L=L.get(q)||null,W(P,L,Z,fe,null);if(typeof Z.then=="function")return G(L,P,q,sc(Z),fe);if(Z.$$typeof===Q)return G(L,P,q,Ku(P,Z),fe);ac(P,Z)}return null}function be(L,P,q,Z){for(var fe=null,Ne=null,pe=P,ve=P=0,Mt=null;pe!==null&&ve<q.length;ve++){pe.index>ve?(Mt=pe,pe=null):Mt=pe.sibling;var ze=F(L,pe,q[ve],Z);if(ze===null){pe===null&&(pe=Mt);break}t&&pe&&ze.alternate===null&&r(L,pe),P=d(ze,P,ve),Ne===null?fe=ze:Ne.sibling=ze,Ne=ze,pe=Mt}if(ve===q.length)return a(L,pe),Be&&Cs(L,ve),fe;if(pe===null){for(;ve<q.length;ve++)pe=ee(L,q[ve],Z),pe!==null&&(P=d(pe,P,ve),Ne===null?fe=pe:Ne.sibling=pe,Ne=pe);return Be&&Cs(L,ve),fe}for(pe=l(pe);ve<q.length;ve++)Mt=G(pe,L,ve,q[ve],Z),Mt!==null&&(t&&Mt.alternate!==null&&pe.delete(Mt.key===null?ve:Mt.key),P=d(Mt,P,ve),Ne===null?fe=Mt:Ne.sibling=Mt,Ne=Mt);return t&&pe.forEach(function(Pi){return r(L,Pi)}),Be&&Cs(L,ve),fe}function _e(L,P,q,Z){if(q==null)throw Error(s(151));for(var fe=null,Ne=null,pe=P,ve=P=0,Mt=null,ze=q.next();pe!==null&&!ze.done;ve++,ze=q.next()){pe.index>ve?(Mt=pe,pe=null):Mt=pe.sibling;var Pi=F(L,pe,ze.value,Z);if(Pi===null){pe===null&&(pe=Mt);break}t&&pe&&Pi.alternate===null&&r(L,pe),P=d(Pi,P,ve),Ne===null?fe=Pi:Ne.sibling=Pi,Ne=Pi,pe=Mt}if(ze.done)return a(L,pe),Be&&Cs(L,ve),fe;if(pe===null){for(;!ze.done;ve++,ze=q.next())ze=ee(L,ze.value,Z),ze!==null&&(P=d(ze,P,ve),Ne===null?fe=ze:Ne.sibling=ze,Ne=ze);return Be&&Cs(L,ve),fe}for(pe=l(pe);!ze.done;ve++,ze=q.next())ze=G(pe,L,ve,ze.value,Z),ze!==null&&(t&&ze.alternate!==null&&pe.delete(ze.key===null?ve:ze.key),P=d(ze,P,ve),Ne===null?fe=ze:Ne.sibling=ze,Ne=ze);return t&&pe.forEach(function(PA){return r(L,PA)}),Be&&Cs(L,ve),fe}function Xe(L,P,q,Z){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:e:{for(var fe=q.key;P!==null;){if(P.key===fe){if(fe=q.type,fe===N){if(P.tag===7){a(L,P.sibling),Z=h(P,q.props.children),Z.return=L,L=Z;break e}}else if(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Ty(fe)===P.type){a(L,P.sibling),Z=h(P,q.props),ul(Z,q),Z.return=L,L=Z;break e}a(L,P);break}else r(L,P);P=P.sibling}q.type===N?(Z=xs(q.props.children,L.mode,Z,q.key),Z.return=L,L=Z):(Z=qu(q.type,q.key,q.props,null,L.mode,Z),ul(Z,q),Z.return=L,L=Z)}return v(L);case O:e:{for(fe=q.key;P!==null;){if(P.key===fe)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(L,P.sibling),Z=h(P,q.children||[]),Z.return=L,L=Z;break e}else{a(L,P);break}else r(L,P);P=P.sibling}Z=_f(q,L.mode,Z),Z.return=L,L=Z}return v(L);case R:return fe=q._init,q=fe(q._payload),Xe(L,P,q,Z)}if(et(q))return be(L,P,q,Z);if(U(q)){if(fe=U(q),typeof fe!="function")throw Error(s(150));return q=fe.call(q),_e(L,P,q,Z)}if(typeof q.then=="function")return Xe(L,P,sc(q),Z);if(q.$$typeof===Q)return Xe(L,P,Ku(L,q),Z);ac(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(L,P.sibling),Z=h(P,q),Z.return=L,L=Z):(a(L,P),Z=yf(q,L.mode,Z),Z.return=L,L=Z),v(L)):a(L,P)}return function(L,P,q,Z){try{ll=0;var fe=Xe(L,P,q,Z);return Oa=null,fe}catch(pe){if(pe===Jo||pe===Qu)throw pe;var Ne=fn(29,pe,null,L.mode);return Ne.lanes=Z,Ne.return=L,Ne}finally{}}}var Ma=by(!0),wy=by(!1),Cn=ie(null),ur=null;function Ei(t){var r=t.alternate;se(Rt,Rt.current&1),se(Cn,t),ur===null&&(r===null||Ca.current!==null||r.memoizedState!==null)&&(ur=t)}function Ay(t){if(t.tag===22){if(se(Rt,Rt.current),se(Cn,t),ur===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(ur=t)}}else Ti()}function Ti(){se(Rt,Rt.current),se(Cn,Cn.current)}function Fr(t){J(Cn),ur===t&&(ur=null),J(Rt)}var Rt=ie(0);function oc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||zd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Wf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Zf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=pn(),h=yi(l);h.payload=r,a!=null&&(h.callback=a),r=_i(t,h,l),r!==null&&(yn(r,t,l),tl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=pn(),h=yi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=_i(t,h,l),r!==null&&(yn(r,t,l),tl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=pn(),l=yi(a);l.tag=2,r!=null&&(l.callback=r),r=_i(t,l,a),r!==null&&(yn(r,t,a),tl(r,t,a))}};function Sy(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Go(a,l)||!Go(h,d):!0}function Ry(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Zf.enqueueReplaceState(r,r.state,null)}function Vs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var lc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function xy(t){lc(t)}function Iy(t){console.error(t)}function Cy(t){lc(t)}function uc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Ny(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jf(t,r,a){return a=yi(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,r)},a}function ky(t){return t=yi(t),t.tag=3,t}function Dy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ny(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ny(r,a,l),typeof h!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Pw(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Xo(r,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ur===null?wd():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===If?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Sd(t,l,h)),!1;case 22:return a.flags|=65536,l===If?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Sd(t,l,h)),!1}throw Error(s(435,a.tag))}return Sd(t,l,h),wd(),!1}if(Be)return r=Cn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Tf&&(t=Error(s(422),{cause:l}),$o(Sn(t,a)))):(l!==Tf&&(r=Error(s(423),{cause:l}),$o(Sn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Sn(l,a),h=Jf(t.stateNode,l,h),kf(t,h),ut!==4&&(ut=2)),!1;var d=Error(s(520),{cause:l});if(d=Sn(d,a),pl===null?pl=[d]:pl.push(d),ut!==4&&(ut=2),r===null)return!0;l=Sn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Jf(a.stateNode,l,t),kf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xi===null||!xi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ky(h),Dy(h,t,a,l),kf(a,h),!1}a=a.return}while(a!==null);return!1}var Oy=Error(s(461)),Dt=!1;function Ut(t,r,a,l){r.child=t===null?wy(r,null,a,l):Ma(r,t.child,a,l)}function My(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Os(r),l=Vf(t,r,a,v,d,h),T=Lf(),t!==null&&!Dt?(Uf(t,r,h),Gr(t,r,h)):(Be&&T&&vf(r),r.flags|=1,Ut(t,r,l,h),r.child)}function Py(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!pf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Vy(t,r,d,l,h)):(t=qu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!od(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(v,l)&&t.ref===r.ref)return Gr(t,r,h)}return r.flags|=1,t=Ur(d,l),t.ref=r.ref,t.return=r,r.child=t}function Vy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===r.ref)if(Dt=!1,r.pendingProps=l=d,od(t,h))(t.flags&131072)!==0&&(Dt=!0);else return r.lanes=t.lanes,Gr(t,r,h)}return ed(t,r,a,l,h)}function Ly(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Uy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(r,d!==null?d.cachePool:null),d!==null?Vp(r,d):Of(),Ay(r);else return r.lanes=r.childLanes=536870912,Uy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Yu(r,d.cachePool),Vp(r,d),Ti(),r.memoizedState=null):(t!==null&&Yu(r,null),Of(),Ti());return Ut(t,r,h,a),r.child}function Uy(t,r,a,l){var h=xf();return h=h===null?null:{parent:St._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Yu(r,null),Of(),Ay(r),t!==null&&Xo(t,r,l,!0),null}function cc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function ed(t,r,a,l,h){return Os(r),a=Vf(t,r,a,l,void 0,h),l=Lf(),t!==null&&!Dt?(Uf(t,r,h),Gr(t,r,h)):(Be&&l&&vf(r),r.flags|=1,Ut(t,r,a,h),r.child)}function jy(t,r,a,l,h,d){return Os(r),r.updateQueue=null,a=Up(r,l,a,h),Lp(t),l=Lf(),t!==null&&!Dt?(Uf(t,r,d),Gr(t,r,d)):(Be&&l&&vf(r),r.flags|=1,Ut(t,r,a,d),r.child)}function zy(t,r,a,l,h){if(Os(r),r.stateNode===null){var d=Aa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Zf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Cf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):Aa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Wf(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Zf.enqueueReplaceState(d,d.state,null),rl(r,l,d,h),nl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,I=Vs(a,T);d.props=I;var H=d.context,W=a.contextType;v=Aa,typeof W=="object"&&W!==null&&(v=Kt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==v)&&Ry(r,d,l,v),pi=!1;var F=r.memoizedState;d.state=F,rl(r,l,d,h),nl(),H=r.memoizedState,T||F!==H||pi?(typeof ee=="function"&&(Wf(r,a,ee,l),H=r.memoizedState),(I=pi||Sy(r,a,I,l,F,H,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Nf(t,r),v=r.memoizedProps,W=Vs(a,v),d.props=W,ee=r.pendingProps,F=d.context,H=a.contextType,I=Aa,typeof H=="object"&&H!==null&&(I=Kt(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||F!==I)&&Ry(r,d,l,I),pi=!1,F=r.memoizedState,d.state=F,rl(r,l,d,h),nl();var G=r.memoizedState;v!==ee||F!==G||pi||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof T=="function"&&(Wf(r,a,T,l),G=r.memoizedState),(W=pi||Sy(r,a,W,l,F,G,I)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,cc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ma(r,t.child,null,h),r.child=Ma(r,null,a,h)):Ut(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Gr(t,r,h),t}function By(t,r,a,l){return Qo(),r.flags|=256,Ut(t,r,a,l),r.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nd(t){return{baseLanes:t,cachePool:Ip()}}function rd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Nn),t}function qy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(h?Ei(r):Ti(),Be){var T=lt,I;if(I=T){e:{for(I=T,T=lr;I.nodeType!==8;){if(!T){T=null;break e}if(I=jn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Is!==null?{id:jr,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},I=fn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,tn=r,lt=null,I=!0):I=!1}I||ks(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return zd(T)?r.lanes=32:r.lanes=536870912,null;Fr(r)}return T=l.children,l=l.fallback,h?(Ti(),h=r.mode,T=hc({mode:"hidden",children:T},h),l=xs(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=nd(a),h.childLanes=rd(t,v,a),r.memoizedState=td,l):(Ei(r),id(r,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(Ei(r),r.flags&=-257,r=sd(t,r,a)):r.memoizedState!==null?(Ti(),r.child=t.child,r.flags|=128,r=null):(Ti(),h=l.fallback,T=r.mode,l=hc({mode:"visible",children:l.children},T),h=xs(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ma(r,t.child,null,a),l=r.child,l.memoizedState=nd(a),l.childLanes=rd(t,v,a),r.memoizedState=td,r=h);else if(Ei(r),zd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(s(419)),l.stack="",l.digest=v,$o({value:l,source:null,stack:null}),r=sd(t,r,a)}else if(Dt||Xo(t,r,a,!1),v=(a&t.childLanes)!==0,Dt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:li(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,wa(t,l),yn(v,t,l),Oy;T.data==="$?"||wd(),r=sd(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,lt=jn(T.nextSibling),tn=r,Be=!0,Ns=null,lr=!1,t!==null&&(xn[In++]=jr,xn[In++]=zr,xn[In++]=Is,jr=t.id,zr=t.overflow,Is=r),r=id(r,l.children),r.flags|=4096);return r}return h?(Ti(),h=l.fallback,T=r.mode,I=t.child,H=I.sibling,l=Ur(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?h=Ur(H,h):(h=xs(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=nd(a):(I=T.cachePool,I!==null?(H=St._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=Ip(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=rd(t,v,a),r.memoizedState=td,l):(Ei(r),a=t.child,t=a.sibling,a=Ur(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function id(t,r){return r=hc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function hc(t,r){return t=fn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function sd(t,r,a){return Ma(r,t.child,null,a),t=id(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Hy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),wf(t.return,r,a)}function ad(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Fy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,r,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hy(t,a,r);else if(t.tag===19)Hy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Rt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&oc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),ad(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&oc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ad(r,!0,a,null,d);break;case"together":ad(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Gr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ri|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Xo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Ur(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Ur(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function od(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function Vw(t,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),gi(r,St,t.memoizedState.cache),Qo();break;case 27:case 5:oi(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:gi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ei(r),r.flags|=128,null):(a&r.child.childLanes)!==0?qy(t,r,a):(Ei(r),t=Gr(t,r,a),t!==null?t.sibling:null);Ei(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Xo(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Fy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Rt,Rt.current),l)break;return null;case 22:case 23:return r.lanes=0,Ly(t,r,a);case 24:gi(r,St,t.memoizedState.cache)}return Gr(t,r,a)}function Gy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Dt=!0;else{if(!od(t,a)&&(r.flags&128)===0)return Dt=!1,Vw(t,r,a);Dt=(t.flags&131072)!==0}else Dt=!1,Be&&(r.flags&1048576)!==0&&Tp(r,Fu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")pf(l)?(t=Vs(l,t),r.tag=1,r=zy(null,r,l,t,a)):(r.tag=0,r=ed(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ae){r.tag=11,r=My(null,r,l,t,a);break e}else if(h===k){r.tag=14,r=Py(null,r,l,t,a);break e}}throw r=Tt(l)||l,Error(s(306,r,""))}}return r;case 0:return ed(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Vs(l,r.pendingProps),zy(t,r,l,h,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Nf(t,r),rl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,gi(r,St,l),l!==d.cache&&Af(r,[St],a,!0),nl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=By(t,r,l,a);break e}else if(l!==h){h=Sn(Error(s(424)),r),$o(h),r=By(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=jn(t.firstChild),tn=r,Be=!0,Ns=null,lr=!0,a=wy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qo(),l===h){r=Gr(t,r,a);break e}Ut(t,r,l,a)}r=r.child}return r;case 26:return cc(t,r),t===null?(a=$_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=Sc(we.current).createElement(a),l[bt]=r,l[gt]=t,zt(l,a,t),ht(l),r.stateNode=l):r.memoizedState=$_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return oi(r),t===null&&Be&&(l=r.stateNode=K_(r.type,r.pendingProps,we.current),tn=r,lr=!0,h=lt,Ni(r.type)?(Bd=h,lt=jn(l.firstChild)):lt=h),Ut(t,r,r.pendingProps.children,a),cc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((h=l=lt)&&(l=cA(l,r.type,r.pendingProps,lr),l!==null?(r.stateNode=l,tn=r,lt=jn(l.firstChild),lr=!1,h=!0):h=!1),h||ks(r)),oi(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Ld(h,d)?l=null:v!==null&&Ld(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Vf(t,r,Iw,null,null,a),Sl._currentValue=h),cc(t,r),Ut(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=lt)&&(a=hA(a,r.pendingProps,lr),a!==null?(r.stateNode=a,tn=r,lt=null,t=!0):t=!1),t||ks(r)),null;case 13:return qy(t,r,a);case 4:return Ze(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ma(r,null,l,a):Ut(t,r,l,a),r.child;case 11:return My(t,r,r.type,r.pendingProps,a);case 7:return Ut(t,r,r.pendingProps,a),r.child;case 8:return Ut(t,r,r.pendingProps.children,a),r.child;case 12:return Ut(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,gi(r,r.type,l.value),Ut(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Os(r),h=Kt(h),l=l(h),r.flags|=1,Ut(t,r,l,a),r.child;case 14:return Py(t,r,r.type,r.pendingProps,a);case 15:return Vy(t,r,r.type,r.pendingProps,a);case 19:return Fy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=hc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Ur(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Ly(t,r,a);case 24:return Os(r),l=Kt(St),t===null?(h=xf(),h===null&&(h=Je,d=Sf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Cf(r),gi(r,St,h)):((t.lanes&a)!==0&&(Nf(t,r),rl(r,null,null,a),nl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),gi(r,St,l)):(l=d.cache,gi(r,St,l),l!==h.cache&&Af(r,[St],a,!0))),Ut(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Kr(t){t.flags|=4}function Ky(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ev(r)){if(r=Cn.current,r!==null&&((Le&4194048)===Le?ur!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==ur))throw el=If,Cp;t.flags|=8192}}function fc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?xo():536870912,t.lanes|=r,Ua|=r)}function cl(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Lw(t,r,a){var l=r.pendingProps;switch(Ef(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),qr(St),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Yo(r)?Kr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ap())),st(r),null;case 26:return a=r.memoizedState,t===null?(Kr(r),a!==null?(st(r),Ky(r,a)):(st(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Kr(r),st(r),Ky(r,a)):(st(r),r.flags&=-16777217):(t.memoizedProps!==l&&Kr(r),st(r),r.flags&=-16777217),null;case 27:Sr(r),a=we.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Kr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}t=me.current,Yo(r)?bp(r):(t=K_(h,l,a),r.stateNode=t,Kr(r))}return st(r),null;case 5:if(Sr(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Kr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(t=me.current,Yo(r))bp(r);else{switch(h=Sc(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[bt]=r,t[gt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Kr(r)}}return st(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Kr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=we.current,Yo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||j_(t.nodeValue,a)),t||ks(r)}else t=Sc(t).createTextNode(l),t[bt]=r,r.stateNode=t}return st(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Yo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=r}else Qo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),h=!1}else h=Ap(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Fr(r),r):(Fr(r),null)}if(Fr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),fc(r,r.updateQueue),st(r),null;case 4:return Xn(),t===null&&Dd(r.stateNode.containerInfo),st(r),null;case 10:return qr(r.type),st(r),null;case 19:if(J(Rt),h=r.memoizedState,h===null)return st(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)cl(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=oc(t),d!==null){for(r.flags|=128,cl(h,!1),t=d.updateQueue,r.updateQueue=t,fc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Ep(a,t),a=a.sibling;return se(Rt,Rt.current&1|2),r.child}t=t.sibling}h.tail!==null&&vn()>gc&&(r.flags|=128,l=!0,cl(h,!1),r.lanes=4194304)}else{if(!l)if(t=oc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,fc(r,t),cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return st(r),null}else 2*vn()-h.renderingStartTime>gc&&a!==536870912&&(r.flags|=128,l=!0,cl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=vn(),r.sibling=null,t=Rt.current,se(Rt,l?t&1|2:t&1),r):(st(r),null);case 22:case 23:return Fr(r),Mf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&fc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&J(Ms),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),qr(St),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Uw(t,r){switch(Ef(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return qr(St),Xn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Sr(r),null;case 13:if(Fr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Qo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return J(Rt),null;case 4:return Xn(),null;case 10:return qr(r.type),null;case 22:case 23:return Fr(r),Mf(),t!==null&&J(Ms),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return qr(St),null;case 25:return null;default:return null}}function Yy(t,r){switch(Ef(r),r.tag){case 3:qr(St),Xn();break;case 26:case 27:case 5:Sr(r);break;case 4:Xn();break;case 13:Fr(r);break;case 19:J(Rt);break;case 10:qr(r.type);break;case 22:case 23:Fr(r),Mf(),t!==null&&J(Ms);break;case 24:qr(St)}}function hl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(r,r.return,T)}}function bi(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var I=a,H=T;try{H()}catch(W){We(h,I,W)}}}l=l.next}while(l!==d)}}catch(W){We(r,r.return,W)}}function Qy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Pp(r,a)}catch(l){We(t,t.return,l)}}}function $y(t,r,a){a.props=Vs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,r,l)}}function fl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,r,h)}}function cr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,r,h)}else a.current=null}function Xy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function ld(t,r,a){try{var l=t.stateNode;sA(l,t.type,a,r),l[gt]=r}catch(h){We(t,t.return,h)}}function Wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ni(t.type)||t.tag===4}function ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ni(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ac));else if(l!==4&&(l===27&&Ni(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(cd(t,r,a),t=t.sibling;t!==null;)cd(t,r,a),t=t.sibling}function dc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Ni(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(dc(t,r,a),t=t.sibling;t!==null;)dc(t,r,a),t=t.sibling}function Zy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);zt(r,l,a),r[bt]=t,r[gt]=a}catch(d){We(t,t.return,d)}}var Yr=!1,dt=!1,hd=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function jw(t,r){if(t=t.containerInfo,Pd=kc,t=cp(t),uf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,H=0,W=0,ee=t,F=null;t:for(;;){for(var G;ee!==a||h!==0&&ee.nodeType!==3||(T=v+h),ee!==d||l!==0&&ee.nodeType!==3||(I=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(G=ee.firstChild)!==null;)F=ee,ee=G;for(;;){if(ee===t)break t;if(F===a&&++H===h&&(T=v),F===d&&++W===l&&(I=v),(G=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=G}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vd={focusedElem:t,selectionRange:a},kc=!1,Ot=r;Ot!==null;)if(r=Ot,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Ot=t;else for(;Ot!==null;){switch(r=Ot,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=Vs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ot=t;break}Ot=r.return}}function e_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:wi(t,a),l&4&&hl(5,a);break;case 1:if(wi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Vs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&Qy(a),l&512&&fl(a,a.return);break;case 3:if(wi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Pp(t,r)}catch(v){We(a,a.return,v)}}break;case 27:r===null&&l&4&&Zy(a);case 26:case 5:wi(t,a),r===null&&l&4&&Xy(a),l&512&&fl(a,a.return);break;case 12:wi(t,a);break;case 13:wi(t,a),l&4&&r_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Qw.bind(null,a),fA(t,a))));break;case 22:if(l=a.memoizedState!==null||Yr,!l){r=r!==null&&r.memoizedState!==null||dt,h=Yr;var d=dt;Yr=l,(dt=r)&&!d?Ai(t,a,(a.subtreeFlags&8772)!==0):wi(t,a),Yr=h,dt=d}break;case 30:break;default:wi(t,a)}}function t_(t){var r=t.alternate;r!==null&&(t.alternate=null,t_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&hi(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,sn=!1;function Qr(t,r,a){for(a=a.child;a!==null;)n_(t,r,a),a=a.sibling}function n_(t,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ot,a)}catch{}switch(a.tag){case 26:dt||cr(a,r),Qr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||cr(a,r);var l=rt,h=sn;Ni(a.type)&&(rt=a.stateNode,sn=!1),Qr(t,r,a),Tl(a.stateNode),rt=l,sn=h;break;case 5:dt||cr(a,r);case 6:if(l=rt,h=sn,rt=null,Qr(t,r,a),rt=l,sn=h,rt!==null)if(sn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{rt.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:rt!==null&&(sn?(t=rt,F_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):F_(rt,a.stateNode));break;case 4:l=rt,h=sn,rt=a.stateNode.containerInfo,sn=!0,Qr(t,r,a),rt=l,sn=h;break;case 0:case 11:case 14:case 15:dt||bi(2,a,r),dt||bi(4,a,r),Qr(t,r,a);break;case 1:dt||(cr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$y(a,r,l)),Qr(t,r,a);break;case 21:Qr(t,r,a);break;case 22:dt=(l=dt)||a.memoizedState!==null,Qr(t,r,a),dt=l;break;default:Qr(t,r,a)}}function r_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){We(r,r.return,a)}}function zw(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Jy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Jy),r;default:throw Error(s(435,t.tag))}}function fd(t,r){var a=zw(t);r.forEach(function(l){var h=$w.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function dn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Ni(T.type)){rt=T.stateNode,sn=!1;break e}break;case 5:rt=T.stateNode,sn=!1;break e;case 3:case 4:rt=T.stateNode.containerInfo,sn=!0;break e}T=T.return}if(rt===null)throw Error(s(160));n_(d,v,h),rt=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)i_(r,t),r=r.sibling}var Un=null;function i_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(r,t),mn(t),l&4&&(bi(3,t,t.return),hl(3,t),bi(5,t,t.return));break;case 1:dn(r,t),mn(t),l&512&&(dt||a===null||cr(a,a.return)),l&64&&Yr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Un;if(dn(r,t),mn(t),l&512&&(dt||a===null||cr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hs]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[bt]=t,ht(d),l=d;break e;case"link":var v=Z_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Z_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,ht(d),l=d}t.stateNode=l}else J_(h,t.type,t.stateNode);else t.stateNode=W_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?J_(h,t.type,t.stateNode):W_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ld(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(r,t),mn(t),l&512&&(dt||a===null||cr(a,a.return)),a!==null&&l&4&&ld(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(r,t),mn(t),l&512&&(dt||a===null||cr(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(G){We(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ld(t,h,a!==null?a.memoizedProps:h)),l&1024&&(hd=!0);break;case 6:if(dn(r,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){We(t,t.return,G)}}break;case 3:if(Ic=null,h=Un,Un=Rc(r.containerInfo),dn(r,t),Un=h,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(r.containerInfo)}catch(G){We(t,t.return,G)}hd&&(hd=!1,s_(t));break;case 4:l=Un,Un=Rc(t.stateNode.containerInfo),dn(r,t),mn(t),Un=l;break;case 12:dn(r,t),mn(t);break;case 13:dn(r,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_d=vn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=Yr,W=dt;if(Yr=H||h,dt=W||I,dn(r,t),dt=W,Yr=H,mn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||Yr||dt||Ls(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){We(I,I.return,G)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(G){We(I,I.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fd(t,a))));break;case 19:dn(r,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fd(t,l)));break;case 30:break;case 21:break;default:dn(r,t),mn(t)}}function mn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Wy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ud(t);dc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Tn(v,""),a.flags&=-33);var T=ud(t);dc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,H=ud(t);cd(t,H,I);break;default:throw Error(s(161))}}catch(W){We(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function s_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;s_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function wi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)e_(t,r.alternate,r),r=r.sibling}function Ls(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:bi(4,r,r.return),Ls(r);break;case 1:cr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&$y(r,r.return,a),Ls(r);break;case 27:Tl(r.stateNode);case 26:case 5:cr(r,r.return),Ls(r);break;case 22:r.memoizedState===null&&Ls(r);break;case 30:Ls(r);break;default:Ls(r)}t=t.sibling}}function Ai(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ai(h,d,a),hl(4,d);break;case 1:if(Ai(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){We(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Mp(I[h],T)}catch(H){We(l,l.return,H)}}a&&v&64&&Qy(d),fl(d,d.return);break;case 27:Zy(d);case 26:case 5:Ai(h,d,a),a&&l===null&&v&4&&Xy(d),fl(d,d.return);break;case 12:Ai(h,d,a);break;case 13:Ai(h,d,a),a&&v&4&&r_(h,d);break;case 22:d.memoizedState===null&&Ai(h,d,a),fl(d,d.return);break;case 30:break;default:Ai(h,d,a)}r=r.sibling}}function dd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function md(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t))}function hr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)a_(t,r,a,l),r=r.sibling}function a_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:hr(t,r,a,l),h&2048&&hl(9,r);break;case 1:hr(t,r,a,l);break;case 3:hr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t)));break;case 12:if(h&2048){hr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(r,r.return,I)}}else hr(t,r,a,l);break;case 13:hr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?hr(t,r,a,l):dl(t,r):d._visibility&2?hr(t,r,a,l):(d._visibility|=2,Pa(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&dd(v,r);break;case 24:hr(t,r,a,l),h&2048&&md(r.alternate,r);break;default:hr(t,r,a,l)}}function Pa(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,I=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:Pa(d,v,T,I,h),hl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Pa(d,v,T,I,h):dl(d,v):(W._visibility|=2,Pa(d,v,T,I,h)),h&&H&2048&&dd(v.alternate,v);break;case 24:Pa(d,v,T,I,h),h&&H&2048&&md(v.alternate,v);break;default:Pa(d,v,T,I,h)}r=r.sibling}}function dl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&dd(l.alternate,l);break;case 24:dl(a,l),h&2048&&md(l.alternate,l);break;default:dl(a,l)}r=r.sibling}}var ml=8192;function Va(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)o_(t),t=t.sibling}function o_(t){switch(t.tag){case 26:Va(t),t.flags&ml&&t.memoizedState!==null&&SA(Un,t.memoizedState,t.memoizedProps);break;case 5:Va(t);break;case 3:case 4:var r=Un;Un=Rc(t.stateNode.containerInfo),Va(t),Un=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ml,ml=16777216,Va(t),ml=r):Va(t));break;default:Va(t)}}function l_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function gl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ot=l,c_(l,t)}l_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)u_(t),t=t.sibling}function u_(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&bi(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,mc(t)):gl(t);break;default:gl(t)}}function mc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ot=l,c_(l,t)}l_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:bi(8,r,r.return),mc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,mc(r));break;default:mc(r)}t=t.sibling}}function c_(t,r){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:bi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var h=l.sibling,d=l.return;if(t_(l),l===a){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var Bw={getCacheForType:function(t){var r=Kt(St),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},qw=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,ke=null,Le=0,Ke=0,gn=null,Si=!1,La=!1,gd=!1,$r=0,ut=0,Ri=0,Us=0,pd=0,Nn=0,Ua=0,pl=null,an=null,yd=!1,_d=0,gc=1/0,pc=null,xi=null,jt=0,Ii=null,ja=null,za=0,vd=0,Ed=null,h_=null,yl=0,Td=null;function pn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(X.T!==null){var t=xa;return t!==0?t:Id()}return ui()}function f_(){Nn===0&&(Nn=(Le&536870912)===0||Be?Ro():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),Nn}function yn(t,r,a){(t===Je&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Ci(t,Le,Nn,!1)),xr(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(Us|=a),ut===4&&Ci(t,Le,Nn,!1)),fr(t))}function d_(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||cs(t,r),h=l?Gw(t,r):Ad(t,r,!0),d=l;do{if(h===0){La&&!l&&Ci(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Hw(a)){h=Ad(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;h=pl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ba(T,v).flags|=256),v=Ad(T,v,!1),v!==2){if(gd&&!I){T.errorRecoveryDisabledLanes|=d,Us|=d,h=4;break e}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ba(t,0),Ci(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ci(l,r,Nn,!Si);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=_d+300-vn(),10<h)){if(Ci(l,r,Nn,!Si),ia(l,0,!0)!==0)break e;l.timeoutHandle=q_(m_.bind(null,l,a,an,pc,yd,r,Nn,Us,Ua,Si,d,2,-0,0),h);break e}m_(l,a,an,pc,yd,r,Nn,Us,Ua,Si,d,0,-0,0)}}break}while(!0);fr(t)}function m_(t,r,a,l,h,d,v,T,I,H,W,ee,F,G){if(t.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:AA},o_(r),ee=RA(),ee!==null)){t.cancelPendingCommit=ee(T_.bind(null,t,r,d,a,l,h,v,T,I,W,1,F,G)),Ci(t,d,v,!H);return}T_(t,r,d,a,l,h,v,T,I)}function Hw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ci(t,r,a,l){r&=~pd,r&=~Us,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Gt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Wn(t,a,r)}function yc(){return(Ge&6)===0?(_l(0),!1):!0}function bd(){if(ke!==null){if(Ke===0)var t=ke.return;else t=ke,Br=Ds=null,jf(t),Oa=null,ll=0,t=ke;for(;t!==null;)Yy(t.alternate,t),t=t.return;ke=null}}function Ba(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,oA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),bd(),Je=t,ke=a=Ur(t.current,null),Le=r,Ke=0,gn=null,Si=!1,La=cs(t,r),gd=!1,Ua=Nn=pd=Us=Ri=ut=0,an=pl=null,yd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Gt(l),d=1<<h;r|=t[h],l&=~d}return $r=r,ju(),a}function g_(t,r){xe=null,X.H=ic,r===Jo||r===Qu?(r=Dp(),Ke=3):r===Cp?(r=Dp(),Ke=4):Ke=r===Oy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,gn=r,ke===null&&(ut=1,uc(t,Sn(r,t.current)))}function p_(){var t=X.H;return X.H=ic,t===null?ic:t}function y_(){var t=X.A;return X.A=Bw,t}function wd(){ut=4,Si||(Le&4194048)!==Le&&Cn.current!==null||(La=!0),(Ri&134217727)===0&&(Us&134217727)===0||Je===null||Ci(Je,Le,Nn,!1)}function Ad(t,r,a){var l=Ge;Ge|=2;var h=p_(),d=y_();(Je!==t||Le!==r)&&(pc=null,Ba(t,r)),r=!1;var v=ut;e:do try{if(Ke!==0&&ke!==null){var T=ke,I=gn;switch(Ke){case 8:bd(),v=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(r=!0);var H=Ke;if(Ke=0,gn=null,qa(t,T,I,H),a&&La){v=0;break e}break;default:H=Ke,Ke=0,gn=null,qa(t,T,I,H)}}Fw(),v=ut;break}catch(W){g_(t,W)}while(!0);return r&&t.shellSuspendCounter++,Br=Ds=null,Ge=l,X.H=h,X.A=d,ke===null&&(Je=null,Le=0,ju()),v}function Fw(){for(;ke!==null;)__(ke)}function Gw(t,r){var a=Ge;Ge|=2;var l=p_(),h=y_();Je!==t||Le!==r?(pc=null,gc=vn()+500,Ba(t,r)):La=cs(t,r);e:do try{if(Ke!==0&&ke!==null){r=ke;var d=gn;t:switch(Ke){case 1:Ke=0,gn=null,qa(t,r,d,1);break;case 2:case 9:if(Np(d)){Ke=0,gn=null,v_(r);break}r=function(){Ke!==2&&Ke!==9||Je!==t||(Ke=7),fr(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Np(d)?(Ke=0,gn=null,v_(r)):(Ke=0,gn=null,qa(t,r,d,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var T=ke;if(!v||ev(v)){Ke=0,gn=null;var I=T.sibling;if(I!==null)ke=I;else{var H=T.return;H!==null?(ke=H,_c(H)):ke=null}break t}}Ke=0,gn=null,qa(t,r,d,5);break;case 6:Ke=0,gn=null,qa(t,r,d,6);break;case 8:bd(),ut=6;break e;default:throw Error(s(462))}}Kw();break}catch(W){g_(t,W)}while(!0);return Br=Ds=null,X.H=l,X.A=h,Ge=a,ke!==null?0:(Je=null,Le=0,ju(),ut)}function Kw(){for(;ke!==null&&!bo();)__(ke)}function __(t){var r=Gy(t.alternate,t,$r);t.memoizedProps=t.pendingProps,r===null?_c(t):ke=r}function v_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=jy(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=jy(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:jf(r);default:Yy(a,r),r=ke=Ep(r,$r),r=Gy(a,r,$r)}t.memoizedProps=t.pendingProps,r===null?_c(t):ke=r}function qa(t,r,a,l){Br=Ds=null,jf(r),Oa=null,ll=0;var h=r.return;try{if(Pw(t,h,r,a,Le)){ut=1,uc(t,Sn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;ut=1,uc(t,Sn(a,t.current)),ke=null;return}r.flags&32768?(Be||l===1?t=!0:La||(Le&536870912)!==0?t=!1:(Si=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),E_(r,t)):_c(r)}function _c(t){var r=t;do{if((r.flags&32768)!==0){E_(r,Si);return}t=r.return;var a=Lw(r.alternate,r,$r);if(a!==null){ke=a;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=t}while(r!==null);ut===0&&(ut=5)}function E_(t,r){do{var a=Uw(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);ut=6,ke=null}function T_(t,r,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do vc();while(jt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=mf,Io(t,a,d,v,T,I),t===Je&&(ke=Je=null,Le=0),ja=r,Ii=t,za=a,vd=d,Ed=h,h_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Xw(as,function(){return R_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=ue.p,ue.p=2,v=Ge,Ge|=4;try{jw(t,r,a)}finally{Ge=v,ue.p=h,X.T=l}}jt=1,b_(),w_(),A_()}}function b_(){if(jt===1){jt=0;var t=Ii,r=ja,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ue.p;ue.p=2;var h=Ge;Ge|=4;try{i_(r,t);var d=Vd,v=cp(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&up(T.ownerDocument.documentElement,T)){if(I!==null&&uf(T)){var H=I.start,W=I.end;if(W===void 0&&(W=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(W,T.value.length);else{var ee=T.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var G=F.getSelection(),be=T.textContent.length,_e=Math.min(I.start,be),Xe=I.end===void 0?_e:Math.min(I.end,be);!G.extend&&_e>Xe&&(v=Xe,Xe=_e,_e=v);var L=lp(T,_e),P=lp(T,Xe);if(L&&P&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==P.node||G.focusOffset!==P.offset)){var q=ee.createRange();q.setStart(L.node,L.offset),G.removeAllRanges(),_e>Xe?(G.addRange(q),G.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),G.addRange(q))}}}}for(ee=[],G=T;G=G.parentNode;)G.nodeType===1&&ee.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}kc=!!Pd,Vd=Pd=null}finally{Ge=h,ue.p=l,X.T=a}}t.current=r,jt=2}}function w_(){if(jt===2){jt=0;var t=Ii,r=ja,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ue.p;ue.p=2;var h=Ge;Ge|=4;try{e_(t,r.alternate,r)}finally{Ge=h,ue.p=l,X.T=a}}jt=3}}function A_(){if(jt===4||jt===3){jt=0,mu();var t=Ii,r=ja,a=za,l=h_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,ja=Ii=null,S_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(xi=null),sa(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ot,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,h=ue.p,ue.p=2,X.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{X.T=r,ue.p=h}}(za&3)!==0&&vc(),fr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Td?yl++:(yl=0,Td=t):yl=0,_l(0)}}function S_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Wo(r)))}function vc(t){return b_(),w_(),A_(),R_()}function R_(){if(jt!==5)return!1;var t=Ii,r=vd;vd=0;var a=sa(za),l=X.T,h=ue.p;try{ue.p=32>a?32:a,X.T=null,a=Ed,Ed=null;var d=Ii,v=za;if(jt=0,ja=Ii=null,za=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,u_(d.current),a_(d,d.current,v,a),Ge=T,_l(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{ue.p=h,X.T=l,S_(t,r)}}function x_(t,r,a){r=Sn(a,r),r=Jf(t.stateNode,r,2),t=_i(t,r,2),t!==null&&(xr(t,2),fr(t))}function We(t,r,a){if(t.tag===3)x_(t,t,a);else for(;r!==null;){if(r.tag===3){x_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xi===null||!xi.has(l))){t=Sn(a,t),a=ky(2),l=_i(r,a,2),l!==null&&(Dy(a,l,r,t),xr(l,2),fr(l));break}}r=r.return}}function Sd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new qw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(gd=!0,h.add(a),t=Yw.bind(null,t,r,a),r.then(t,t))}function Yw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Le&a)===a&&(ut===4||ut===3&&(Le&62914560)===Le&&300>vn()-_d?(Ge&2)===0&&Ba(t,0):pd|=a,Ua===Le&&(Ua=0)),fr(t)}function I_(t,r){r===0&&(r=xo()),t=wa(t,r),t!==null&&(xr(t,r),fr(t))}function Qw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),I_(t,a)}function $w(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),I_(t,a)}function Xw(t,r){return is(t,r)}var Ec=null,Ha=null,Rd=!1,Tc=!1,xd=!1,js=0;function fr(t){t!==Ha&&t.next===null&&(Ha===null?Ec=Ha=t:Ha=Ha.next=t),Tc=!0,Rd||(Rd=!0,Zw())}function _l(t,r){if(!xd&&Tc){xd=!0;do for(var a=!1,l=Ec;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,D_(l,d))}else d=Le,d=ia(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||cs(l,d)||(a=!0,D_(l,d));l=l.next}while(a);xd=!1}}function Ww(){C_()}function C_(){Tc=Rd=!1;var t=0;js!==0&&(aA()&&(t=js),js=0);for(var r=vn(),a=null,l=Ec;l!==null;){var h=l.next,d=N_(l,r);d===0?(l.next=null,a===null?Ec=h:a.next=h,h===null&&(Ha=a)):(a=l,(t!==0||(d&3)!==0)&&(Tc=!0)),l=h}_l(t)}function N_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Gt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=So(T,r)):I<=r&&(t.expiredLanes|=T),d&=~T}if(r=Je,a=Le,a=ia(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ss(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||cs(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ss(l),sa(a)){case 2:case 8:a=na;break;case 32:a=as;break;case 268435456:a=ra;break;default:a=as}return l=k_.bind(null,t),a=is(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ss(l),t.callbackPriority=2,t.callbackNode=null,2}function k_(t,r){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(vc()&&t.callbackNode!==a)return null;var l=Le;return l=ia(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(d_(t,l,r),N_(t,vn()),t.callbackNode!=null&&t.callbackNode===a?k_.bind(null,t):null)}function D_(t,r){if(vc())return null;d_(t,r,!0)}function Zw(){lA(function(){(Ge&6)!==0?is(wo,Ww):C_()})}function Id(){return js===0&&(js=Ro()),js}function O_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ha(""+t)}function M_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Jw(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=O_((h[gt]||null).action),v=l.submitter;v&&(r=(r=v[gt]||null)?O_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new fa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(js!==0){var I=v?M_(h,v):new FormData(h);Qf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?M_(h,v):new FormData(h),Qf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Cd=0;Cd<df.length;Cd++){var Nd=df[Cd],eA=Nd.toLowerCase(),tA=Nd[0].toUpperCase()+Nd.slice(1);Ln(eA,"on"+tA)}Ln(dp,"onAnimationEnd"),Ln(mp,"onAnimationIteration"),Ln(gp,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(_w,"onTransitionRun"),Ln(vw,"onTransitionStart"),Ln(Ew,"onTransitionCancel"),Ln(pp,"onTransitionEnd"),Cr("onMouseEnter",["mouseout","mouseover"]),Cr("onMouseLeave",["mouseout","mouseover"]),Cr("onPointerEnter",["pointerout","pointerover"]),Cr("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function P_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(W){lc(W)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,H=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(W){lc(W)}h.currentTarget=null,d=I}}}}function De(t,r){var a=r[No];a===void 0&&(a=r[No]=new Set);var l=t+"__bubble";a.has(l)||(V_(r,t,2,!1),a.add(l))}function kd(t,r,a){var l=0;r&&(l|=4),V_(a,t,l,r)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Dd(t){if(!t[bc]){t[bc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(nA.has(a)||kd(a,!1,t),kd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[bc]||(r[bc]=!0,kd("selectionchange",!1,r))}}function V_(t,r,a,l){switch(av(r)){case 2:var h=CA;break;case 8:h=NA;break;default:h=Kd}a=h.bind(null,r,a,t),h=void 0,!wn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Od(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ir(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Au(function(){var H=d,W=bn(a),ee=[];e:{var F=yp.get(t);if(F!==void 0){var G=fa,be=t;switch(t){case"keypress":if(rr(a)===0)break e;case"keydown":case"keyup":G=_a;break;case"focusin":be="focus",G=ga;break;case"focusout":be="blur",G=ga;break;case"beforeblur":case"afterblur":G=ga;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Du;break;case dp:case mp:case gp:G=pa;break;case pp:G=Mu;break;case"scroll":case"scrollend":G=Su;break;case"wheel":G=va;break;case"copy":case"cut":case"paste":G=ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ho;break;case"toggle":case"beforetoggle":G=Vu}var _e=(r&4)!==0,Xe=!_e&&(t==="scroll"||t==="scrollend"),L=_e?F!==null?F+"Capture":null:F;_e=[];for(var P=H,q;P!==null;){var Z=P;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||L===null||(Z=_s(P,L),Z!=null&&_e.push(El(P,Z,q))),Xe)break;P=P.return}0<_e.length&&(F=new G(F,be,null,a,W),ee.push({event:F,listeners:_e}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&a!==Dr&&(be=a.relatedTarget||a.fromElement)&&(Ir(be)||be[En]))break e;if((G||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,G?(be=a.relatedTarget||a.toElement,G=H,be=be?Ir(be):null,be!==null&&(Xe=u(be),_e=be.tag,be!==Xe||_e!==5&&_e!==27&&_e!==6)&&(be=null)):(G=null,be=H),G!==be)){if(_e=An,Z="onMouseLeave",L="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Ho,Z="onPointerLeave",L="onPointerEnter",P="pointer"),Xe=G==null?F:Jn(G),q=be==null?F:Jn(be),F=new _e(Z,P+"leave",G,a,W),F.target=Xe,F.relatedTarget=q,Z=null,Ir(W)===H&&(_e=new _e(L,P+"enter",be,a,W),_e.target=q,_e.relatedTarget=Xe,Z=_e),Xe=Z,G&&be)t:{for(_e=G,L=be,P=0,q=_e;q;q=Fa(q))P++;for(q=0,Z=L;Z;Z=Fa(Z))q++;for(;0<P-q;)_e=Fa(_e),P--;for(;0<q-P;)L=Fa(L),q--;for(;P--;){if(_e===L||L!==null&&_e===L.alternate)break t;_e=Fa(_e),L=Fa(L)}_e=null}else _e=null;G!==null&&L_(ee,F,G,_e,!1),be!==null&&Xe!==null&&L_(ee,Xe,be,_e,!0)}}e:{if(F=H?Jn(H):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var fe=np;else if(At(F))if(rp)fe=gw;else{fe=dw;var Ne=fw}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Vo(H.elementType)&&(fe=np):fe=mw;if(fe&&(fe=fe(t,H))){Lr(ee,fe,a,W);break e}Ne&&Ne(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&di(F,"number",F.value)}switch(Ne=H?Jn(H):window,t){case"focusin":(At(Ne)||Ne.contentEditable==="true")&&(Ea=Ne,cf=H,Ko=null);break;case"focusout":Ko=cf=Ea=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,hp(ee,a,W);break;case"selectionchange":if(yw)break;case"keydown":case"keyup":hp(ee,a,W)}var pe;if(ar)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Pe?Y(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Pe||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Pe&&(pe=Uo()):(nr=W,mi="value"in nr?nr.value:nr.textContent,Pe=!0)),Ne=wc(H,ve),0<Ne.length&&(ve=new Bo(ve,t,null,a,W),ee.push({event:ve,listeners:Ne}),pe?ve.data=pe:(pe=oe(a),pe!==null&&(ve.data=pe)))),(pe=y?wt(t,a):Ve(t,a))&&(ve=wc(H,"onBeforeInput"),0<ve.length&&(Ne=new Bo("onBeforeInput","beforeinput",null,a,W),ee.push({event:Ne,listeners:ve}),Ne.data=pe)),Jw(ee,t,H,a,W)}P_(ee,r)})}function El(t,r,a){return{instance:t,listener:r,currentTarget:a}}function wc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=_s(t,a),h!=null&&l.unshift(El(t,h,d)),h=_s(t,r),h!=null&&l.push(El(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function L_(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||H===null||(I=H,h?(H=_s(a,d),H!=null&&v.unshift(El(a,H,I))):h||(H=_s(a,d),H!=null&&v.push(El(a,H,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var rA=/\r\n?/g,iA=/\u0000|\uFFFD/g;function U_(t){return(typeof t=="string"?t:""+t).replace(rA,`
`).replace(iA,"")}function j_(t,r){return r=U_(r),U_(t)===r}function Ac(){}function $e(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Tn(t,""+l);break;case"className":er(t,"class",l);break;case"tabIndex":er(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":er(t,a,l);break;case"style":Po(t,l,d);break;case"data":if(r!=="object"){er(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ha(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&$e(t,r,"name",h.name,h,null),$e(t,r,"formEncType",h.formEncType,h,null),$e(t,r,"formMethod",h.formMethod,h,null),$e(t,r,"formTarget",h.formTarget,h,null)):($e(t,r,"encType",h.encType,h,null),$e(t,r,"method",h.method,h,null),$e(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ha(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ac);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),fi(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nf.get(a)||a,fi(t,a,l))}}function Md(t,r,a,l,h,d){switch(a){case"style":Po(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!aa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[gt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):fi(t,a,l)}}}function zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,d,v,a,null)}}h&&$e(t,r,"srcSet",a.srcSet,a,null),l&&$e(t,r,"src",a.src,a,null);return;case"input":De("invalid",t);var T=d=v=h=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":I=W;break;case"defaultChecked":H=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:$e(t,r,l,W,a,null)}}gs(t,d,T,I,H,v,h,!1),ca(t);return;case"select":De("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$e(t,r,h,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?kr(t,!!l,r,!1):a!=null&&kr(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$e(t,r,v,T,a,null)}ps(t,l,h,d),ca(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,r,I,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)De(vl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,H,l,a,null)}return;default:if(Vo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Md(t,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$e(t,r,T,l,a,null))}function sA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,H=null,W=null;for(G in a){var ee=a[G];if(a.hasOwnProperty(G)&&ee!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(G)||$e(t,r,G,null,l,ee)}}for(var F in l){var G=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(G!=null||ee!=null))switch(F){case"type":d=G;break;case"name":h=G;break;case"checked":H=G;break;case"defaultChecked":W=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==ee&&$e(t,r,F,G,l,ee)}}cn(t,v,T,I,H,W,d,h);return;case"select":G=v=T=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||$e(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&$e(t,r,h,d,l,I)}r=T,a=v,l=G,F!=null?kr(t,!!a,F,!1):!!l!=!!a&&(r!=null?kr(t,!!a,r,!0):kr(t,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(t,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(t,r,v,h,l,d)}Ye(t,F,G);return;case"option":for(var be in a)if(F=a[be],a.hasOwnProperty(be)&&F!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:$e(t,r,be,null,l,F)}for(I in l)if(F=l[I],G=a[I],l.hasOwnProperty(I)&&F!==G&&(F!=null||G!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:$e(t,r,I,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&$e(t,r,_e,null,l,F);for(H in l)if(F=l[H],G=a[H],l.hasOwnProperty(H)&&F!==G&&(F!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:$e(t,r,H,F,l,G)}return;default:if(Vo(r)){for(var Xe in a)F=a[Xe],a.hasOwnProperty(Xe)&&F!==void 0&&!l.hasOwnProperty(Xe)&&Md(t,r,Xe,void 0,l,F);for(W in l)F=l[W],G=a[W],!l.hasOwnProperty(W)||F===G||F===void 0&&G===void 0||Md(t,r,W,F,l,G);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&$e(t,r,L,null,l,F);for(ee in l)F=l[ee],G=a[ee],!l.hasOwnProperty(ee)||F===G||F==null&&G==null||$e(t,r,ee,F,l,G)}var Pd=null,Vd=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function z_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Ld(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ud=null;function aA(){var t=window.event;return t&&t.type==="popstate"?t===Ud?!1:(Ud=t,!0):(Ud=null,!1)}var q_=typeof setTimeout=="function"?setTimeout:void 0,oA=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,lA=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(t){return H_.resolve(null).then(t).catch(uA)}:q_;function uA(t){setTimeout(function(){throw t})}function Ni(t){return t==="head"}function F_(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Tl(v.documentElement),a&2&&Tl(v.body),a&4)for(a=v.head,Tl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[hs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Cl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Cl(r)}function jd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jd(a),hi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function cA(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function hA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function fA(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Bd=null;function G_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function K_(t,r,a){switch(r=Sc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Tl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);hi(t)}var kn=new Map,Y_=new Set;function Rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xr=ue.d;ue.d={f:dA,r:mA,D:gA,C:pA,L:yA,m:_A,X:EA,S:vA,M:TA};function dA(){var t=Xr.f(),r=yc();return t||r}function mA(t){var r=Zn(t);r!==null&&r.tag===5&&r.type==="form"?dy(r):Xr.r(t)}var Ga=typeof document>"u"?null:document;function Q_(t,r,a){var l=Ga;if(l&&typeof r=="string"&&r){var h=pt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Y_.has(h)||(Y_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),zt(r,"link",t),ht(r),l.head.appendChild(r)))}}function gA(t){Xr.D(t),Q_("dns-prefetch",t,null)}function pA(t,r){Xr.C(t,r),Q_("preconnect",t,r)}function yA(t,r,a){Xr.L(t,r,a);var l=Ga;if(l&&t&&r){var h='link[rel="preload"][as="'+pt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(r){case"style":d=Ka(t);break;case"script":d=Ya(t)}kn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),kn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(bl(d))||r==="script"&&l.querySelector(wl(d))||(r=l.createElement("link"),zt(r,"link",t),ht(r),l.head.appendChild(r)))}}function _A(t,r){Xr.m(t,r);var a=Ga;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(t)}if(!kn.has(d)&&(t=E({rel:"modulepreload",href:t},r),kn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),zt(l,"link",t),ht(l),a.head.appendChild(l)}}}function vA(t,r,a){Xr.S(t,r,a);var l=Ga;if(l&&t){var h=Zt(l).hoistableStyles,d=Ka(t);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(bl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=kn.get(d))&&qd(t,a);var I=v=l.createElement("link");ht(I),zt(I,"link",t),I._p=new Promise(function(H,W){I.onload=H,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function EA(t,r){Xr.X(t,r);var a=Ga;if(a&&t){var l=Zt(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=E({src:t,async:!0},r),(r=kn.get(h))&&Hd(t,r),d=a.createElement("script"),ht(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function TA(t,r){Xr.M(t,r);var a=Ga;if(a&&t){var l=Zt(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=kn.get(h))&&Hd(t,r),d=a.createElement("script"),ht(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $_(t,r,a,l){var h=(h=we.current)?Rc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ka(a.href),a=Zt(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var d=Zt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(bl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(t,a),d||bA(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ya(a),a=Zt(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ka(t){return'href="'+pt(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function X_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function bA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),zt(r,"link",a),ht(r),t.head.appendChild(r))}function Ya(t){return'[src="'+pt(t)+'"]'}function wl(t){return"script[async]"+t}function W_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return r.instance=l,ht(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),zt(l,"style",h),xc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Ka(a.href);var d=t.querySelector(bl(h));if(d)return r.state.loading|=4,r.instance=d,ht(d),d;l=X_(a),(h=kn.get(h))&&qd(l,h),d=(t.ownerDocument||t).createElement("link"),ht(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",l),r.state.loading|=4,xc(d,a.precedence,t),r.instance=d;case"script":return d=Ya(a.src),(h=t.querySelector(wl(d)))?(r.instance=h,ht(h),h):(l=a,(h=kn.get(d))&&(l=E({},a),Hd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),zt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,xc(l,a.precedence,t));return r.instance}function xc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function qd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Hd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Ic=null;function Z_(t,r,a){if(Ic===null){var l=new Map,h=Ic=new Map;h.set(a,l)}else h=Ic,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[hs]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function J_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function wA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function AA(){}function SA(t,r,a){if(Al===null)throw Error(s(475));var l=Al;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ka(a.href),d=t.querySelector(bl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ht(d);return}d=t.ownerDocument||t,a=X_(a),(h=kn.get(h))&&qd(a,h),d=d.createElement("link"),ht(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Cc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function RA(){if(Al===null)throw Error(s(475));var t=Al;return t.stylesheets&&t.count===0&&Fd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Fd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Cc(){if(this.count--,this.count===0){if(this.stylesheets)Fd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nc=null;function Fd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nc=new Map,r.forEach(xA,t),Nc=null,Cc.call(t))}function xA(t,r){if(!(r.state.loading&4)){var a=Nc.get(t);if(a)var l=a.get(null);else{a=new Map,Nc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Sl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function IA(t,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function tv(t,r,a,l,h,d,v,T,I,H,W,ee){return t=new IA(t,r,a,v,T,I,H,ee),r=1,d===!0&&(r|=24),d=fn(3,null,null,r),t.current=d,d.stateNode=t,r=Sf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Cf(d),t}function nv(t){return t?(t=Aa,t):Aa}function rv(t,r,a,l,h,d){h=nv(h),l.context===null?l.context=h:l.pendingContext=h,l=yi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_i(t,l,r),a!==null&&(yn(a,t,r),tl(a,t,r))}function iv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Gd(t,r){iv(t,r),(t=t.alternate)&&iv(t,r)}function sv(t){if(t.tag===13){var r=wa(t,67108864);r!==null&&yn(r,t,67108864),Gd(t,67108864)}}var kc=!0;function CA(t,r,a,l){var h=X.T;X.T=null;var d=ue.p;try{ue.p=2,Kd(t,r,a,l)}finally{ue.p=d,X.T=h}}function NA(t,r,a,l){var h=X.T;X.T=null;var d=ue.p;try{ue.p=8,Kd(t,r,a,l)}finally{ue.p=d,X.T=h}}function Kd(t,r,a,l){if(kc){var h=Yd(l);if(h===null)Od(t,r,l,Dc,a),ov(t,l);else if(DA(h,t,r,a,l))l.stopPropagation();else if(ov(t,l),r&4&&-1<kA.indexOf(t)){for(;h!==null;){var d=Zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Mn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Gt(v);T.entanglements[1]|=I,v&=~I}fr(d),(Ge&6)===0&&(gc=vn()+500,_l(0))}}break;case 13:T=wa(d,2),T!==null&&yn(T,d,2),yc(),Gd(d,2)}if(d=Yd(l),d===null&&Od(t,r,l,Dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Od(t,r,l,null,a)}}function Yd(t){return t=bn(t),Qd(t)}var Dc=null;function Qd(t){if(Dc=null,t=Ir(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Dc=t,null}function av(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xh()){case wo:return 2;case na:return 8;case as:case Wh:return 32;case ra:return 268435456;default:return 32}default:return 32}}var $d=!1,ki=null,Di=null,Oi=null,Rl=new Map,xl=new Map,Mi=[],kA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ov(t,r){switch(t){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Rl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(r.pointerId)}}function Il(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Zn(r),r!==null&&sv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function DA(t,r,a,l,h){switch(r){case"focusin":return ki=Il(ki,t,r,a,l,h),!0;case"dragenter":return Di=Il(Di,t,r,a,l,h),!0;case"mouseover":return Oi=Il(Oi,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Il(Rl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,xl.set(d,Il(xl.get(d)||null,t,r,a,l,h)),!0}return!1}function lv(t){var r=Ir(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,yu(t.priority,function(){if(a.tag===13){var l=pn();l=li(l);var h=wa(a,l);h!==null&&yn(h,a,l),Gd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Yd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Dr=l,a.target.dispatchEvent(l),Dr=null}else return r=Zn(a),r!==null&&sv(r),t.blockedOn=a,!1;r.shift()}return!0}function uv(t,r,a){Oc(t)&&a.delete(r)}function OA(){$d=!1,ki!==null&&Oc(ki)&&(ki=null),Di!==null&&Oc(Di)&&(Di=null),Oi!==null&&Oc(Oi)&&(Oi=null),Rl.forEach(uv),xl.forEach(uv)}function Mc(t,r){t.blockedOn===r&&(t.blockedOn=null,$d||($d=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,OA)))}var Pc=null;function cv(t){Pc!==t&&(Pc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Pc===t&&(Pc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Qd(l||a)===null)continue;break}var d=Zn(a);d!==null&&(t.splice(r,3),r-=3,Qf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Cl(t){function r(I){return Mc(I,t)}ki!==null&&Mc(ki,t),Di!==null&&Mc(Di,t),Oi!==null&&Mc(Oi,t),Rl.forEach(r),xl.forEach(r);for(var a=0;a<Mi.length;a++){var l=Mi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Mi.length&&(a=Mi[0],a.blockedOn===null);)lv(a),a.blockedOn===null&&Mi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[gt]||null;if(typeof d=="function")v||cv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[gt]||null)T=v.formAction;else if(Qd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),cv(a)}}}function Xd(t){this._internalRoot=t}Vc.prototype.render=Xd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=pn();rv(a,l,t,r,null,null)},Vc.prototype.unmount=Xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;rv(t.current,2,null,t,null,null),yc(),r[En]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var r=ui();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Mi.length&&r!==0&&r<Mi[a].priority;a++);Mi.splice(a,0,t),a===0&&lv(t)}};var hv=e.version;if(hv!=="19.1.0")throw Error(s(527,hv,"19.1.0"));ue.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var MA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{ot=Lc.inject(MA),Fe=Lc}catch{}}return kl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=xy,d=Iy,v=Cy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=tv(t,1,!1,null,null,a,l,h,d,v,T,null),t[En]=r.current,Dd(t),new Xd(r)},kl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=xy,v=Iy,T=Cy,I=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),r=tv(t,1,!0,r,a??null,l,h,d,v,T,I,H),r.context=nv(null),a=r.current,l=pn(),l=li(l),h=yi(l),h.callback=null,_i(a,h,l),a=l,r.current.lanes=a,xr(r,a),fr(r),t[En]=r.current,Dd(t),new Vc(r)},kl.version="19.1.0",kl}var Tv;function KA(){if(Tv)return Jd.exports;Tv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jd.exports=GA(),Jd.exports}var YA=KA(),Dl={},bv;function QA(){if(bv)return Dl;bv=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.parse=f,Dl.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,O){const N=new u,K=S.length;if(K<2)return N;const z=(O==null?void 0:O.decode)||E;let $=0;do{const ne=S.indexOf("=",$);if(ne===-1)break;const Q=S.indexOf(";",$),ae=Q===-1?K:Q;if(ne>ae){$=S.lastIndexOf(";",ne-1)+1;continue}const le=m(S,$,ne),de=g(S,ne,le),k=S.slice(le,de);if(N[k]===void 0){let R=m(S,ne+1,ae),x=g(S,ae,R);const M=z(S.slice(R,x));N[k]=M}$=ae+1}while($<K);return N}function m(S,O,N){do{const K=S.charCodeAt(O);if(K!==32&&K!==9)return O}while(++O<N);return N}function g(S,O,N){for(;O>N;){const K=S.charCodeAt(--O);if(K!==32&&K!==9)return O+1}return N}function p(S,O,N){const K=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const z=K(O);if(!e.test(z))throw new TypeError(`argument val is invalid: ${O}`);let $=S+"="+z;if(!N)return $;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);$+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);$+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);$+="; Path="+N.path}if(N.expires){if(!w(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);$+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&($+="; HttpOnly"),N.secure&&($+="; Secure"),N.partitioned&&($+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return $}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return o.call(S)==="[object Date]"}return Dl}QA();var wv="popstate";function $A(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return ym("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Gl(o)}return WA(e,n,null,i)}function it(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Kn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XA(){return Math.random().toString(36).substring(2,10)}function Av(i,e){return{usr:i.state,key:i.key,idx:e}}function ym(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?fo(e):e,state:n,key:e&&e.key||s||XA()}}function Gl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function fo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function WA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let z=E(),$=z==null?null:z-p;p=z,g&&g({action:m,location:K.location,delta:$})}function S(z,$){m="PUSH";let ne=ym(K.location,z,$);p=E()+1;let Q=Av(ne,p),ae=K.createHref(ne);try{f.pushState(Q,"",ae)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ae)}u&&g&&g({action:m,location:K.location,delta:1})}function O(z,$){m="REPLACE";let ne=ym(K.location,z,$);p=E();let Q=Av(ne,p),ae=K.createHref(ne);f.replaceState(Q,"",ae),u&&g&&g({action:m,location:K.location,delta:0})}function N(z){let $=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof z=="string"?z:Gl(z);return ne=ne.replace(/ $/,"%20"),it($,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,$)}let K={get action(){return m},get location(){return i(o,f)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(wv,w),g=z,()=>{o.removeEventListener(wv,w),g=null}},createHref(z){return e(o,z)},createURL:N,encodeLocation(z){let $=N(z);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:O,go(z){return f.go(z)}};return K}function mE(i,e,n="/"){return ZA(i,e,n,!1)}function ZA(i,e,n,s){let o=typeof e=="string"?fo(e):e,u=ei(o.pathname||"/",n);if(u==null)return null;let f=gE(i);JA(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=cS(u);m=lS(f[g],p,s)}return m}function gE(i,e=[],n=[],s=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(it(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let p=Jr([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),gE(u.children,e,E,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:aS(p,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of pE(u.path))o(u,f,g)}),e}function pE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=pE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function JA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:oS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var eS=/^:[\w-]+$/,tS=3,nS=2,rS=1,iS=10,sS=-2,Sv=i=>i==="*";function aS(i,e){let n=i.split("/"),s=n.length;return n.some(Sv)&&(s+=sS),e&&(s+=nS),n.filter(o=>!Sv(o)).reduce((o,u)=>o+(eS.test(u)?tS:u===""?rS:iS),s)}function oS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function lS(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=oh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),S=g.route;if(!w&&p&&n&&!s[s.length-1].route.index&&(w=oh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Jr([u,w.pathname]),pathnameBase:mS(Jr([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=Jr([u,w.pathnameBase]))}return f}function oh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=uS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:w},S)=>{if(E==="*"){let N=m[S]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const O=m[S];return w&&!O?p[E]=void 0:p[E]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:i}}function uS(i,e=!1,n=!0){Kn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function cS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ei(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function hS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?fo(i):i;return{pathname:n?n.startsWith("/")?n:fS(n,e):e,search:gS(s),hash:pS(o)}}function fS(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function rm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $m(i){let e=dS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Xm(i,e,n,s=!1){let o;typeof i=="string"?o=fo(i):(o={...i},it(!o.pathname||!o.pathname.includes("?"),rm("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),rm("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),rm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}m=w>=0?e[w]:"/"}let g=hS(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var Jr=i=>i.join("/").replace(/\/\/+/g,"/"),mS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),gS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,pS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function yS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var yE=["POST","PUT","PATCH","DELETE"];new Set(yE);var _S=["GET",...yE];new Set(_S);var mo=j.createContext(null);mo.displayName="DataRouter";var Ch=j.createContext(null);Ch.displayName="DataRouterState";var _E=j.createContext({isTransitioning:!1});_E.displayName="ViewTransition";var vS=j.createContext(new Map);vS.displayName="Fetchers";var ES=j.createContext(null);ES.displayName="Await";var $n=j.createContext(null);$n.displayName="Navigation";var tu=j.createContext(null);tu.displayName="Location";var wr=j.createContext({outlet:null,matches:[],isDataRoute:!1});wr.displayName="Route";var Wm=j.createContext(null);Wm.displayName="RouteError";function TS(i,{relative:e}={}){it(go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext($n),{hash:o,pathname:u,search:f}=nu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Jr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function go(){return j.useContext(tu)!=null}function si(){return it(go(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(tu).location}var vE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EE(i){j.useContext($n).static||j.useLayoutEffect(i)}function po(){let{isDataRoute:i}=j.useContext(wr);return i?MS():bS()}function bS(){it(go(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(mo),{basename:e,navigator:n}=j.useContext($n),{matches:s}=j.useContext(wr),{pathname:o}=si(),u=JSON.stringify($m(s)),f=j.useRef(!1);return EE(()=>{f.current=!0}),j.useCallback((g,p={})=>{if(Kn(f.current,vE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Xm(g,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Jr([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,i])}j.createContext(null);function nu(i,{relative:e}={}){let{matches:n}=j.useContext(wr),{pathname:s}=si(),o=JSON.stringify($m(n));return j.useMemo(()=>Xm(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function wS(i,e){return TE(i,e)}function TE(i,e,n,s){var ne;it(go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=j.useContext($n),{matches:f}=j.useContext(wr),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let Q=w&&w.path||"";bE(p,!w||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let S=si(),O;if(e){let Q=typeof e=="string"?fo(e):e;it(E==="/"||((ne=Q.pathname)==null?void 0:ne.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),O=Q}else O=S;let N=O.pathname||"/",K=N;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");K="/"+N.replace(/^\//,"").split("/").slice(Q.length).join("/")}let z=!u&&n&&n.matches&&n.matches.length>0?n.matches:mE(i,{pathname:K});Kn(w||z!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Kn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=IS(z&&z.map(Q=>Object.assign({},Q,{params:Object.assign({},g,Q.params),pathname:Jr([E,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:Jr([E,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),f,n,s);return e&&$?j.createElement(tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},$):$}function AS(){let i=OS(),e=yS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,f)}var SS=j.createElement(AS,null),RS=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?j.createElement(wr.Provider,{value:this.props.routeContext},j.createElement(Wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xS({routeContext:i,match:e,children:n}){let s=j.useContext(mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(wr.Provider,{value:i},n)}function IS(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);it(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:E,errors:w}=n,S=p.route.loader&&!E.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,E)=>{let w,S=!1,O=null,N=null;n&&(w=u&&p.route.id?u[p.route.id]:void 0,O=p.route.errorElement||SS,f&&(m<0&&E===0?(bE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):m===E&&(S=!0,N=p.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),z=()=>{let $;return w?$=O:S?$=N:p.route.Component?$=j.createElement(p.route.Component,null):p.route.element?$=p.route.element:$=g,j.createElement(xS,{match:p,routeContext:{outlet:g,matches:K,isDataRoute:n!=null},children:$})};return n&&(p.route.ErrorBoundary||p.route.errorElement||E===0)?j.createElement(RS,{location:n.location,revalidation:n.revalidation,component:O,error:w,children:z(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):z()},null)}function Zm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CS(i){let e=j.useContext(mo);return it(e,Zm(i)),e}function NS(i){let e=j.useContext(Ch);return it(e,Zm(i)),e}function kS(i){let e=j.useContext(wr);return it(e,Zm(i)),e}function Jm(i){let e=kS(i),n=e.matches[e.matches.length-1];return it(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function DS(){return Jm("useRouteId")}function OS(){var s;let i=j.useContext(Wm),e=NS("useRouteError"),n=Jm("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function MS(){let{router:i}=CS("useNavigate"),e=Jm("useNavigate"),n=j.useRef(!1);return EE(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{Kn(n.current,vE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Rv={};function bE(i,e,n){!e&&!Rv[i]&&(Rv[i]=!0,Kn(!1,n))}j.memo(PS);function PS({routes:i,future:e,state:n}){return TE(i,void 0,n,e)}function VS({to:i,replace:e,state:n,relative:s}){it(go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext($n);Kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(wr),{pathname:f}=si(),m=po(),g=Xm(i,$m(u),f,s==="path"),p=JSON.stringify(g);return j.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function Li(i){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LS({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){it(!go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=fo(n));let{pathname:g="/",search:p="",hash:E="",state:w=null,key:S="default"}=n,O=j.useMemo(()=>{let N=ei(g,f);return N==null?null:{location:{pathname:N,search:p,hash:E,state:w,key:S},navigationType:s}},[f,g,p,E,w,S,s]);return Kn(O!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:j.createElement($n.Provider,{value:m},j.createElement(tu.Provider,{children:e,value:O}))}function US({children:i,location:e}){return wS(_m(i),e)}function _m(i,e=[]){let n=[];return j.Children.forEach(i,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,_m(s.props.children,u));return}it(s.type===Li,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=_m(s.props.children,u)),n.push(f)}),n}var Qc="get",$c="application/x-www-form-urlencoded";function Nh(i){return i!=null&&typeof i.tagName=="string"}function jS(i){return Nh(i)&&i.tagName.toLowerCase()==="button"}function zS(i){return Nh(i)&&i.tagName.toLowerCase()==="form"}function BS(i){return Nh(i)&&i.tagName.toLowerCase()==="input"}function qS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function HS(i,e){return i.button===0&&(!e||e==="_self")&&!qS(i)}var Uc=null;function FS(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var GS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function im(i){return i!=null&&!GS.has(i)?(Kn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):i}function KS(i,e){let n,s,o,u,f;if(zS(i)){let m=i.getAttribute("action");s=m?ei(m,e):null,n=i.getAttribute("method")||Qc,o=im(i.getAttribute("enctype"))||$c,u=new FormData(i)}else if(jS(i)||BS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?ei(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Qc,o=im(i.getAttribute("formenctype"))||im(m.getAttribute("enctype"))||$c,u=new FormData(m,i),!FS()){let{name:p,type:E,value:w}=i;if(E==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,w)}}else{if(Nh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qc,s=null,o=$c,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function eg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function YS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function $S(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await YS(u,n);return f.links?f.links():[]}return[]}));return JS(s.flat(1).filter(QS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function xv(i,e,n,s,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>{var E;return n[p].pathname!==g.pathname||((E=n[p].route.path)==null?void 0:E.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{var w;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function XS(i,e,{includeHydrateFallback:n}={}){return WS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function WS(i){return[...new Set(i)]}function ZS(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function JS(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(ZS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var eR=new Set([100,101,204,205]);function tR(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&ei(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function wE(){let i=j.useContext(mo);return eg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function nR(){let i=j.useContext(Ch);return eg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var tg=j.createContext(void 0);tg.displayName="FrameworkContext";function AE(){let i=j.useContext(tg);return eg(i,"You must render this element inside a <HydratedRouter> element"),i}function rR(i,e){let n=j.useContext(tg),[s,o]=j.useState(!1),[u,f]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:w}=e,S=j.useRef(null);j.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let K=$=>{$.forEach(ne=>{f(ne.isIntersecting)})},z=new IntersectionObserver(K,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[i]),j.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let O=()=>{o(!0)},N=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Ol(m,O),onBlur:Ol(g,N),onMouseEnter:Ol(p,O),onMouseLeave:Ol(E,N),onTouchStart:Ol(w,O)}]:[!1,S,{}]}function Ol(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function iR({page:i,...e}){let{router:n}=wE(),s=j.useMemo(()=>mE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?j.createElement(aR,{page:i,matches:s,...e}):null}function sR(i){let{manifest:e,routeModules:n}=AE(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return $S(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function aR({page:i,matches:e,...n}){let s=si(),{manifest:o,routeModules:u}=AE(),{basename:f}=wE(),{loaderData:m,matches:g}=nR(),p=j.useMemo(()=>xv(i,e,g,o,s,"data"),[i,e,g,o,s]),E=j.useMemo(()=>xv(i,e,g,o,s,"assets"),[i,e,g,o,s]),w=j.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let N=new Set,K=!1;if(e.forEach($=>{var Q;let ne=o.routes[$.route.id];!ne||!ne.hasLoader||(!p.some(ae=>ae.route.id===$.route.id)&&$.route.id in m&&((Q=u[$.route.id])!=null&&Q.shouldRevalidate)||ne.hasClientLoader?K=!0:N.add($.route.id))}),N.size===0)return[];let z=tR(i,f);return K&&N.size>0&&z.searchParams.set("_routes",e.filter($=>N.has($.route.id)).map($=>$.route.id).join(",")),[z.pathname+z.search]},[f,m,s,o,p,e,i,u]),S=j.useMemo(()=>XS(E,o),[E,o]),O=sR(E);return j.createElement(j.Fragment,null,w.map(N=>j.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),S.map(N=>j.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),O.map(({key:N,link:K})=>j.createElement("link",{key:N,...K})))}function oR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var SE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SE&&(window.__reactRouterVersion="7.5.3")}catch{}function lR({basename:i,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=$A({window:n,v5Compat:!0}));let o=s.current,[u,f]=j.useState({action:o.action,location:o.location}),m=j.useCallback(g=>{j.startTransition(()=>f(g))},[f]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(LS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var RE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bn=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:w,...S},O){let{basename:N}=j.useContext($n),K=typeof p=="string"&&RE.test(p),z,$=!1;if(typeof p=="string"&&K&&(z=p,SE))try{let x=new URL(window.location.href),M=p.startsWith("//")?new URL(x.protocol+p):new URL(p),V=ei(M.pathname,N);M.origin===x.origin&&V!=null?p=V+M.search+M.hash:$=!0}catch{Kn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=TS(p,{relative:o}),[Q,ae,le]=rR(s,S),de=fR(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:w});function k(x){e&&e(x),x.defaultPrevented||de(x)}let R=j.createElement("a",{...S,...le,href:z||ne,onClick:$||u?e:k,ref:oR(O,ae),target:g,"data-discover":!K&&n==="render"?"true":void 0});return Q&&!K?j.createElement(j.Fragment,null,R,j.createElement(iR,{page:ne})):R});Bn.displayName="Link";var uR=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let w=nu(f,{relative:p.relative}),S=si(),O=j.useContext(Ch),{navigator:N,basename:K}=j.useContext($n),z=O!=null&&yR(w)&&m===!0,$=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,ne=S.pathname,Q=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),Q=Q?Q.toLowerCase():null,$=$.toLowerCase()),Q&&K&&(Q=ei(Q,K)||Q);const ae=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let le=ne===$||!o&&ne.startsWith($)&&ne.charAt(ae)==="/",de=Q!=null&&(Q===$||!o&&Q.startsWith($)&&Q.charAt($.length)==="/"),k={isActive:le,isPending:de,isTransitioning:z},R=le?e:void 0,x;typeof s=="function"?x=s(k):x=[s,le?"active":null,de?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(k):u;return j.createElement(Bn,{...p,"aria-current":R,className:x,ref:E,style:M,to:f,viewTransition:m},typeof g=="function"?g(k):g)});uR.displayName="NavLink";var cR=j.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Qc,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:w,...S},O)=>{let N=gR(),K=pR(m,{relative:p}),z=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&RE.test(m),ne=Q=>{if(g&&g(Q),Q.defaultPrevented)return;Q.preventDefault();let ae=Q.nativeEvent.submitter,le=(ae==null?void 0:ae.getAttribute("formmethod"))||f;N(ae||Q.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:w})};return j.createElement("form",{ref:O,method:z,action:K,onSubmit:s?g:ne,...S,"data-discover":!$&&i==="render"?"true":void 0})});cR.displayName="Form";function hR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xE(i){let e=j.useContext(mo);return it(e,hR(i)),e}function fR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=po(),g=si(),p=nu(i,{relative:u});return j.useCallback(E=>{if(HS(E,e)){E.preventDefault();let w=n!==void 0?n:Gl(g)===Gl(p);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,p,n,s,e,i,o,u,f])}var dR=0,mR=()=>`__${String(++dR)}__`;function gR(){let{router:i}=xE("useSubmit"),{basename:e}=j.useContext($n),n=DS();return j.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:p}=KS(s,e);if(o.navigate===!1){let E=o.fetcherKey||mR();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function pR(i,{relative:e}={}){let{basename:n}=j.useContext($n),s=j.useContext(wr);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...nu(i||".",{relative:e})},f=si();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Jr([n,u.pathname])),Gl(u)}function yR(i,e={}){let n=j.useContext(_E);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xE("useViewTransitionState"),o=nu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ei(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ei(n.nextLocation.pathname,s)||n.nextLocation.pathname;return oh(o.pathname,f)!=null||oh(o.pathname,u)!=null}new TextEncoder;[...eR];const _R=()=>{};var Iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},vR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},CE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let S=(m&15)<<2|p>>6,O=p&63;g||(O=64,f||(S=64)),s.push(n[E],n[w],n[S],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(IE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):vR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||w==null)throw new ER;const S=u<<2|m>>4;if(s.push(S),p!==64){const O=m<<4&240|p>>2;if(s.push(O),w!==64){const N=p<<6&192|w;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class ER extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TR=function(i){const e=IE(i);return CE.encodeByteArray(e,!0)},lh=function(i){return TR(i).replace(/\./g,"")},NE=function(i){try{return CE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=()=>bR().__FIREBASE_DEFAULTS__,AR=()=>{if(typeof process>"u"||typeof Iv>"u")return;const i=Iv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},SR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&NE(i[1]);return e&&JSON.parse(e)},kh=()=>{try{return _R()||wR()||AR()||SR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},kE=i=>{var e,n;return(n=(e=kh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},DE=i=>{const e=kE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},OE=()=>{var i;return(i=kh())===null||i===void 0?void 0:i.config},ME=i=>{var e;return(e=kh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function IR(){var i;const e=(i=kh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function kR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DR(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function OR(){return!IR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MR(){try{return typeof indexedDB=="object"}catch{return!1}}function PR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="FirebaseError";class On extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=VR,Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?LR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new On(o,m,s)}}function LR(i,e){return i.replace(UR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const UR=/\{\$([^}]+)}/g;function jR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function qs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Cv(u)&&Cv(f)){if(!qs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Cv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ml(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Pl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function zR(i,e){const n=new BR(i,e);return n.subscribe.bind(n)}class BR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");qR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=sm),o.error===void 0&&(o.error=sm),o.complete===void 0&&(o.complete=sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(i){return i&&i._delegate?i._delegate:i}class Qi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new RR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GR(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FR(i){return i===zs?void 0:i}function GR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const YR={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},QR=Oe.INFO,$R={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},XR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=$R[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ng{constructor(e){this.name=e,this._logLevel=QR,this._logHandler=XR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const WR=(i,e)=>e.some(n=>i instanceof n);let Nv,kv;function ZR(){return Nv||(Nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JR(){return kv||(kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VE=new WeakMap,vm=new WeakMap,LE=new WeakMap,am=new WeakMap,rg=new WeakMap;function e1(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Hi(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&VE.set(n,i)}).catch(()=>{}),rg.set(e,i),e}function t1(i){if(vm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});vm.set(i,e)}let Em={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return vm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||LE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function n1(i){Em=i(Em)}function r1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(om(this),e,...n);return LE.set(s,e.sort?e.sort():[e]),Hi(s)}:JR().includes(i)?function(...e){return i.apply(om(this),e),Hi(VE.get(this))}:function(...e){return Hi(i.apply(om(this),e))}}function i1(i){return typeof i=="function"?r1(i):(i instanceof IDBTransaction&&t1(i),WR(i,ZR())?new Proxy(i,Em):i)}function Hi(i){if(i instanceof IDBRequest)return e1(i);if(am.has(i))return am.get(i);const e=i1(i);return e!==i&&(am.set(i,e),rg.set(e,i)),e}const om=i=>rg.get(i);function s1(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Hi(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Hi(f.result),g.oldVersion,g.newVersion,Hi(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const a1=["get","getKey","getAll","getAllKeys","count"],o1=["put","add","delete","clear"],lm=new Map;function Dv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=o1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||a1.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return lm.set(e,u),u}n1(i=>({...i,get:(e,n,s)=>Dv(e,n)||i.get(e,n,s),has:(e,n)=>!!Dv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function u1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tm="@firebase/app",Ov="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new ng("@firebase/app"),c1="@firebase/app-compat",h1="@firebase/analytics-compat",f1="@firebase/analytics",d1="@firebase/app-check-compat",m1="@firebase/app-check",g1="@firebase/auth",p1="@firebase/auth-compat",y1="@firebase/database",_1="@firebase/data-connect",v1="@firebase/database-compat",E1="@firebase/functions",T1="@firebase/functions-compat",b1="@firebase/installations",w1="@firebase/installations-compat",A1="@firebase/messaging",S1="@firebase/messaging-compat",R1="@firebase/performance",x1="@firebase/performance-compat",I1="@firebase/remote-config",C1="@firebase/remote-config-compat",N1="@firebase/storage",k1="@firebase/storage-compat",D1="@firebase/firestore",O1="@firebase/vertexai",M1="@firebase/firestore-compat",P1="firebase",V1="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="[DEFAULT]",L1={[Tm]:"fire-core",[c1]:"fire-core-compat",[f1]:"fire-analytics",[h1]:"fire-analytics-compat",[m1]:"fire-app-check",[d1]:"fire-app-check-compat",[g1]:"fire-auth",[p1]:"fire-auth-compat",[y1]:"fire-rtdb",[_1]:"fire-data-connect",[v1]:"fire-rtdb-compat",[E1]:"fire-fn",[T1]:"fire-fn-compat",[b1]:"fire-iid",[w1]:"fire-iid-compat",[A1]:"fire-fcm",[S1]:"fire-fcm-compat",[R1]:"fire-perf",[x1]:"fire-perf-compat",[I1]:"fire-rc",[C1]:"fire-rc-compat",[N1]:"fire-gcs",[k1]:"fire-gcs-compat",[D1]:"fire-fst",[M1]:"fire-fst-compat",[O1]:"fire-vertex","fire-js":"fire-js",[P1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Map,U1=new Map,wm=new Map;function Mv(i,e){try{i.container.addComponent(e)}catch(n){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Hs(i){const e=i.name;if(wm.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,i);for(const n of uh.values())Mv(n,i);for(const n of U1.values())Mv(n,i);return!0}function Dh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function ln(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new ru("app","Firebase",j1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=V1;function UE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:bm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Fi.create("bad-app-name",{appName:String(o)});if(n||(n=OE()),!n)throw Fi.create("no-options");const u=uh.get(o);if(u){if(qs(n,u.options)&&qs(s,u.config))return u;throw Fi.create("duplicate-app",{appName:o})}const f=new KR(o);for(const g of wm.values())f.addComponent(g);const m=new z1(n,s,f);return uh.set(o,m),m}function ig(i=bm){const e=uh.get(i);if(!e&&i===bm&&OE())return UE();if(!e)throw Fi.create("no-app",{appName:i});return e}function mr(i,e,n){var s;let o=(s=L1[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(m.join(" "));return}Hs(new Qi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="firebase-heartbeat-database",q1=1,Kl="firebase-heartbeat-store";let um=null;function jE(){return um||(um=s1(B1,q1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Fi.create("idb-open",{originalErrorMessage:i.message})})),um}async function H1(i){try{const n=(await jE()).transaction(Kl),s=await n.objectStore(Kl).get(zE(i));return await n.done,s}catch(e){if(e instanceof On)ti.warn(e.message);else{const n=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ti.warn(n.message)}}}async function Pv(i,e){try{const s=(await jE()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,zE(i)),await s.done}catch(n){if(n instanceof On)ti.warn(n.message);else{const s=Fi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ti.warn(s.message)}}}function zE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=1024,G1=30;class K1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Vv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>G1){const f=$1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ti.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vv(),{heartbeatsToSend:s,unsentEntries:o}=Y1(this._heartbeatsCache.heartbeats),u=lh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ti.warn(n),""}}}function Vv(){return new Date().toISOString().substring(0,10)}function Y1(i,e=F1){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Lv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Lv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Q1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MR()?PR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await H1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Lv(i){return lh(JSON.stringify({version:2,heartbeats:i})).length}function $1(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(i){Hs(new Qi("platform-logger",e=>new l1(e),"PRIVATE")),Hs(new Qi("heartbeat",e=>new K1(e),"PRIVATE")),mr(Tm,Ov,i),mr(Tm,Ov,"esm2017"),mr("fire-js","")}X1("");function sg(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function BE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W1=BE,qE=new ru("auth","Firebase",BE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new ng("@firebase/auth");function Z1(i,...e){ch.logLevel<=Oe.WARN&&ch.warn(`Auth (${$s}): ${i}`,...e)}function Xc(i,...e){ch.logLevel<=Oe.ERROR&&ch.error(`Auth (${$s}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(i,...e){throw ag(i,...e)}function gr(i,...e){return ag(i,...e)}function HE(i,e,n){const s=Object.assign(Object.assign({},W1()),{[e]:n});return new ru("auth","Firebase",s).create(e,{appName:i.name})}function pr(i){return HE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ag(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return qE.create(i,...e)}function Ee(i,e,...n){if(!i)throw ag(e,...n)}function Wr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Xc(e),new Error(e)}function ni(i,e){i||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function J1(){return Uv()==="http:"||Uv()==="https:"}function Uv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J1()||NR()||"connection"in navigator)?navigator.onLine:!0}function tx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.shortDelay=e,this.longDelay=n,ni(n>e,"Short delay should be less than long delay!"),this.isMobile=xR()||kR()}get(){return ex()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(i,e){ni(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ix=new su(3e4,6e4);function ns(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ai(i,e,n,s,o={}){return GE(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=iu(Object.assign({key:i.config.apiKey},f)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p=Object.assign({method:e,headers:g},u);return CR()||(p.referrerPolicy="no-referrer"),FE.fetch()(await KE(i,i.config.apiHost,n,m),p)})}async function GE(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},nx),e);try{const o=new ax(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw jc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw jc(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw jc(i,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw HE(i,E,p);Yn(i,E)}}catch(o){if(o instanceof On)throw o;Yn(i,"network-request-failed",{message:String(o)})}}async function au(i,e,n,s,o={}){const u=await ai(i,e,n,s,o);return"mfaPendingCredential"in u&&Yn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function KE(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?og(i.config,o):`${i.config.apiScheme}://${o}`;return rx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function sx(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ax{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gr(this.auth,"network-request-failed")),ix.get())})}}function jc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=gr(i,e,s);return o.customData._tokenResponse=n,o}function jv(i){return i!==void 0&&i.enterprise!==void 0}class ox{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lx(i,e){return ai(i,"GET","/v2/recaptchaConfig",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(i,e){return ai(i,"POST","/v1/accounts:delete",e)}async function hh(i,e){return ai(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cx(i,e=!1){const n=ct(i),s=await n.getIdToken(e),o=lg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:zl(cm(o.auth_time)),issuedAtTime:zl(cm(o.iat)),expirationTime:zl(cm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function cm(i){return Number(i)*1e3}function lg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=NE(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function zv(i){const e=lg(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof On&&hx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function hx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await ro(i,hh(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?YE(u.providerUserInfo):[],m=mx(i.providerData,f),g=i.isAnonymous,p=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?p:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Sm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,w)}async function dx(i){const e=ct(i);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mx(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function YE(i){return i.map(e=>{var{providerId:n}=e,s=sg(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(i,e){const n=await GE(i,{},async()=>{const s=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await KE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",FE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function px(i,e){return ai(i,"POST","/v2/accounts:revokeToken",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=zv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await gx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ja;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class qn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=sg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Sm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await ro(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cx(this,e)}reload(){return dx(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ln(this.auth.app))return Promise.reject(pr(this.auth));const e=await this.getIdToken();return await ro(this,ux(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,g,p,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=n.photoURL)!==null&&f!==void 0?f:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,z=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,$=(p=n.createdAt)!==null&&p!==void 0?p:void 0,ne=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Q,emailVerified:ae,isAnonymous:le,providerData:de,stsTokenManager:k}=n;Ee(Q&&k,e,"internal-error");const R=Ja.fromJSON(this.name,k);Ee(typeof Q=="string",e,"internal-error"),Vi(w,e.name),Vi(S,e.name),Ee(typeof ae=="boolean",e,"internal-error"),Ee(typeof le=="boolean",e,"internal-error"),Vi(O,e.name),Vi(N,e.name),Vi(K,e.name),Vi(z,e.name),Vi($,e.name),Vi(ne,e.name);const x=new qn({uid:Q,auth:e,email:S,emailVerified:ae,displayName:w,isAnonymous:le,photoURL:N,phoneNumber:O,tenantId:K,stsTokenManager:R,createdAt:$,lastLoginAt:ne});return de&&Array.isArray(de)&&(x.providerData=de.map(M=>Object.assign({},M))),z&&(x._redirectEventId=z),x}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ja;o.updateFromServerResponse(n);const u=new qn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await fh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?YE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ja;m.updateFromIdToken(s);const g=new qn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Sm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=new Map;function Zr(i){ni(i instanceof Function,"Expected a class definition");let e=Bv.get(i);return e?(ni(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Bv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QE.type="NONE";const qv=QE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(i,e,n){return`firebase:${i}:${e}:${n}`}class eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Wc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hh(this.auth,{idToken:e}).catch(()=>{});return n?qn._fromGetAccountInfoResponse(this.auth,n,e):null}return qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new eo(Zr(qv),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Zr(qv);const f=Wc(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let w;if(typeof E=="string"){const S=await hh(e,{idToken:E}).catch(()=>{});if(!S)break;w=await qn._fromGetAccountInfoResponse(e,S,E)}else w=qn._fromJSON(e,E);p!==u&&(m=w),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new eo(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new eo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($E(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eT(e))return"Blackberry";if(tT(e))return"Webos";if(XE(e))return"Safari";if((e.includes("chrome/")||WE(e))&&!e.includes("edge/"))return"Chrome";if(JE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function $E(i=Wt()){return/firefox\//i.test(i)}function XE(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WE(i=Wt()){return/crios\//i.test(i)}function ZE(i=Wt()){return/iemobile/i.test(i)}function JE(i=Wt()){return/android/i.test(i)}function eT(i=Wt()){return/blackberry/i.test(i)}function tT(i=Wt()){return/webos/i.test(i)}function ug(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function yx(i=Wt()){var e;return ug(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _x(){return DR()&&document.documentMode===10}function nT(i=Wt()){return ug(i)||JE(i)||tT(i)||eT(i)||/windows phone/i.test(i)||ZE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(i,e=[]){let n;switch(i){case"Browser":n=Hv(Wt());break;case"Worker":n=`${Hv(Wt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$s}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(i,e={}){return ai(i,"GET","/v2/passwordPolicy",ns(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=6;class bx{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:Tx,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fv(this),this.idTokenSubscription=new Fv(this),this.beforeStateQueue=new vx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hh(this,{idToken:e}),s=await qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ln(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ln(this.app))return Promise.reject(pr(this));const n=e?ct(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ln(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ln(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ex(this),n=new bx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await px(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[Zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Z1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Xs(i){return ct(i)}class Fv{constructor(e){this.auth=e,this.observer=null,this.addObserver=zR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ax(i){Oh=i}function iT(i){return Oh.loadJS(i)}function Sx(){return Oh.recaptchaEnterpriseScript}function Rx(){return Oh.gapiScript}function xx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Ix{constructor(){this.enterprise=new Cx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Cx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Nx="recaptcha-enterprise",sT="NO_RECAPTCHA";class kx{constructor(e){this.type=Nx,this.auth=Xs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{lx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new ox(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;jv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(sT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ix().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&jv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Sx();g.length!==0&&(g+=m),iT(g).then(()=>{o(m,u,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function Gv(i,e,n,s=!1,o=!1){const u=new kx(i);let f;if(o)f=sT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Rm(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Gv(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Gv(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(i,e){const n=Dh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(qs(u,e??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:e})}function Ox(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Zr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Mx(i,e,n){const s=Xs(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=aT(e),{host:f,port:m}=Px(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(qs(p,s.config.emulator)&&qs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Vx()}function aT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Px(i){const e=aT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Kv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Kv(f)}}}function Kv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Vx(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,n){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function Lx(i,e){return ai(i,"POST","/v1/accounts:update",e)}async function Ux(i,e){return ai(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(i,e){return au(i,"POST","/v1/accounts:signInWithPassword",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(i,e){return au(i,"POST","/v1/accounts:signInWithEmailLink",ns(i,e))}async function Bx(i,e){return au(i,"POST","/v1/accounts:signInWithEmailLink",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends cg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Yl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(e,n,"signInWithPassword",jx);case"emailLink":return zx(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(e,s,"signUpPassword",Ux);case"emailLink":return Bx(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(i,e){return au(i,"POST","/v1/accounts:signInWithIdp",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="http://localhost";class Fs extends cg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=sg(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Fs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,to(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:qx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Fx(i){const e=Ml(Pl(i)).link,n=e?Ml(Pl(e)).deep_link_id:null,s=Ml(Pl(i)).deep_link_id;return(s?Ml(Pl(s)).link:null)||s||n||e||i}class hg{constructor(e){var n,s,o,u,f,m;const g=Ml(Pl(e)),p=(n=g.apiKey)!==null&&n!==void 0?n:null,E=(s=g.oobCode)!==null&&s!==void 0?s:null,w=Hx((o=g.mode)!==null&&o!==void 0?o:null);Ee(p&&E&&w,"argument-error"),this.apiKey=p,this.operation=w,this.code=E,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=Fx(e);try{return new hg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.providerId=$i.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=hg.parseLink(n);return Ee(s,"argument-error"),Yl._fromEmailAndCode(e,s.code,s.tenantId)}}$i.PROVIDER_ID="password";$i.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$i.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends oT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends ou{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ji.credential(n,s)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends ou{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends ou{constructor(){super("twitter.com")}static credential(e,n){return Fs._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Bi.credential(n,s)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(i,e){return au(i,"POST","/v1/accounts:signUp",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await qn._fromIdTokenResponse(e,s,o),f=Yv(s);return new Gs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Yv(s);return new Gs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Yv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends On{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new dh(e,n,s,o)}}function lT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(i,u,e,s):u})}async function Kx(i,e,n=!1){const s=await ro(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Gs._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uT(i,e,n=!1){const{auth:s}=i;if(ln(s.app))return Promise.reject(pr(s));const o="reauthenticate";try{const u=await ro(i,lT(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const f=lg(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(i.uid===m,s,"user-mismatch"),Gs._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(i,e,n=!1){if(ln(i.app))return Promise.reject(pr(i));const s="signIn",o=await lT(i,s,e),u=await Gs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function Yx(i,e){return cT(Xs(i),e)}async function Qv(i,e){return uT(ct(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hT(i){const e=Xs(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Qx(i,e,n){if(ln(i.app))return Promise.reject(pr(i));const s=Xs(i),f=await Rm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gx).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&hT(i),g}),m=await Gs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function $x(i,e,n){return ln(i.app)?Promise.reject(pr(i)):Yx(ct(i),$i.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&hT(i),s})}function Xx(i,e){const n=ct(i);return ln(n.auth.app)?Promise.reject(pr(n.auth)):fT(n,e,null)}function Wx(i,e){return fT(ct(i),null,e)}async function fT(i,e,n){const{auth:s}=i,u={idToken:await i.getIdToken(),returnSecureToken:!0};e&&(u.email=e),n&&(u.password=n);const f=await ro(i,Lx(s,u));await i._updateTokensIfNecessary(f,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(i,e){return ct(i).setPersistence(e)}function Jx(i,e,n,s){return ct(i).onIdTokenChanged(e,n,s)}function eI(i,e,n){return ct(i).beforeAuthStateChanged(e,n)}function dT(i,e,n,s){return ct(i).onAuthStateChanged(e,n,s)}function tI(i){return ct(i).signOut()}async function nI(i){return ct(i).delete()}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=1e3,iI=10;class gT extends mT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);_x()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,iI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},rI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gT.type="LOCAL";const pT=gT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends mT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yT.type="SESSION";const fg=yT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Mh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await sI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=dg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function oI(i){yr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function lI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function cI(){return _T()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firebaseLocalStorageDb",hI=1,gh="firebaseLocalStorage",ET="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(i,e){return i.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function fI(){const i=indexedDB.deleteDatabase(vT);return new lu(i).toPromise()}function xm(){const i=indexedDB.open(vT,hI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(gh,{keyPath:ET})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(gh)?e(s):(s.close(),await fI(),e(await xm()))})})}async function $v(i,e,n){const s=Ph(i,!0).put({[ET]:e,value:n});return new lu(s).toPromise()}async function dI(i,e){const n=Ph(i,!1).get(e),s=await new lu(n).toPromise();return s===void 0?null:s.value}function Xv(i,e){const n=Ph(i,!0).delete(e);return new lu(n).toPromise()}const mI=800,gI=3;class TT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>gI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(cI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lI(),!this.activeServiceWorker)return;this.sender=new aI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xm();return await $v(e,mh,"1"),await Xv(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>$v(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>dI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ph(o,!1).getAll();return new lu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TT.type="LOCAL";const pI=TT;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(i,e){return e?Zr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends cg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _I(i){return cT(i.auth,new mg(i),i.bypassAuthState)}function vI(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),uT(n,new mg(i),i.bypassAuthState)}async function EI(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),Kx(n,new mg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _I;case"linkViaPopup":case"linkViaRedirect":return EI;case"reauthViaPopup":case"reauthViaRedirect":return vI;default:Yn(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new su(2e3,1e4);class Za extends bT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TI.get())};e()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="pendingRedirect",Zc=new Map;class wI extends bT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const s=await AI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AI(i,e){const n=xI(e),s=RI(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function SI(i,e){Zc.set(i._key(),e)}function RI(i){return Zr(i._redirectPersistence)}function xI(i){return Wc(bI,i.config.apiKey,i.name)}async function II(i,e,n=!1){if(ln(i.app))return Promise.reject(pr(i));const s=Xs(i),o=yI(s,e),f=await new wI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=10*60*1e3;class NI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!wT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wv(e))}saveEventToCache(e){this.cachedEventUids.add(Wv(e)),this.lastProcessedEventTime=Date.now()}}function Wv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function wT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(i,e={}){return ai(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MI=/^https?/;async function PI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await DI(i);for(const n of e)try{if(VI(n))return}catch{}Yn(i,"unauthorized-domain")}function VI(i){const e=Am(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!MI.test(n))return!1;if(OI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new su(3e4,6e4);function Zv(){const i=yr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function UI(i){return new Promise((e,n)=>{var s,o,u;function f(){Zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zv(),n(gr(i,"network-request-failed"))},timeout:LI.get()})}if(!((o=(s=yr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=yr().gapi)===null||u===void 0)&&u.load)f();else{const m=xx("iframefcb");return yr()[m]=()=>{gapi.load?f():n(gr(i,"network-request-failed"))},iT(`${Rx()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function jI(i){return Jc=Jc||UI(i),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new su(5e3,15e3),BI="__/auth/iframe",qI="emulator/auth/iframe",HI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GI(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?og(e,qI):`https://${i.config.authDomain}/${BI}`,s={apiKey:e.apiKey,appName:i.name,v:$s},o=FI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${iu(s).slice(1)}`}async function KI(i){const e=await jI(i),n=yr().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:GI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=gr(i,"network-request-failed"),m=yr().setTimeout(()=>{u(f)},zI.get());function g(){yr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QI=500,$I=600,XI="_blank",WI="http://localhost";class Jv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZI(i,e,n,s=QI,o=$I){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},YI),{width:s.toString(),height:o.toString(),top:u,left:f}),p=Wt().toLowerCase();n&&(m=WE(p)?XI:n),$E(p)&&(e=e||WI,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[O,N])=>`${S}${O}=${N},`,"");if(yx(p)&&m!=="_self")return JI(e||"",m),new Jv(null);const w=window.open(e||"",m,E);Ee(w,i,"popup-blocked");try{w.focus()}catch{}return new Jv(w)}function JI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="__/auth/handler",tC="emulator/auth/handler",nC=encodeURIComponent("fac");async function e0(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:$s,eventId:o};if(e instanceof oT){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",jR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof ou){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),p=g?`#${nC}=${encodeURIComponent(g)}`:"";return`${rC(i)}?${iu(m).slice(1)}${p}`}function rC({config:i}){return i.emulator?og(i,tC):`https://${i.authDomain}/${eC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class iC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fg,this._completeRedirectFn=II,this._overrideRedirectResult=SI}async _openPopup(e,n,s,o){var u;ni((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await e0(e,n,s,Am(),o);return ZI(e,f,dg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await e0(e,n,s,Am(),o);return oI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ni(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await KI(e),s=new NI(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hm,{type:hm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[hm];f!==void 0&&n(!!f),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nT()||XE()||ug()}}const sC=iC;var t0="@firebase/auth",n0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lC(i){Hs(new Qi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rT(i)},p=new wx(s,o,u,g);return Ox(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Hs(new Qi("auth-internal",e=>{const n=Xs(e.getProvider("auth").getImmediate());return(s=>new aC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(t0,n0,oC(i)),mr(t0,n0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=5*60,cC=ME("authIdTokenMaxAge")||uC;let r0=null;const hC=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>cC)return;const o=n==null?void 0:n.token;r0!==o&&(r0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fC(i=ig()){const e=Dh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=Dx(i,{popupRedirectResolver:sC,persistence:[pI,pT,fg]}),s=ME("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=hC(u.toString());eI(n,f,()=>f(n.currentUser)),Jx(n,m=>f(m))}}const o=kE("auth");return o&&Mx(n,`http://${o}`),n}function dC(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}Ax({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=gr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",dC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lC("Browser");var mC="firebase",gC="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(mC,gC,"app");var i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,AT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function x(){}x.prototype=R.prototype,k.D=R.prototype,k.prototype=new x,k.prototype.constructor=k,k.C=function(M,V,U){for(var C=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)C[Tt-2]=arguments[Tt];return R.prototype[V].apply(M,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,R,x){x||(x=0);var M=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)M[V]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(V=0;16>V;++V)M[V]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=k.g[0],x=k.g[1],V=k.g[2];var U=k.g[3],C=R+(U^x&(V^U))+M[0]+3614090360&4294967295;R=x+(C<<7&4294967295|C>>>25),C=U+(V^R&(x^V))+M[1]+3905402710&4294967295,U=R+(C<<12&4294967295|C>>>20),C=V+(x^U&(R^x))+M[2]+606105819&4294967295,V=U+(C<<17&4294967295|C>>>15),C=x+(R^V&(U^R))+M[3]+3250441966&4294967295,x=V+(C<<22&4294967295|C>>>10),C=R+(U^x&(V^U))+M[4]+4118548399&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(V^R&(x^V))+M[5]+1200080426&4294967295,U=R+(C<<12&4294967295|C>>>20),C=V+(x^U&(R^x))+M[6]+2821735955&4294967295,V=U+(C<<17&4294967295|C>>>15),C=x+(R^V&(U^R))+M[7]+4249261313&4294967295,x=V+(C<<22&4294967295|C>>>10),C=R+(U^x&(V^U))+M[8]+1770035416&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(V^R&(x^V))+M[9]+2336552879&4294967295,U=R+(C<<12&4294967295|C>>>20),C=V+(x^U&(R^x))+M[10]+4294925233&4294967295,V=U+(C<<17&4294967295|C>>>15),C=x+(R^V&(U^R))+M[11]+2304563134&4294967295,x=V+(C<<22&4294967295|C>>>10),C=R+(U^x&(V^U))+M[12]+1804603682&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(V^R&(x^V))+M[13]+4254626195&4294967295,U=R+(C<<12&4294967295|C>>>20),C=V+(x^U&(R^x))+M[14]+2792965006&4294967295,V=U+(C<<17&4294967295|C>>>15),C=x+(R^V&(U^R))+M[15]+1236535329&4294967295,x=V+(C<<22&4294967295|C>>>10),C=R+(V^U&(x^V))+M[1]+4129170786&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^V&(R^x))+M[6]+3225465664&4294967295,U=R+(C<<9&4294967295|C>>>23),C=V+(R^x&(U^R))+M[11]+643717713&4294967295,V=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(V^U))+M[0]+3921069994&4294967295,x=V+(C<<20&4294967295|C>>>12),C=R+(V^U&(x^V))+M[5]+3593408605&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^V&(R^x))+M[10]+38016083&4294967295,U=R+(C<<9&4294967295|C>>>23),C=V+(R^x&(U^R))+M[15]+3634488961&4294967295,V=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(V^U))+M[4]+3889429448&4294967295,x=V+(C<<20&4294967295|C>>>12),C=R+(V^U&(x^V))+M[9]+568446438&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^V&(R^x))+M[14]+3275163606&4294967295,U=R+(C<<9&4294967295|C>>>23),C=V+(R^x&(U^R))+M[3]+4107603335&4294967295,V=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(V^U))+M[8]+1163531501&4294967295,x=V+(C<<20&4294967295|C>>>12),C=R+(V^U&(x^V))+M[13]+2850285829&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^V&(R^x))+M[2]+4243563512&4294967295,U=R+(C<<9&4294967295|C>>>23),C=V+(R^x&(U^R))+M[7]+1735328473&4294967295,V=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(V^U))+M[12]+2368359562&4294967295,x=V+(C<<20&4294967295|C>>>12),C=R+(x^V^U)+M[5]+4294588738&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^V)+M[8]+2272392833&4294967295,U=R+(C<<11&4294967295|C>>>21),C=V+(U^R^x)+M[11]+1839030562&4294967295,V=U+(C<<16&4294967295|C>>>16),C=x+(V^U^R)+M[14]+4259657740&4294967295,x=V+(C<<23&4294967295|C>>>9),C=R+(x^V^U)+M[1]+2763975236&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^V)+M[4]+1272893353&4294967295,U=R+(C<<11&4294967295|C>>>21),C=V+(U^R^x)+M[7]+4139469664&4294967295,V=U+(C<<16&4294967295|C>>>16),C=x+(V^U^R)+M[10]+3200236656&4294967295,x=V+(C<<23&4294967295|C>>>9),C=R+(x^V^U)+M[13]+681279174&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^V)+M[0]+3936430074&4294967295,U=R+(C<<11&4294967295|C>>>21),C=V+(U^R^x)+M[3]+3572445317&4294967295,V=U+(C<<16&4294967295|C>>>16),C=x+(V^U^R)+M[6]+76029189&4294967295,x=V+(C<<23&4294967295|C>>>9),C=R+(x^V^U)+M[9]+3654602809&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^V)+M[12]+3873151461&4294967295,U=R+(C<<11&4294967295|C>>>21),C=V+(U^R^x)+M[15]+530742520&4294967295,V=U+(C<<16&4294967295|C>>>16),C=x+(V^U^R)+M[2]+3299628645&4294967295,x=V+(C<<23&4294967295|C>>>9),C=R+(V^(x|~U))+M[0]+4096336452&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~V))+M[7]+1126891415&4294967295,U=R+(C<<10&4294967295|C>>>22),C=V+(R^(U|~x))+M[14]+2878612391&4294967295,V=U+(C<<15&4294967295|C>>>17),C=x+(U^(V|~R))+M[5]+4237533241&4294967295,x=V+(C<<21&4294967295|C>>>11),C=R+(V^(x|~U))+M[12]+1700485571&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~V))+M[3]+2399980690&4294967295,U=R+(C<<10&4294967295|C>>>22),C=V+(R^(U|~x))+M[10]+4293915773&4294967295,V=U+(C<<15&4294967295|C>>>17),C=x+(U^(V|~R))+M[1]+2240044497&4294967295,x=V+(C<<21&4294967295|C>>>11),C=R+(V^(x|~U))+M[8]+1873313359&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~V))+M[15]+4264355552&4294967295,U=R+(C<<10&4294967295|C>>>22),C=V+(R^(U|~x))+M[6]+2734768916&4294967295,V=U+(C<<15&4294967295|C>>>17),C=x+(U^(V|~R))+M[13]+1309151649&4294967295,x=V+(C<<21&4294967295|C>>>11),C=R+(V^(x|~U))+M[4]+4149444226&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~V))+M[11]+3174756917&4294967295,U=R+(C<<10&4294967295|C>>>22),C=V+(R^(U|~x))+M[2]+718787259&4294967295,V=U+(C<<15&4294967295|C>>>17),C=x+(U^(V|~R))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+U&4294967295}s.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var x=R-this.blockSize,M=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=x;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<R;)if(M[V++]=k.charCodeAt(U++),V==this.blockSize){o(this,M),V=0;break}}else for(;U<R;)if(M[V++]=k[U++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var x=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=x&255,x/=256;for(this.u(k),k=Array(16),R=x=0;4>R;++R)for(var M=0;32>M;M+=8)k[x++]=this.g[R]>>>M&255;return k};function u(k,R){var x=m;return Object.prototype.hasOwnProperty.call(x,k)?x[k]:x[k]=R(k)}function f(k,R){this.h=R;for(var x=[],M=!0,V=k.length-1;0<=V;V--){var U=k[V]|0;M&&U==R||(x[V]=U,M=!1)}this.g=x}var m={};function g(k){return-128<=k&&128>k?u(k,function(R){return new f([R|0],0>R?-1:0)}):new f([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return z(p(-k));for(var R=[],x=1,M=0;k>=x;M++)R[M]=k/x|0,x*=4294967296;return new f(R,0)}function E(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return z(E(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(R,8)),M=w,V=0;V<k.length;V+=8){var U=Math.min(8,k.length-V),C=parseInt(k.substring(V,V+U),R);8>U?(U=p(Math.pow(R,U)),M=M.j(U).add(p(C))):(M=M.j(x),M=M.add(p(C)))}return M}var w=g(0),S=g(1),O=g(16777216);i=f.prototype,i.m=function(){if(K(this))return-z(this).m();for(var k=0,R=1,x=0;x<this.g.length;x++){var M=this.i(x);k+=(0<=M?M:4294967296+M)*R,R*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(N(this))return"0";if(K(this))return"-"+z(this).toString(k);for(var R=p(Math.pow(k,6)),x=this,M="";;){var V=ae(x,R).g;x=$(x,V.j(R));var U=((0<x.g.length?x.g[0]:x.h)>>>0).toString(k);if(x=V,N(x))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function N(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function K(k){return k.h==-1}i.l=function(k){return k=$(this,k),K(k)?-1:N(k)?0:1};function z(k){for(var R=k.g.length,x=[],M=0;M<R;M++)x[M]=~k.g[M];return new f(x,~k.h).add(S)}i.abs=function(){return K(this)?z(this):this},i.add=function(k){for(var R=Math.max(this.g.length,k.g.length),x=[],M=0,V=0;V<=R;V++){var U=M+(this.i(V)&65535)+(k.i(V)&65535),C=(U>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);M=C>>>16,U&=65535,C&=65535,x[V]=C<<16|U}return new f(x,x[x.length-1]&-2147483648?-1:0)};function $(k,R){return k.add(z(R))}i.j=function(k){if(N(this)||N(k))return w;if(K(this))return K(k)?z(this).j(z(k)):z(z(this).j(k));if(K(k))return z(this.j(z(k)));if(0>this.l(O)&&0>k.l(O))return p(this.m()*k.m());for(var R=this.g.length+k.g.length,x=[],M=0;M<2*R;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<k.g.length;V++){var U=this.i(M)>>>16,C=this.i(M)&65535,Tt=k.i(V)>>>16,et=k.i(V)&65535;x[2*M+2*V]+=C*et,ne(x,2*M+2*V),x[2*M+2*V+1]+=U*et,ne(x,2*M+2*V+1),x[2*M+2*V+1]+=C*Tt,ne(x,2*M+2*V+1),x[2*M+2*V+2]+=U*Tt,ne(x,2*M+2*V+2)}for(M=0;M<R;M++)x[M]=x[2*M+1]<<16|x[2*M];for(M=R;M<2*R;M++)x[M]=0;return new f(x,0)};function ne(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function Q(k,R){this.g=k,this.h=R}function ae(k,R){if(N(R))throw Error("division by zero");if(N(k))return new Q(w,w);if(K(k))return R=ae(z(k),R),new Q(z(R.g),z(R.h));if(K(R))return R=ae(k,z(R)),new Q(z(R.g),R.h);if(30<k.g.length){if(K(k)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var x=S,M=R;0>=M.l(k);)x=le(x),M=le(M);var V=de(x,1),U=de(M,1);for(M=de(M,2),x=de(x,2);!N(M);){var C=U.add(M);0>=C.l(k)&&(V=V.add(x),U=C),M=de(M,1),x=de(x,1)}return R=$(k,V.j(R)),new Q(V,R)}for(V=w;0<=k.l(R);){for(x=Math.max(1,Math.floor(k.m()/R.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=p(x),C=U.j(R);K(C)||0<C.l(k);)x-=M,U=p(x),C=U.j(R);N(U)&&(U=S),V=V.add(U),k=$(k,C)}return new Q(V,k)}i.A=function(k){return ae(this,k).h},i.and=function(k){for(var R=Math.max(this.g.length,k.g.length),x=[],M=0;M<R;M++)x[M]=this.i(M)&k.i(M);return new f(x,this.h&k.h)},i.or=function(k){for(var R=Math.max(this.g.length,k.g.length),x=[],M=0;M<R;M++)x[M]=this.i(M)|k.i(M);return new f(x,this.h|k.h)},i.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),x=[],M=0;M<R;M++)x[M]=this.i(M)^k.i(M);return new f(x,this.h^k.h)};function le(k){for(var R=k.g.length+1,x=[],M=0;M<R;M++)x[M]=k.i(M)<<1|k.i(M-1)>>>31;return new f(x,k.h)}function de(k,R){var x=R>>5;R%=32;for(var M=k.g.length-x,V=[],U=0;U<M;U++)V[U]=0<R?k.i(U+x)>>>R|k.i(U+x+1)<<32-R:k.i(U+x);return new f(V,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,AT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Gi=f}).apply(typeof i0<"u"?i0:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ST,Vl,RT,eh,Im,xT,IT,CT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var B=c[b];if(!(B in _))break e;_=_[B]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,B={next:function(){if(!b&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,b),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,S.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function N(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,B,Y){for(var oe=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)oe[Pe-2]=arguments[Pe];return y.prototype[B].apply(b,oe)}}function K(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function z(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(g(b)){const B=c.length||0,Y=b.length||0;c.length=B+Y;for(let oe=0;oe<Y;oe++)c[B+oe]=b[oe]}else c.push(b)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ne(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var le=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function de(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function k(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(_ in b)c[_]=b[_];for(let Y=0;Y<x.length;Y++)_=x[Y],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=je;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Tt{constructor(){this.h=this.g=null}add(y,_){const b=et.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var et=new $(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ge=!1,je=new Tt,D=()=>{const c=m.Promise.resolve(void 0);ue=()=>{c.then(ie)}};var ie=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var y=et;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ce(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{ae(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}N(Ce,se);var we={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Xn(c,y,_,b,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=B,this.key=++Ze,this.da=this.fa=!1}function oi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sr(c){this.src=c,this.g={},this.h=0}Sr.prototype.add=function(c,y,_,b,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var oe=is(c,y,b,B);return-1<oe?(y=c[oe],_||(y.fa=!1)):(y=new Xn(y,this.src,Y,!!b,B),y.fa=_,c.push(y)),y};function rs(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],B=Array.prototype.indexOf.call(b,y,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(b,B,1),Y&&(oi(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function is(c,y,_,b){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==b)return B}return-1}var ss="closure_lm_"+(1e6*Math.random()|0),bo={};function mu(c,y,_,b,B){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)mu(c,y[Y],_,b,B);return null}return _=gu(_),c&&c[Ct]?c.K(y,_,p(b)?!!b.capture:!1,B):vn(c,y,_,!1,b,B)}function vn(c,y,_,b,B,Y){if(!y)throw Error("Invalid event type");var oe=p(B)?!!B.capture:!!B,Pe=ra(c);if(Pe||(c[ss]=Pe=new Sr(c)),_=Pe.add(y,_,b,oe,Y),_.proxy)return _;if(b=Xh(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)me||(B=oe),B===void 0&&(B=!1),c.addEventListener(y.toString(),b,B);else if(c.attachEvent)c.attachEvent(as(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xh(){function c(_){return y.call(c.src,c.listener,_)}const y=Wh;return c}function wo(c,y,_,b,B){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)wo(c,y[Y],_,b,B);else b=p(b)?!!b.capture:!!b,_=gu(_),c&&c[Ct]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=is(Y,_,b,B),-1<_&&(oi(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=ra(c))&&(y=c.g[y.toString()],c=-1,y&&(c=is(y,_,b,B)),(_=-1<c?y[c]:null)&&na(_))}function na(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ct])rs(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(as(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=ra(y))?(rs(_,c),_.h==0&&(_.src=null,y[ss]=null)):oi(c)}}}function as(c){return c in bo?bo[c]:bo[c]="on"+c}function Wh(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&na(c),c=_.call(b,y)}return c}function ra(c){return c=c[ss],c instanceof Sr?c:null}var Ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function gu(c){return typeof c=="function"?c:(c[Ao]||(c[Ao]=function(y){return c.handleEvent(y)}),c[Ao])}function ot(){J.call(this),this.i=new Sr(this),this.M=this,this.F=null}N(ot,J),ot.prototype[Ct]=!0,ot.prototype.removeEventListener=function(c,y,_,b){wo(this,c,y,_,b)};function Fe(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var B=y;y=new se(b,c),M(y,B)}if(B=!0,_)for(var Y=_.length-1;0<=Y;Y--){var oe=y.g=_[Y];B=un(oe,b,!0,y)&&B}if(oe=y.g=c,B=un(oe,b,!0,y)&&B,B=un(oe,b,!1,y)&&B,_)for(Y=0;Y<_.length;Y++)oe=y.g=_[Y],B=un(oe,b,!1,y)&&B}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)oi(_[b]);delete c.g[y],c.h--}}this.F=null},ot.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},ot.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function un(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Y=0;Y<y.length;++Y){var oe=y[Y];if(oe&&!oe.da&&oe.capture==_){var Pe=oe.listener,wt=oe.ha||oe.src;oe.fa&&rs(c.i,oe),B=Pe.call(wt,b)!==!1&&B}}return B&&!b.defaultPrevented}function Gt(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function pu(c){c.g=Gt(()=>{c.g=null,c.i&&(c.i=!1,pu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Zh extends J{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:pu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(c){J.call(this),this.h=c,this.g={}}N(os,J);var ls=[];function us(c){de(c.g,function(y,_){this.g.hasOwnProperty(_)&&na(y)},c),c.g={}}os.prototype.N=function(){os.aa.N.call(this),us(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=m.JSON.stringify,ia=m.JSON.parse,cs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function So(){}So.prototype.h=null;function Ro(c){return c.h||(c.h=c.i())}function xo(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){se.call(this,"d")}N(xr,se);function Io(){se.call(this,"c")}N(Io,se);var Wn={},Co=null;function li(){return Co=Co||new ot}Wn.La="serverreachability";function sa(c){se.call(this,Wn.La,c)}N(sa,se);function ui(c){const y=li();Fe(y,new sa(y))}Wn.STAT_EVENT="statevent";function yu(c,y){se.call(this,Wn.STAT_EVENT,c),this.stat=y}N(yu,se);function nt(c){const y=li();Fe(y,new yu(y,c))}Wn.Ma="timingevent";function bt(c,y){se.call(this,Wn.Ma,c),this.size=y}N(bt,se);function gt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function No(c,y,_,b,B,Y){c.info(function(){if(c.g)if(Y)for(var oe="",Pe=Y.split("&"),wt=0;wt<Pe.length;wt++){var Ve=Pe[wt].split("=");if(1<Ve.length){var kt=Ve[0];Ve=Ve[1];var At=kt.split("_");oe=2<=At.length&&At[1]=="type"?oe+(kt+"="+Ve+"&"):oe+(kt+"=redacted&")}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+y+`
`+_+`
`+oe})}function Jh(c,y,_,b,B,Y,oe){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+y+`
`+_+`
`+Y+" "+oe})}function ci(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+hs(c,_)+(b?" "+b:"")})}function _u(c,y){c.info(function(){return"TIMEOUT: "+y})}En.prototype.info=function(){};function hs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var B=b[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var oe=1;oe<B.length;oe++)B[oe]=""}}}}return Mn(_)}catch{return y}}var hi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Jn(){}N(Jn,So),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Zn=new Jn;function Zt(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var ko={},aa={};function Pn(c,y,_){c.L=1,c.v=ps(cn(y)),c.m=_,c.P=!0,Cr(c,null)}function Cr(c,y){c.F=Date.now(),fs(c),c.A=cn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Lo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new ht,c.g=Mu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Zh(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(ls[0]=B.toString()),B=ls);for(var Y=0;Y<B.length;Y++){var oe=mu(_,B[Y],b||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ui(),No(c.i,c.u,c.A,c.l,c.R,c.m)}Zt.prototype.ca=function(c){c=c.target;const y=this.M;y&&An(c)==3?y.j():this.Y(c)},Zt.prototype.Y=function(c){try{if(c==this.g)e:{const At=An(this.g);var y=this.g.Ba();const Lr=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Ru(this.g)))){this.J||At!=4||y==7||(y==8||0>=Lr?ui(3):ui(2)),fi(this);var _=this.g.Z();this.X=_;t:if(vu(this)){var b=Ru(this.g);c="";var B=b.length,Y=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vt(this),er(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Y&&y==B-1)});b.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,Jh(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,wt=this.g;if((Pe=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Pe)){var Ve=Pe;break t}}Ve=null}if(_=Ve)ci(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ds(this,_);else{this.o=!1,this.s=3,nt(12),Vt(this),er(this);break e}}if(this.P){_=!0;let Lt;for(;!this.J&&this.C<oe.length;)if(Lt=Eu(this,oe),Lt==aa){At==4&&(this.s=4,nt(14),_=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==ko){this.s=4,nt(15),ci(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else ci(this.i,this.l,Lt,null),ds(this,Lt);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||oe.length!=0||this.h.h||(this.s=1,nt(16),_=!1),this.o=this.o&&_,!_)ci(this.i,this.l,oe,"[Invalid Chunked Response]"),Vt(this),er(this);else if(0<oe.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),As(kt),kt.M=!0,nt(11))}}else ci(this.i,this.l,oe,null),ds(this,oe);At==4&&Vt(this),this.o&&!this.J&&(At==4?ku(this.j,this):(this.o=!1,fs(this)))}else sf(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Vt(this),er(this)}}}catch{}finally{}};function vu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Eu(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?aa:(_=Number(y.substring(_,b)),isNaN(_)?ko:(b+=1,b+_>y.length?aa:(y=y.slice(b,b+_),c.C=b+_,y)))}Zt.prototype.cancel=function(){this.J=!0,Vt(this)};function fs(c){c.S=Date.now()+c.I,Tu(c,c.I)}function Tu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gt(S(c.ba,c),y)}function fi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Zt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(_u(this.i,this.A),this.L!=2&&(ui(),nt(17)),Vt(this),this.s=2,er(this)):Tu(this,this.S-c)};function er(c){c.j.G==0||c.J||ku(c.j,c)}function Vt(c){fi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,us(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ds(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Do(_.h,c))){if(!c.K&&Do(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)_a(_),pa(_);else break e;qo(_),nt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=gt(S(_.Za,_),6e3));if(1>=la(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vr(_,11)}else if((c.K||_.g==c)&&_a(_),!ne(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Ve=B[y];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const kt=Ve[3];kt!=null&&(_.la=kt,_.j.info("VER="+_.la));const At=Ve[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const Lr=Ve[5];Lr!=null&&typeof Lr=="number"&&0<Lr&&(b=1.5*Lr,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Lt=c.g;if(Lt){const or=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(or){var Y=b.h;Y.g||or.indexOf("spdy")==-1&&or.indexOf("quic")==-1&&or.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ua(Y,Y.h),Y.h=null))}if(b.D){const Fo=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(b.ya=Fo,Ye(b.I,b.D,Fo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var oe=c;if(b.qa=Ou(b,b.J?b.ia:null,b.W),oe.K){Jt(b.h,oe);var Pe=oe,wt=b.L;wt&&(Pe.I=wt),Pe.B&&(fi(Pe),fs(Pe)),b.g=oe}else Cu(b);0<_.i.length&&ya(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Vr(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Vr(_,7):zo(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}ui(4)}catch{}}var bu=class{constructor(c,y){this.g=c,this.map=y}};function Nr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function la(c){return c.h?1:c.g?c.g.size:0}function Do(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ua(c,y){c.g?c.g.add(y):c.h=y}function Jt(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Nr.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return K(c.i)}function ef(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function ca(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function Mo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ca(c),b=ef(c),B=b.length,Y=0;Y<B;Y++)y.call(void 0,b[Y],_&&_[Y],c)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),B=null;if(0<=b){var Y=c[_].substring(0,b);B=c[_].substring(b+1)}else Y=c[_];y(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,gs(this,c.j),this.o=c.o,this.g=c.g,di(this,c.s),this.l=c.l;var y=c.i,_=new Dr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),kr(this,_),this.m=c.m}else c&&(y=String(c).match(ms))?(this.h=!1,gs(this,y[1]||"",!0),this.o=Tn(y[2]||""),this.g=Tn(y[3]||"",!0),di(this,y[4]),this.l=Tn(y[5]||"",!0),kr(this,y[6]||"",!0),this.m=Tn(y[7]||"")):(this.h=!1,this.i=new Dr(null,this.h))}pt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ys(y,Po,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ys(y,Po,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ys(_,_.charAt(0)=="/"?nf:Vo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ys(_,ha)),c.join("")};function cn(c){return new pt(c)}function gs(c,y,_){c.j=_?Tn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function di(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function kr(c,y,_){y instanceof Dr?(c.i=y,Au(c.i,c.h)):(_||(y=ys(y,rf)),c.i=new Dr(y,c.h))}function Ye(c,y,_){c.i.set(y,_)}function ps(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ys(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,wu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Po=/[#\/\?@]/g,Vo=/[#\?:]/g,nf=/[#\?]/g,rf=/[#\?@]/g,ha=/#/g;function Dr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&tf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Dr.prototype,i.add=function(c,y){bn(this),this.i=null,c=tr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Or(c,y){bn(c),y=tr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Mr(c,y){return bn(c),y=tr(c,y),c.g.has(y)}i.forEach=function(c,y){bn(this),this.g.forEach(function(_,b){_.forEach(function(B){c.call(y,B,b,this)},this)},this)},i.na=function(){bn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const B=c[b];for(let Y=0;Y<B.length;Y++)_.push(y[b])}return _},i.V=function(c){bn(this);let y=[];if(typeof c=="string")Mr(this,c)&&(y=y.concat(this.g.get(tr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return bn(this),this.i=null,c=tr(this,c),Mr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Lo(c,y,_){Or(c,y),0<_.length&&(c.i=null,c.g.set(tr(c,y),K(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Y=encodeURIComponent(String(b)),oe=this.V(b);for(b=0;b<oe.length;b++){var B=Y;oe[b]!==""&&(B+="="+encodeURIComponent(String(oe[b]))),c.push(B)}}return this.i=c.join("&")};function tr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Au(c,y){y&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(_,b){var B=b.toLowerCase();b!=B&&(Or(this,b),Lo(this,B,_))},c)),c.j=y}function _s(c,y){const _=new En;if(m.Image){const b=new Image;b.onload=O(wn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=O(wn,_,"TestLoadImage: error",!1,y,b),b.onabort=O(wn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=O(wn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Vn(c,y){const _=new En,b=new AbortController,B=setTimeout(()=>{b.abort(),wn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Y=>{clearTimeout(B),Y.ok?wn(_,"TestPingServer: ok",!0,y):wn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),wn(_,"TestPingServer: error",!1,y)})}function wn(c,y,_,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(_)}catch{}}function vs(){this.g=new cs}function nr(c,y,_){const b=_||"";try{Mo(c,function(B,Y){let oe=B;p(B)&&(oe=Mn(B)),y.push(b+Y+"="+encodeURIComponent(oe))})}catch(B){throw y.push(b+"type="+encodeURIComponent("_badmap")),B}}function mi(c){this.l=c.Ub||null,this.j=c.eb||!1}N(mi,So),mi.prototype.g=function(){return new Pr(this.l,this.j)},mi.prototype.i=function(c){return function(){return c}}({});function Pr(c,y){ot.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Pr,ot),i=Pr.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ir(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?rr(this):ir(this),this.readyState==3&&Uo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,rr(this))},i.Qa=function(c){this.g&&(this.response=c,rr(this))},i.ga=function(){this.g&&rr(this)};function rr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ir(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ir(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jo(c){let y="";return de(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Nt(c,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=jo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ye(c,y,_))}function qe(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(qe,ot);var fa=/^https?$/i,Es=["POST","PUT"];i=qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?Ro(this.o):Ro(Zn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Su(this,Y);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)_.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())_.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Es,y,void 0))||b||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of _)this.g.setRequestHeader(Y,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ts(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Su(this,Y)}};function Su(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,da(c),sr(c)}function da(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),sr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ma(this):this.bb())},i.bb=function(){ma(this)};function ma(c){if(c.h&&typeof f<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)Gt(c.Ea,0,c);else if(Fe(c,"readystatechange"),An(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=oe===0){var B=String(c.D).match(ms)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),b=!fa.test(B?B.toLowerCase():"")}_=b}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var Y=2<An(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",da(c)}}finally{sr(c)}}}}function sr(c,y){if(c.g){Ts(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=b}catch{}}}function Ts(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ia(y)}};function Ru(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function sf(c){const y={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ne(c[b]))continue;var _=V(c[b]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[B]||[];y[B]=Y,Y.push(_)}k(y,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ga(c){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bs("baseRetryDelayMs",5e3,c),this.cb=bs("retryDelaySeedMs",1e4,c),this.Wa=bs("forwardChannelMaxRetries",2,c),this.wa=bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Nr(c&&c.concurrentRequestLimit),this.Da=new vs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ga.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,b){nt(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Ou(this,null,this.W),ya(this)};function zo(c){if(xu(c),c.G==3){var y=c.U++,_=cn(c.I);if(Ye(_,"SID",c.K),Ye(_,"RID",y),Ye(_,"TYPE","terminate"),ws(c,_),y=new Zt(c,c.j,y),y.L=2,y.v=ps(cn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Mu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),fs(y)}Du(c)}function pa(c){c.g&&(As(c),c.g.cancel(),c.g=null)}function xu(c){pa(c),c.u&&(m.clearTimeout(c.u),c.u=null),_a(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ya(c){if(!oa(c.h)&&!c.s){c.s=!0;var y=c.Ga;ue||D(),ge||(ue(),ge=!0),je.add(y,c),c.B=0}}function af(c,y){return la(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gt(S(c.Ga,c,y),Ho(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Zt(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Iu(this,B,y),_=cn(this.I),Ye(_,"RID",c),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),ws(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(jo(Y)))+"&"+y:this.m&&Nt(_,this.m,Y)),ua(this.h,B),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",y),Ye(_,"SID","null"),B.T=!0,Pn(B,_,null)):Pn(B,_,y),this.G=2}}else this.G==3&&(c?Bo(this,c):this.i.length==0||oa(this.h)||Bo(this))};function Bo(c,y){var _;y?_=y.l:_=c.U++;const b=cn(c.I);Ye(b,"SID",c.K),Ye(b,"RID",_),Ye(b,"AID",c.T),ws(c,b),c.m&&c.o&&Nt(b,c.m,c.o),_=new Zt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Iu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ua(c.h,_),Pn(_,b,y)}function ws(c,y){c.H&&de(c.H,function(_,b){Ye(y,b,_)}),c.l&&Mo({},function(_,b){Ye(y,b,_)})}function Iu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?S(c.l.Na,c.l,c):null;e:{var B=c.i;let Y=-1;for(;;){const oe=["count="+_];Y==-1?0<_?(Y=B[0].g,oe.push("ofs="+Y)):Y=0:oe.push("ofs="+Y);let Pe=!0;for(let wt=0;wt<_;wt++){let Ve=B[wt].g;const kt=B[wt].map;if(Ve-=Y,0>Ve)Y=Math.max(0,B[wt].g-100),Pe=!1;else try{nr(kt,oe,"req"+Ve+"_")}catch{b&&b(kt)}}if(Pe){b=oe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,b}function Cu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ue||D(),ge||(ue(),ge=!0),je.add(y,c),c.v=0}}function qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gt(S(c.Fa,c),Ho(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gt(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),pa(this),Nu(this))};function As(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Nu(c){c.g=new Zt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=cn(c.qa);Ye(y,"RID","rpc"),Ye(y,"SID",c.K),Ye(y,"AID",c.T),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(y,"TO",c.ja),Ye(y,"TYPE","xmlhttp"),ws(c,y),c.m&&c.o&&Nt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ps(cn(y)),_.m=null,_.P=!0,Cr(_,c)}i.Za=function(){this.C!=null&&(this.C=null,pa(this),qo(this),nt(19))};function _a(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ku(c,y){var _=null;if(c.g==y){_a(c),As(c),c.g=null;var b=2}else if(Do(c.h,y))_=y.D,Jt(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;b=li(),Fe(b,new bt(b,_)),ya(c)}else Cu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(b==1&&af(c,y)||b==2&&qo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Vr(c,5);break;case 4:Vr(c,10);break;case 3:Vr(c,6);break;default:Vr(c,2)}}}function Ho(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Vr(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),b=c.Xa;const B=!b;b=new pt(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||gs(b,"https"),ps(b),B?_s(b.toString(),_):Vn(b.toString(),_)}else nt(2);c.G=0,c.l&&c.l.sa(y),Du(c),xu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Du(c){if(c.G=0,c.ka=[],c.l){const y=Oo(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function Ou(c,y,_){var b=_ instanceof pt?cn(_):new pt(_);if(b.g!="")y&&(b.g=y+"."+b.g),di(b,b.s);else{var B=m.location;b=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Y=new pt(null);b&&gs(Y,b),y&&(Y.g=y),B&&di(Y,B),_&&(Y.l=_),b=Y}return _=c.D,y=c.ya,_&&y&&Ye(b,_,y),Ye(b,"VER",c.la),ws(c,b),b}function Mu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qe(new mi({eb:_})):new qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}i=Pu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function va(){}va.prototype.g=function(c,y){return new en(c,y)};function en(c,y){ot.call(this),this.g=new ga(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ne(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ne(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ar(this)}N(en,ot),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){zo(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Mn(c),c=_);y.i.push(new bu(y.Ya++,c)),y.G==3&&ya(y)},en.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,en.aa.N.call(this)};function Vu(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(Vu,xr);function Lu(){Io.call(this),this.status=1}N(Lu,Io);function ar(c){this.g=c}N(ar,Pu),ar.prototype.ua=function(){Fe(this.g,"a")},ar.prototype.ta=function(c){Fe(this.g,new Vu(c))},ar.prototype.sa=function(c){Fe(this.g,new Lu)},ar.prototype.ra=function(){Fe(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,CT=function(){return new va},IT=function(){return li()},xT=Wn,Im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hi.NO_ERROR=0,hi.TIMEOUT=8,hi.HTTP_ERROR=6,eh=hi,Ir.COMPLETE="complete",RT=Ir,xo.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Vl=xo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,ST=qe}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const s0="@firebase/firestore",a0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new ng("@firebase/firestore");function Qa(){return Ks.logLevel}function ce(i,...e){if(Ks.logLevel<=Oe.DEBUG){const n=e.map(gg);Ks.debug(`Firestore (${yo}): ${i}`,...n)}}function ri(i,...e){if(Ks.logLevel<=Oe.ERROR){const n=e.map(gg);Ks.error(`Firestore (${yo}): ${i}`,...n)}}function io(i,...e){if(Ks.logLevel<=Oe.WARN){const n=e.map(gg);Ks.warn(`Firestore (${yo}): ${i}`,...n)}}function gg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,NT(i,s,n)}function NT(i,e,n){let s=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ri(s),new Error(s)}function He(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||NT(e,o,s)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends On{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class yC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _C{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ki,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ki)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new kT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class vC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new vC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new o0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new o0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=bC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ie(i,e){return i<e?-1:i>e?1:0}function Cm(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ie(s,o);{const u=DT(),f=wC(u.encode(l0(i,n)),u.encode(l0(e,n)));return f!==0?f:Ie(s,o)}}n+=s>65535?2:1}return Ie(i.length,e.length)}function l0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function wC(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ie(i[n],e[n]);return Ie(i.length,e.length)}function so(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=-62135596800,c0=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*c0);return new xt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<u0)throw new he(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c0}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-u0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new xt(0,0))}static max(){return new Ae(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="__name__";class dr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return dr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=dr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ie(e.length,n.length)}static compareSegments(e,n){const s=dr.isNumericId(e),o=dr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?dr.extractNumericId(e).compare(dr.extractNumericId(n)):Cm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class tt extends dr{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const AC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends dr{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return AC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h0}static keyField(){return new Ht([h0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(tt.fromString(e))}static fromName(e){return new ye(tt.fromString(e).popFirst(5))}static empty(){return new ye(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function SC(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new xt(n+1,0):new xt(n,s));return new Xi(o,ye.empty(),e)}function RC(i){return new Xi(i.readTime,i.key,Ql)}class Xi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xi(Ae.min(),ye.empty(),Ql)}static max(){return new Xi(Ae.max(),ye.empty(),Ql)}}function xC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Ie(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==IC)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,s)=>{n(e)})}static reject(e){return new te((n,s)=>{s(e)})}static waitFor(e){return new te((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next(o=>o?te.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new te((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next(E=>{f[p]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new te((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function NC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Vh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=-1;function Lh(i){return i==null}function ph(i){return i===0&&1/i==-1/0}function kC(i){return typeof i=="number"&&Number.isInteger(i)&&!ph(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="";function DC(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=f0(e)),e=OC(i.get(n),e);return f0(e)}function OC(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case MT:n+="";break;default:n+=u}}return n}function f0(i){return i+MT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ws(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function PT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new m0(this.data.getIterator())}getIteratorFrom(e){return new m0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class m0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new It(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new VT("Invalid base64 string: "+u):u}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const MC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(i){if(He(!!i,39018),typeof i=="string"){let e=0;const n=MC.exec(i);if(He(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(i.seconds),nanos:mt(i.nanos)}}function mt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zi(i){return typeof i=="string"?Ft.fromBase64String(i):Ft.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="server_timestamp",UT="__type__",jT="__previous_value__",zT="__local_write_time__";function yg(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[UT])===null||n===void 0?void 0:n.stringValue)===LT}function Uh(i){const e=i.mapValue.fields[jT];return yg(e)?Uh(e):e}function $l(i){const e=Wi(i.mapValue.fields[zT].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,s,o,u,f,m,g,p){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p}}const yh="(default)";class Xl{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="__type__",VC="__max__",qc={mapValue:{}},qT="__vector__",_h="value";function Ji(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?yg(i)?4:UC(i)?9007199254740991:LC(i)?10:11:Te(28295,{value:i})}function Tr(i,e){if(i===e)return!0;const n=Ji(i);if(n!==Ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $l(i).isEqual($l(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Wi(o.timestampValue),m=Wi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Zi(o.bytesValue).isEqual(Zi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mt(o.doubleValue),m=mt(u.doubleValue);return f===m?ph(f)===ph(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return so(i.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(d0(f)!==d0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Tr(f[g],m[g])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function Wl(i,e){return(i.values||[]).find(n=>Tr(n,e))!==void 0}function ao(i,e){if(i===e)return 0;const n=Ji(i),s=Ji(e);if(n!==s)return Ie(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=mt(u.integerValue||u.doubleValue),g=mt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return g0(i.timestampValue,e.timestampValue);case 4:return g0($l(i),$l(e));case 5:return Cm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Zi(u),g=Zi(f);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Ie(m[p],g[p]);if(E!==0)return E}return Ie(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ie(mt(u.latitude),mt(f.latitude));return m!==0?m:Ie(mt(u.longitude),mt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return p0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,p,E;const w=u.fields||{},S=f.fields||{},O=(m=w[_h])===null||m===void 0?void 0:m.arrayValue,N=(g=S[_h])===null||g===void 0?void 0:g.arrayValue,K=Ie(((p=O==null?void 0:O.values)===null||p===void 0?void 0:p.length)||0,((E=N==null?void 0:N.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:p0(O,N)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===qc.mapValue&&f===qc.mapValue)return 0;if(u===qc.mapValue)return 1;if(f===qc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let w=0;w<g.length&&w<E.length;++w){const S=Cm(g[w],E[w]);if(S!==0)return S;const O=ao(m[g[w]],p[E[w]]);if(O!==0)return O}return Ie(g.length,E.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{Pe:n})}}function g0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ie(i,e);const n=Wi(i),s=Wi(e),o=Ie(n.seconds,s.seconds);return o!==0?o:Ie(n.nanos,s.nanos)}function p0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ao(n[o],s[o]);if(u)return u}return Ie(n.length,s.length)}function oo(i){return Nm(i)}function Nm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Wi(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Zi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ye.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Nm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Nm(n.fields[f])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function th(i){switch(Ji(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(i);return e?16+th(e):16;case 5:return 2*i.stringValue.length;case 6:return Zi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+th(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Ws(s.fields,(u,f)=>{o+=u.length+th(f)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function y0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function km(i){return!!i&&"integerValue"in i}function _g(i){return!!i&&"arrayValue"in i}function _0(i){return!!i&&"nullValue"in i}function v0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function nh(i){return!!i&&"mapValue"in i}function LC(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[BT])===null||n===void 0?void 0:n.stringValue)===qT}function Bl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ws(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Bl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function UC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===VC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ws(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Dn(Bl(this.value))}}function HT(i){const e=[];return Ws(i.fields,(n,s)=>{const o=new Ht([n]);if(nh(s)){const u=HT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,Ae.min(),Ae.min(),Ae.min(),Dn.empty(),0)}static newFoundDocument(e,n,s,o){return new Xt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,Ae.min(),Ae.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,Ae.min(),Ae.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.position=e,this.inclusive=n}}function E0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=ao(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function T0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Tr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function jC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{}class Et extends FT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new BC(e,n,s):n==="array-contains"?new FC(e,s):n==="in"?new GC(e,s):n==="not-in"?new KC(e,s):n==="array-contains-any"?new YC(e,s):new Et(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new qC(e,s):new HC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ao(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends FT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Qn(e,n)}matches(e){return GT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function GT(i){return i.op==="and"}function KT(i){return zC(i)&&GT(i)}function zC(i){for(const e of i.filters)if(e instanceof Qn)return!1;return!0}function Dm(i){if(i instanceof Et)return i.field.canonicalString()+i.op.toString()+oo(i.value);if(KT(i))return i.filters.map(e=>Dm(e)).join(",");{const e=i.filters.map(n=>Dm(n)).join(",");return`${i.op}(${e})`}}function YT(i,e){return i instanceof Et?function(s,o){return o instanceof Et&&s.op===o.op&&s.field.isEqual(o.field)&&Tr(s.value,o.value)}(i,e):i instanceof Qn?function(s,o){return o instanceof Qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&YT(f,o.filters[m]),!0):!1}(i,e):void Te(19439)}function QT(i){return i instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`}(i):i instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(QT).join(" ,")+"}"}(i):"Filter"}class BC extends Et{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class qC extends Et{constructor(e,n){super(e,"in",n),this.keys=$T("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HC extends Et{constructor(e,n){super(e,"not-in",n),this.keys=$T("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $T(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class FC extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _g(n)&&Wl(n.arrayValue,this.value)}}class GC extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class KC extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class YC extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function b0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new QC(i,e,n,s,o,u,f)}function vg(i){const e=Se(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Dm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>oo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>oo(s)).join(",")),e.Ie=n}return e.Ie}function Eg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!jC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!YT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!T0(i.startAt,e.startAt)&&T0(i.endAt,e.endAt)}function Om(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function $C(i,e,n,s,o,u,f,m){return new Eo(i,e,n,s,o,u,f,m)}function jh(i){return new Eo(i)}function w0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function XT(i){return i.collectionGroup!==null}function ql(i){const e=Se(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(Ht.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Zl(u,s))}),n.has(Ht.keyField().canonicalString())||e.Ee.push(new Zl(Ht.keyField(),s))}return e.Ee}function _r(i){const e=Se(i);return e.de||(e.de=XC(e,ql(i))),e.de}function XC(i,e){if(i.limitType==="F")return b0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Zl(o.field,u)});const n=i.endAt?new vh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new vh(i.startAt.position,i.startAt.inclusive):null;return b0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Mm(i,e){const n=i.filters.concat([e]);return new Eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Pm(i,e,n){return new Eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function zh(i,e){return Eg(_r(i),_r(e))&&i.limitType===e.limitType}function WT(i){return`${vg(_r(i))}|lt:${i.limitType}`}function $a(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>QT(o)).join(", ")}]`),Lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>oo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>oo(o)).join(",")),`Target(${s})`}(_r(i))}; limitType=${i.limitType})`}function Bh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,g){const p=E0(f,m,g);return f.inclusive?p<=0:p<0}(s.startAt,ql(s),o)||s.endAt&&!function(f,m,g){const p=E0(f,m,g);return f.inclusive?p>=0:p>0}(s.endAt,ql(s),o))}(i,e)}function WC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ZT(i){return(e,n)=>{let s=!1;for(const o of ql(i)){const u=ZC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ZC(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?ao(g,p):Te(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return PT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new at(ye.comparator);function ii(){return JC}const JT=new at(ye.comparator);function Ll(...i){let e=JT;for(const n of i)e=e.insert(n.key,n);return e}function eb(i){let e=JT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Bs(){return Hl()}function tb(){return Hl()}function Hl(){return new Zs(i=>i.toString(),(i,e)=>i.isEqual(e))}const e2=new at(ye.comparator),t2=new It(ye.comparator);function Me(...i){let e=t2;for(const n of i)e=e.add(n);return e}const n2=new It(Ie);function r2(){return n2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function nb(i){return{integerValue:""+i}}function i2(i,e){return kC(e)?nb(e):Tg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function s2(i,e,n){return i instanceof Eh?function(o,u){const f={fields:{[UT]:{stringValue:LT},[zT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yg(u)&&(u=Uh(u)),u&&(f.fields[jT]=u),{mapValue:f}}(n,e):i instanceof Jl?ib(i,e):i instanceof eu?sb(i,e):function(o,u){const f=rb(o,u),m=A0(f)+A0(o.Re);return km(f)&&km(o.Re)?nb(m):Tg(o.serializer,m)}(i,e)}function a2(i,e,n){return i instanceof Jl?ib(i,e):i instanceof eu?sb(i,e):n}function rb(i,e){return i instanceof Th?function(s){return km(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Eh extends qh{}class Jl extends qh{constructor(e){super(),this.elements=e}}function ib(i,e){const n=ab(e);for(const s of i.elements)n.some(o=>Tr(o,s))||n.push(s);return{arrayValue:{values:n}}}class eu extends qh{constructor(e){super(),this.elements=e}}function sb(i,e){let n=ab(e);for(const s of i.elements)n=n.filter(o=>!Tr(o,s));return{arrayValue:{values:n}}}class Th extends qh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function A0(i){return mt(i.integerValue||i.doubleValue)}function ab(i){return _g(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function o2(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Jl&&o instanceof Jl||s instanceof eu&&o instanceof eu?so(s.elements,o.elements,Tr):s instanceof Th&&o instanceof Th?Tr(s.Re,o.Re):s instanceof Eh&&o instanceof Eh}(i.transform,e.transform)}class l2{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Hh{}function ob(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new bg(i.key,Gn.none()):new uu(i.key,i.data,Gn.none());{const n=i.data,s=Dn.empty();let o=new It(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Js(i.key,s,new Hn(o.toArray()),Gn.none())}}function u2(i,e,n){i instanceof uu?function(o,u,f){const m=o.value.clone(),g=R0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Js?function(o,u,f){if(!rh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=R0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(lb(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Fl(i,e,n,s){return i instanceof uu?function(u,f,m,g){if(!rh(u.precondition,f))return m;const p=u.value.clone(),E=x0(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null}(i,e,n,s):i instanceof Js?function(u,f,m,g){if(!rh(u.precondition,f))return m;const p=x0(u.fieldTransforms,g,f),E=f.data;return E.setAll(lb(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,f,m){return rh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function c2(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=rb(s.transform,o||null);u!=null&&(n===null&&(n=Dn.empty()),n.set(s.field,u))}return n||null}function S0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&so(s,o,(u,f)=>o2(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class uu extends Hh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Js extends Hh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lb(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function R0(i,e,n){const s=new Map;He(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,a2(f,m,n[o]))}return s}function x0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,s2(u,f,e))}return s}class bg extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h2 extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&u2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=tb();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=ob(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,(n,s)=>S0(n,s))&&so(this.baseMutations,e.baseMutations,(n,s)=>S0(n,s))}}class wg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return e2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new wg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Ue;function g2(i){switch(i){case re.OK:return Te(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function ub(i){if(i===void 0)return ri("GRPC error has no .code"),re.UNKNOWN;switch(i){case vt.OK:return re.OK;case vt.CANCELLED:return re.CANCELLED;case vt.UNKNOWN:return re.UNKNOWN;case vt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case vt.INTERNAL:return re.INTERNAL;case vt.UNAVAILABLE:return re.UNAVAILABLE;case vt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case vt.NOT_FOUND:return re.NOT_FOUND;case vt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case vt.ABORTED:return re.ABORTED;case vt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case vt.DATA_LOSS:return re.DATA_LOSS;default:return Te(39323,{code:i})}}(Ue=vt||(vt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new Gi([4294967295,4294967295],0);function I0(i){const e=DT().encode(i),n=new AT;return n.update(e),new Uint8Array(n.digest())}function C0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Gi([n,s],0),new Gi([o,u],0)]}class Ag{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(s<0)throw new Ul(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Gi.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(Gi.fromNumber(s)));return o.compare(p2)===1&&(o=new Gi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=I0(e),[s,o]=C0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Ag(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=I0(e),[s,o]=C0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Fh(Ae.min(),o,new at(Ie),ii(),Me())}}class cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cu(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class cb{constructor(e,n){this.targetId=e,this.Ce=n}}class hb{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class N0{constructor(){this.Fe=0,this.Me=k0(),this.xe=Ft.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),n=Me(),s=Me();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new cu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=k0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class y2{constructor(e){this.ze=e,this.je=new Map,this.He=ii(),this.Je=Hc(),this.Ye=Hc(),this.Ze=new at(Ie)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Om(u))if(s===0){const f=new ye(u.path);this.tt(n,f,Xt.newNoDocument(f,Ae.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),g=m?this.lt(m,e,f):1;if(g!==0){this.st(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Zi(s).toUint8Array()}catch(g){if(g instanceof VT)return io("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Ag(f,o,u)}catch(g){return io(g instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Om(m.target)){const g=new ye(m.target.path);this.Et(g).has(f)||this.dt(f,g)||this.tt(f,g,Xt.newNoDocument(g,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Me();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const p=this._t(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Fh(e,n,this.Ze,this.He,s);return this.He=ii(),this.Je=Hc(),this.Ye=Hc(),this.Ze=new at(Ie),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new N0,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new It(Ie),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new It(Ie),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new N0),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Hc(){return new at(ye.comparator)}function k0(){return new at(ye.comparator)}const _2={asc:"ASCENDING",desc:"DESCENDING"},v2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E2={and:"AND",or:"OR"};class T2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vm(i,e){return i.useProto3Json||Lh(e)?e:{value:e}}function bh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function b2(i,e){return bh(i,e.toTimestamp())}function vr(i){return He(!!i,49232),Ae.fromTimestamp(function(n){const s=Wi(n);return new xt(s.seconds,s.nanos)}(i))}function Sg(i,e){return Lm(i,e).canonicalString()}function Lm(i,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function db(i){const e=tt.fromString(i);return He(_b(e),10190,{key:e.toString()}),e}function Um(i,e){return Sg(i.databaseId,e.path)}function fm(i,e){const n=db(e);if(n.get(1)!==i.databaseId.projectId)throw new he(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(gb(n))}function mb(i,e){return Sg(i.databaseId,e)}function w2(i){const e=db(i);return e.length===4?tt.emptyPath():gb(e)}function jm(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function gb(i){return He(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function D0(i,e,n){return{name:Um(i,e),fields:n.value.mapValue.fields}}function A2(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,E){return p.useProto3Json?(He(E===void 0||typeof E=="string",58123),Ft.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ft.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(p){const E=p.code===void 0?re.UNKNOWN:ub(p.code);return new he(E,p.message||"")}(f);n=new hb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=fm(i,s.document.name),u=vr(s.document.updateTime),f=s.document.createTime?vr(s.document.createTime):Ae.min(),m=new Dn({mapValue:{fields:s.document.fields}}),g=Xt.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new ih(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=fm(i,s.document),u=s.readTime?vr(s.readTime):Ae.min(),f=Xt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=fm(i,s.document),u=s.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new m2(o,u),m=s.targetId;n=new cb(m,f)}}return n}function S2(i,e){let n;if(e instanceof uu)n={update:D0(i,e.key,e.value)};else if(e instanceof bg)n={delete:Um(i,e.key)};else if(e instanceof Js)n={update:D0(i,e.key,e.data),updateMask:M2(e.fieldMask)};else{if(!(e instanceof h2))return Te(16599,{ft:e.type});n={verify:Um(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Eh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Th)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Te(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:b2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),n}function R2(i,e){return i&&i.length>0?(He(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?vr(o.updateTime):vr(u);return f.isEqual(Ae.min())&&(f=vr(u)),new l2(f,o.transformResults||[])}(n,e))):[]}function x2(i,e){return{documents:[mb(i,e.path)]}}function I2(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=mb(i,o);const u=function(p){if(p.length!==0)return yb(Qn.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(p){if(p.length!==0)return p.map(E=>function(S){return{field:Xa(S.field),direction:k2(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Vm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:o}}function C2(i){let e=w2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const S=pb(w);return S instanceof Qn&&KT(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(S=>function(N){return new Zl(Wa(N.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(w){let S;return S=typeof w=="object"?w.value:w,Lh(S)?null:S}(n.limit));let g=null;n.startAt&&(g=function(w){const S=!!w.before,O=w.values||[];return new vh(O,S)}(n.startAt));let p=null;return n.endAt&&(p=function(w){const S=!w.before,O=w.values||[];return new vh(O,S)}(n.endAt)),$C(e,o,f,u,m,"F",g,p)}function N2(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pb(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Wa(n.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(n.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wa(n.unaryFilter.field);return Et.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Wa(n.unaryFilter.field);return Et.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(n){return Et.create(Wa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(s=>pb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(i):Te(30097,{filter:i})}function k2(i){return _2[i]}function D2(i){return v2[i]}function O2(i){return E2[i]}function Xa(i){return{fieldPath:i.canonicalString()}}function Wa(i){return Ht.fromServerFormat(i.fieldPath)}function yb(i){return i instanceof Et?function(n){if(n.op==="=="){if(v0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(_0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(_0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:D2(n.op),value:n.value}}}(i):i instanceof Qn?function(n){const s=n.getFilters().map(o=>yb(o));return s.length===1?s[0]:{compositeFilter:{op:O2(n.op),filters:s}}}(i):Te(54877,{filter:i})}function M2(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _b(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Ft.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.wt=e}}function V2(i){const e=C2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Pm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.yn=new U2}addToCollectionParentIndex(e,n){return this.yn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Xi.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class U2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vb=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(vb,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new lo(0)}static ir(){return new lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="LruGarbageCollector",j2=1048576;function P0([i,e],[n,s]){const o=Ie(i,n);return o===0?Ie(e,s):o}class z2{constructor(e){this.cr=e,this.buffer=new It(P0),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();P0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class B2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ce(M0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vo(n)?ce(M0,"Ignoring IndexedDB error during garbage collection: ",n):await _o(n)}await this.Ir(3e5)})}}class q2{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Vh.le);const s=new z2(n);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(O0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O0):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(p=Date.now(),Qa()<=Oe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function H2(i,e){return new q2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.changes=new Zs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Fl(s.mutation,o,Hn.empty(),xt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const o=Bs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ll();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Bs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ii();const f=Hl(),m=function(){return Hl()}();return n.forEach((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Js)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Fl(E.mutation,p,E.mutation.getFieldMask(),xt.now())):f.set(p.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,E)=>f.set(p,E)),n.forEach((p,E)=>{var w;return m.set(p,new G2(E,(w=f.get(p))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Hl();let o=new at((f,m)=>f-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||Hn.empty();E=m.applyToLocalView(p,E),s.set(g,E);const w=(o.get(m.batchId)||Me()).add(g);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,w=tb();E.forEach(S=>{if(!u.has(S)){const O=ob(n.get(S),s.get(S));O!==null&&w.set(S,O),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,p,w))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(Bs());let m=Ql,g=u;return f.next(p=>te.forEach(p,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{g=g.insert(E,S)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,Me())).next(E=>({batchId:m,changes:eb(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Ll();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ll();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,g=>{const p=function(w,S){return new Eo(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(E=>{E.forEach((w,S)=>{f=f.insert(w,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,Xt.newInvalidDocument(E)))});let m=Ll();return f.forEach((g,p)=>{const E=u.get(g);E!==void 0&&Fl(E.mutation,p,Hn.empty(),xt.now()),Bh(n,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return te.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:vr(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:V2(o.bundledQuery),readTime:vr(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.overlays=new at(ye.comparator),this.Or=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Bs();return te.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=Bs(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((p,E)=>p-E);const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=Bs(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Bs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,E)=>m.set(p,E)),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new d2(n,s));let u=this.Or.get(n);u===void 0&&(u=Me(),this.Or.set(n,u)),this.Or.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.Nr=new It(Pt.Br),this.Lr=new It(Pt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new Pt(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new ye(new tt([])),s=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ye(new tt([])),s=new Pt(n,e),o=new Pt(n,e+1);let u=Me();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Pt(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ye.comparator(e.key,n.key)||Ie(e.Gr,n.Gr)}static kr(e,n){return Ie(e.Gr,n.Gr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new It(Pt.Br)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new f2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Hr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?pg:this.Jn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const m=this.jr(f.Gr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Ie);return n.forEach(o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{s=s.add(m.Gr)})}),te.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new ye(u),0);let m=new It(Ie);return this.zr.forEachWhile(g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Gr)),!0)},f),te.resolve(this.Jr(m))}Jr(e){const n=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return te.forEach(n.mutations,o=>{const u=new Pt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new Pt(n,0),o=this.zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.Zr=e,this.docs=function(){return new at(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let s=ii();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ii();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||xC(RC(E),s)<=0||(o.has(E.key)||Bh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}Xr(e,n){return te.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Z2(this)}getSize(e){return te.resolve(this.size)}}class Z2 extends F2{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),te.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.persistence=e,this.ei=new Zs(n=>vg(n),Eg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ti=0,this.ni=new Rg,this.targetCount=0,this.ri=lo.rr()}forEachTarget(e,n){return this.ei.forEach((s,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),te.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new lo(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.ar(n),te.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n){this.ii={},this.overlays={},this.si=new Vh(0),this.oi=!1,this.oi=!0,this._i=new $2,this.referenceDelegate=e(this),this.ai=new J2(this),this.indexManager=new L2,this.remoteDocumentCache=function(o){return new W2(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new P2(n),this.ci=new Y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Q2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new X2(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new eN(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,n){return te.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class eN extends CC{constructor(e){super(),this.currentSequenceNumber=e}}class xg{constructor(e){this.persistence=e,this.Ti=new Rg,this.Ii=null}static Ei(e){return new xg(e)}get di(){if(this.Ii)return this.Ii;throw Te(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,s=>{const o=ye.fromPath(s);return this.Ai(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return te.or([()=>te.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class wh{constructor(e,n){this.persistence=e,this.Ri=new Zs(s=>DC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=H2(this,n)}static Ei(e,n){return new wh(e,n)}li(){}hi(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return te.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?te.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),te.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}gr(e,n,s){return te.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.Ri.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=o}static Ps(e,n){let s=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ig(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return OR()?8:NC(Wt())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new tN;return this.fs(e,n,f).next(m=>{if(u.result=m,this.Is)return this.gs(e,n,f,m.size)})}).next(()=>u.result)}gs(e,n,s,o){return s.documentReadCount<this.Es?(Qa()<=Oe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),te.resolve()):(Qa()<=Oe.DEBUG&&ce("QueryEngine","Query:",$a(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Qa()<=Oe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):te.resolve())}Rs(e,n){if(w0(n))return te.resolve(null);let s=_r(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Pm(n,null,"F"),s=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Me(...u);return this.As.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const p=this.ps(n,m);return this.ys(n,p,f,g.readTime)?this.Rs(e,Pm(n,null,"F")):this.ws(e,p,n,g)}))})))}Vs(e,n,s,o){return w0(n)||o.isEqual(Ae.min())?te.resolve(null):this.As.getDocuments(e,s).next(u=>{const f=this.ps(n,u);return this.ys(n,f,s,o)?te.resolve(null):(Qa()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(n)),this.ws(e,f,n,SC(o,Ql)).next(m=>m))})}ps(e,n){let s=new It(ZT(e));return n.forEach((o,u)=>{Bh(e,u)&&(s=s.add(u))}),s}ys(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,n,s){return Qa()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",$a(n)),this.As.getDocumentsMatchingQuery(e,n,Xi.min(),s)}ws(e,n,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="LocalStore",rN=3e8;class iN{constructor(e,n,s,o){this.persistence=e,this.bs=n,this.serializer=o,this.Ss=new at(Ie),this.Ds=new Zs(u=>vg(u),Eg),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K2(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function sN(i,e,n,s){return new iN(i,e,n,s)}async function Tb(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Me();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(p=>({Ms:p,removedBatchIds:f,addedBatchIds:m}))})})}function aN(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(m,g,p,E){const w=p.batch,S=w.keys();let O=te.resolve();return S.forEach(N=>{O=O.next(()=>E.getEntry(g,N)).next(K=>{const z=p.docVersions.get(N);He(z!==null,48541),K.version.compareTo(z)<0&&(w.applyToRemoteDocument(K,p),K.isValidDocument()&&(K.setReadTime(p.commitVersion),E.addEntry(K)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(g,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Me();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function bb(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function oN(i,e){const n=Se(i),s=e.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const m=[];e.targetChanges.forEach((E,w)=>{const S=o.get(w);if(!S)return;m.push(n.ai.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,w)));let O=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(Ft.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(w,O),function(K,z,$){return K.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=rN?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,O,E)&&m.push(n.ai.updateTargetData(u,O))});let g=ii(),p=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(lN(u,f,e.documentUpdates).next(E=>{g=E.xs,p=E.Os})),!s.isEqual(Ae.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(w=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(n.Ss=o,u))}function lN(i,e,n){let s=Me(),o=Me();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=ii();return n.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ce(Cg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{xs:f,Os:o}})}function uN(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=pg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function cN(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ai.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):n.ai.allocateTargetId(s).next(f=>(o=new qi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function zm(i,e,n){const s=Se(i),o=s.Ss.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!vo(f))throw f;ce(Cg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function V0(i,e,n){const s=Se(i);let o=Ae.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,p,E){const w=Se(g),S=w.Ds.get(E);return S!==void 0?te.resolve(w.Ss.get(S)):w.ai.getTargetData(p,E)}(s,f,_r(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.bs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Me())).next(m=>(hN(s,WC(e),m),{documents:m,Ns:u})))}function hN(i,e,n){let s=i.vs.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.vs.set(e,s)}class L0{constructor(){this.activeTargetIds=r2()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fN{constructor(){this.So=new L0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new L0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="ConnectivityMonitor";class j0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ce(U0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ce(U0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function Bm(){return Fc===null?Fc=function(){return 268435456+Math.round(2147483648*Math.random())}():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="RestConnection",mN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gN{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,n,s,o,u){const f=Bm(),m=this.$o(e,n.toUriEncodedString());ce(dm,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(g,o,u),this.Ko(e,m,g,s).then(p=>(ce(dm,`Received RPC '${e}' ${f}: `,p),p),p=>{throw io(dm,`RPC '${e}' ${f} failed with error: `,p,"url: ",m,"request:",s),p})}Wo(e,n,s,o,u,f){return this.Qo(e,n,s,o,u)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,n){const s=mN[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class yN extends gN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,o){const u=Bm();return new Promise((f,m)=>{const g=new ST;g.setWithCredentials(!0),g.listenOnce(RT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case eh.NO_ERROR:const E=g.getResponseJson();ce(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case eh.TIMEOUT:ce(Qt,`RPC '${e}' ${u} timed out`),m(new he(re.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const w=g.getStatus();if(ce(Qt,`RPC '${e}' ${u} failed with status:`,w,"response text:",g.getResponseText()),w>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const O=S==null?void 0:S.error;if(O&&O.status&&O.message){const N=function(z){const $=z.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf($)>=0?$:re.UNKNOWN}(O.status);m(new he(N,O.message))}else m(new he(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new he(re.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{s_:e,streamId:u,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{ce(Qt,`RPC '${e}' ${u} completed.`)}});const p=JSON.stringify(o);ce(Qt,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",p,s,15)})}a_(e,n,s){const o=Bm(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=CT(),m=IT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Uo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ce(Qt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const w=f.createWebChannel(E,g);let S=!1,O=!1;const N=new pN({Go:z=>{O?ce(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(S||(ce(Qt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),ce(Qt,`RPC '${e}' stream ${o} sending:`,z),w.send(z))},zo:()=>w.close()}),K=(z,$,ne)=>{z.listen($,Q=>{try{ne(Q)}catch(ae){setTimeout(()=>{throw ae},0)}})};return K(w,Vl.EventType.OPEN,()=>{O||(ce(Qt,`RPC '${e}' stream ${o} transport opened.`),N.t_())}),K(w,Vl.EventType.CLOSE,()=>{O||(O=!0,ce(Qt,`RPC '${e}' stream ${o} transport closed`),N.r_())}),K(w,Vl.EventType.ERROR,z=>{O||(O=!0,io(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),N.r_(new he(re.UNAVAILABLE,"The operation could not be completed")))}),K(w,Vl.EventType.MESSAGE,z=>{var $;if(!O){const ne=z.data[0];He(!!ne,16349);const Q=ne,ae=(Q==null?void 0:Q.error)||(($=Q[0])===null||$===void 0?void 0:$.error);if(ae){ce(Qt,`RPC '${e}' stream ${o} received error:`,ae);const le=ae.status;let de=function(x){const M=vt[x];if(M!==void 0)return ub(M)}(le),k=ae.message;de===void 0&&(de=re.INTERNAL,k="Unknown error status: "+le+" with message "+ae.message),O=!0,N.r_(new he(de,k)),w.close()}else ce(Qt,`RPC '${e}' stream ${o} received:`,ne),N.i_(ne)}}),K(m,xT.STAT_EVENT,z=>{z.stat===Im.PROXY?ce(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Im.NOPROXY&&ce(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.n_()},0),N}}function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(i){return new T2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="PersistentStream";class Ab{constructor(e,n,s,o,u,f,m,g){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new wb(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===n&&this.B_(s,o)},s=>{e(()=>{const o=new he(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ce(z0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(ce(z0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _N extends Ab{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=A2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?vr(f.readTime):Ae.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=jm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=Om(g)?{documents:x2(u,g)}:{query:I2(u,g).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=fb(u,f.resumeToken);const p=Vm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=bh(u,f.snapshotVersion.toTimestamp());const p=Vm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const s=N2(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=jm(this.serializer),n.removeTarget=e,this.F_(n)}}class vN extends Ab{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=R2(e.writeResults,e.commitTime),s=vr(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=jm(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>S2(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{}class TN extends EN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new he(re.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,Lm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(re.UNKNOWN,u.toString())})}Wo(e,n,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(e,Lm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(re.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class bN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ri(n),this.ea=!1):ce("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class wN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{ea(this)&&(ce(Ys,"Restarting streams for network reachability change."),await async function(g){const p=Se(g);p.aa.add(4),await hu(p),p.la.set("Unknown"),p.aa.delete(4),await Kh(p)}(this))})}),this.la=new bN(s,o)}}async function Kh(i){if(ea(i))for(const e of i.ua)await e(!0)}async function hu(i){for(const e of i.ua)await e(!1)}function Sb(i,e){const n=Se(i);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Og(n)?Dg(n):To(n).b_()&&kg(n,e))}function Ng(i,e){const n=Se(i),s=To(n);n._a.delete(e),s.b_()&&Rb(n,e),n._a.size===0&&(s.b_()?s.v_():ea(n)&&n.la.set("Unknown"))}function kg(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(i).U_(e)}function Rb(i,e){i.ha.Ke(e),To(i).K_(e)}function Dg(i){i.ha=new y2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),To(i).start(),i.la.ta()}function Og(i){return ea(i)&&!To(i).w_()&&i._a.size>0}function ea(i){return Se(i).aa.size===0}function xb(i){i.ha=void 0}async function AN(i){i.la.set("Online")}async function SN(i){i._a.forEach((e,n)=>{kg(i,e)})}async function RN(i,e){xb(i),Og(i)?(i.la.ia(e),Dg(i)):i.la.set("Unknown")}async function xN(i,e,n){if(i.la.set("Online"),e instanceof hb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(i,e)}catch(s){ce(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ah(i,s)}else if(e instanceof ih?i.ha.Xe(e):e instanceof cb?i.ha.ot(e):i.ha.nt(e),!n.isEqual(Ae.min()))try{const s=await bb(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u._a.get(p);E&&u._a.set(p,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,p)=>{const E=u._a.get(g);if(!E)return;u._a.set(g,E.withResumeToken(Ft.EMPTY_BYTE_STRING,E.snapshotVersion)),Rb(u,g);const w=new qi(E.target,g,p,E.sequenceNumber);kg(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ce(Ys,"Failed to raise snapshot:",s),await Ah(i,s)}}async function Ah(i,e,n){if(!vo(e))throw e;i.aa.add(1),await hu(i),i.la.set("Offline"),n||(n=()=>bb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(Ys,"Retrying IndexedDB access"),await n(),i.aa.delete(1),await Kh(i)})}function Ib(i,e){return e().catch(n=>Ah(i,n,e))}async function Yh(i){const e=Se(i),n=es(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:pg;for(;IN(e);)try{const o=await uN(e.localStore,s);if(o===null){e.oa.length===0&&n.v_();break}s=o.batchId,CN(e,o)}catch(o){await Ah(e,o)}Cb(e)&&Nb(e)}function IN(i){return ea(i)&&i.oa.length<10}function CN(i,e){i.oa.push(e);const n=es(i);n.b_()&&n.W_&&n.G_(e.mutations)}function Cb(i){return ea(i)&&!es(i).w_()&&i.oa.length>0}function Nb(i){es(i).start()}async function NN(i){es(i).H_()}async function kN(i){const e=es(i);for(const n of i.oa)e.G_(n.mutations)}async function DN(i,e,n){const s=i.oa.shift(),o=wg.from(s,e,n);await Ib(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Yh(i)}async function ON(i,e){e&&es(i).W_&&await async function(s,o){if(function(f){return g2(f)&&f!==re.ABORTED}(o.code)){const u=s.oa.shift();es(s).D_(),await Ib(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Yh(s)}}(i,e),Cb(i)&&Nb(i)}async function B0(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),ce(Ys,"RemoteStore received new credentials");const s=ea(n);n.aa.add(3),await hu(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Kh(n)}async function MN(i,e){const n=Se(i);e?(n.aa.delete(2),await Kh(n)):e||(n.aa.add(2),await hu(n),n.la.set("Unknown"))}function To(i){return i.Pa||(i.Pa=function(n,s,o){const u=Se(n);return u.Y_(),new _N(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:AN.bind(null,i),Jo:SN.bind(null,i),Zo:RN.bind(null,i),Q_:xN.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),Og(i)?Dg(i):i.la.set("Unknown")):(await i.Pa.stop(),xb(i))})),i.Pa}function es(i){return i.Ta||(i.Ta=function(n,s,o){const u=Se(n);return u.Y_(),new vN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:NN.bind(null,i),Zo:ON.bind(null,i),z_:kN.bind(null,i),j_:DN.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await Yh(i)):(await i.Ta.stop(),i.oa.length>0&&(ce(Ys,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Mg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pg(i,e){if(ri("AsyncQueue",`${e}: ${i}`),vo(i))return new he(re.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ll(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new no;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.Ia=new at(ye.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class uo{constructor(e,n,s,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new uo(e,n,no.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class VN{constructor(){this.queries=H0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=H0(),u.forEach((f,m)=>{for(const g of m.Ra)g.onError(s)})})(this,new he(re.ABORTED,"Firestore shutting down"))}}function H0(){return new Zs(i=>WT(i),zh)}async function kb(i,e){const n=Se(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new PN,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Pg(f,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Ra.push(e),e.ga(n.onlineState),u.Aa&&e.pa(u.Aa)&&Vg(n)}async function Db(i,e){const n=Se(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function LN(i,e){const n=Se(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(s=!0);f.Aa=o}}s&&Vg(n)}function UN(i,e,n){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(n);s.queries.delete(e)}function Vg(i){i.fa.forEach(e=>{e.next()})}var qm,F0;(F0=qm||(qm={})).ya="default",F0.Cache="cache";class Ob{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.key=e}}class Pb{constructor(e){this.key=e}}class jN{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Me(),this.mutatedKeys=Me(),this.Ua=ZT(e),this.Ka=new no(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new q0,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const S=o.get(E),O=Bh(this.query,w)?w:null,N=!!S&&this.mutatedKeys.has(S.key),K=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let z=!1;S&&O?S.data.isEqual(O.data)?N!==K&&(s.track({type:3,doc:O}),z=!0):this.ja(S,O)||(s.track({type:2,doc:O}),z=!0,(g&&this.Ua(O,g)>0||p&&this.Ua(O,p)<0)&&(m=!0)):!S&&O?(s.track({type:0,doc:O}),z=!0):S&&!O&&(s.track({type:1,doc:S}),z=!0,(g||p)&&(m=!0)),z&&(O?(f=f.add(O),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:m,mutatedKeys:u}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((E,w)=>function(O,N){const K=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:z})}};return K(O)-K(N)}(E.type,w.type)||this.Ua(E.doc,w.doc)),this.Ha(s),o=o!=null&&o;const m=n&&!o?this.Ja():[],g=this.$a.size===0&&this.current&&!o?1:0,p=g!==this.Qa;return this.Qa=g,f.length!==0||p?{snapshot:new uo(this.query,e.Ka,u,f,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new q0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Me(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new Pb(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new Mb(s))}),n}Xa(e){this.qa=e.Ns,this.$a=Me();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return uo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Lg="SyncEngine";class zN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class BN{constructor(e){this.key=e,this.tu=!1}}class qN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new Zs(m=>WT(m),zh),this.iu=new Map,this.su=new Set,this.ou=new at(ye.comparator),this._u=new Map,this.au=new Rg,this.uu={},this.cu=new Map,this.lu=lo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function HN(i,e,n=!0){const s=Bb(i);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await Vb(s,e,n,!0),o}async function FN(i,e){const n=Bb(i);await Vb(n,e,!0,!1)}async function Vb(i,e,n,s){const o=await cN(i.localStore,_r(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await GN(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&Sb(i.remoteStore,o),m}async function GN(i,e,n,s,o){i.Pu=(w,S,O)=>async function(K,z,$,ne){let Q=z.view.Ga($);Q.ys&&(Q=await V0(K.localStore,z.query,!1).then(({documents:k})=>z.view.Ga(k,Q)));const ae=ne&&ne.targetChanges.get(z.targetId),le=ne&&ne.targetMismatches.get(z.targetId)!=null,de=z.view.applyChanges(Q,K.isPrimaryClient,ae,le);return K0(K,z.targetId,de.Ya),de.snapshot}(i,w,S,O);const u=await V0(i.localStore,e,!0),f=new jN(e,u.Ns),m=f.Ga(u.documents),g=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),p=f.applyChanges(m,i.isPrimaryClient,g);K0(i,n,p.Ya);const E=new zN(e,n,f);return i.ru.set(e,E),i.iu.has(n)?i.iu.get(n).push(e):i.iu.set(n,[e]),p.snapshot}async function KN(i,e,n){const s=Se(i),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!zh(f,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ng(s.remoteStore,o.targetId),Hm(s,o.targetId)}).catch(_o)):(Hm(s,o.targetId),await zm(s.localStore,o.targetId,!0))}async function YN(i,e){const n=Se(i),s=n.ru.get(e),o=n.iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ng(n.remoteStore,s.targetId))}async function QN(i,e,n){const s=tk(i);try{const o=await function(f,m){const g=Se(f),p=xt.now(),E=m.reduce((O,N)=>O.add(N.key),Me());let w,S;return g.persistence.runTransaction("Locally write mutations","readwrite",O=>{let N=ii(),K=Me();return g.Cs.getEntries(O,E).next(z=>{N=z,N.forEach(($,ne)=>{ne.isValidDocument()||(K=K.add($))})}).next(()=>g.localDocuments.getOverlayedDocuments(O,N)).next(z=>{w=z;const $=[];for(const ne of m){const Q=c2(ne,w.get(ne.key).overlayedDocument);Q!=null&&$.push(new Js(ne.key,Q,HT(Q.value.mapValue),Gn.exists(!0)))}return g.mutationQueue.addMutationBatch(O,p,$,m)}).next(z=>{S=z;const $=z.applyToLocalDocumentSet(w,K);return g.documentOverlayCache.saveOverlays(O,z.batchId,$)})}).then(()=>({batchId:S.batchId,changes:eb(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let p=f.uu[f.currentUser.toKey()];p||(p=new at(Ie)),p=p.insert(m,g),f.uu[f.currentUser.toKey()]=p}(s,o.batchId,n),await fu(s,o.changes),await Yh(s.remoteStore)}catch(o){const u=Pg(o,"Failed to persist write");n.reject(u)}}async function Lb(i,e){const n=Se(i);try{const s=await oN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?He(f.tu,14607):o.removedDocuments.size>0&&(He(f.tu,42227),f.tu=!1))}),await fu(n,s,e)}catch(s){await _o(s)}}function G0(i,e,n){const s=Se(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ru.forEach((u,f)=>{const m=f.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=Se(f);g.onlineState=m;let p=!1;g.queries.forEach((E,w)=>{for(const S of w.Ra)S.ga(m)&&(p=!0)}),p&&Vg(g)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $N(i,e,n){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s._u.get(e),u=o&&o.key;if(u){let f=new at(ye.comparator);f=f.insert(u,Xt.newNoDocument(u,Ae.min()));const m=Me().add(u),g=new Fh(Ae.min(),new Map,new at(Ie),f,m);await Lb(s,g),s.ou=s.ou.remove(u),s._u.delete(e),Ug(s)}else await zm(s.localStore,e,!1).then(()=>Hm(s,e,n)).catch(_o)}async function XN(i,e){const n=Se(i),s=e.batch.batchId;try{const o=await aN(n.localStore,e);jb(n,s,null),Ub(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,o)}catch(o){await _o(o)}}async function WN(i,e,n){const s=Se(i);try{const o=await function(f,m){const g=Se(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next(w=>(He(w!==null,37113),E=w.keys(),g.mutationQueue.removeMutationBatch(p,w))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>g.localDocuments.getDocuments(p,E))})}(s.localStore,e);jb(s,e,n),Ub(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fu(s,o)}catch(o){await _o(o)}}function Ub(i,e){(i.cu.get(e)||[]).forEach(n=>{n.resolve()}),i.cu.delete(e)}function jb(i,e,n){const s=Se(i);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function Hm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),n&&i.nu.Tu(s,n);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||zb(i,s)})}function zb(i,e){i.su.delete(e.path.canonicalString());const n=i.ou.get(e);n!==null&&(Ng(i.remoteStore,n),i.ou=i.ou.remove(e),i._u.delete(n),Ug(i))}function K0(i,e,n){for(const s of n)s instanceof Mb?(i.au.addReference(s.key,e),ZN(i,s)):s instanceof Pb?(ce(Lg,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||zb(i,s.key)):Te(19791,{Iu:s})}function ZN(i,e){const n=e.key,s=n.path.canonicalString();i.ou.get(n)||i.su.has(s)||(ce(Lg,"New document in limbo: "+n),i.su.add(s),Ug(i))}function Ug(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const n=new ye(tt.fromString(e)),s=i.lu.next();i._u.set(s,new BN(n)),i.ou=i.ou.insert(n,s),Sb(i.remoteStore,new qi(_r(jh(n.path)),s,"TargetPurposeLimboResolution",Vh.le))}}async function fu(i,e,n){const s=Se(i),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((m,g)=>{f.push(s.Pu(g,e,n).then(p=>{var E;if((p||n)&&s.isPrimaryClient){const w=p?!p.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(p){o.push(p);const w=Ig.Ps(g.targetId,p);u.push(w)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(g,p){const E=Se(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(p,S=>te.forEach(S.ls,O=>E.persistence.referenceDelegate.addReference(w,S.targetId,O)).next(()=>te.forEach(S.hs,O=>E.persistence.referenceDelegate.removeReference(w,S.targetId,O)))))}catch(w){if(!vo(w))throw w;ce(Cg,"Failed to update sequence numbers: "+w)}for(const w of p){const S=w.targetId;if(!w.fromCache){const O=E.Ss.get(S),N=O.snapshotVersion,K=O.withLastLimboFreeSnapshotVersion(N);E.Ss=E.Ss.insert(S,K)}}}(s.localStore,u))}async function JN(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){ce(Lg,"User change. New user:",e.toKey());const s=await Tb(n.localStore,e);n.currentUser=e,function(u,f){u.cu.forEach(m=>{m.forEach(g=>{g.reject(new he(re.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Ms)}}function ek(i,e){const n=Se(i),s=n._u.get(e);if(s&&s.tu)return Me().add(s.key);{let o=Me();const u=n.iu.get(e);if(!u)return o;for(const f of u){const m=n.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function Bb(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ek.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$N.bind(null,e),e.nu.Q_=LN.bind(null,e.eventManager),e.nu.Tu=UN.bind(null,e.eventManager),e}function tk(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WN.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return sN(this.persistence,new nN,e.initialUser,this.serializer)}Ru(e){return new Eb(xg.Ei,this.serializer)}Au(e){return new fN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class nk extends Sh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){He(this.persistence.referenceDelegate instanceof wh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new B2(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new Eb(s=>wh.Ei(s,n),this.serializer)}}class Fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>G0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=JN.bind(null,this.syncEngine),await MN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VN}()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),s=function(u){return new yN(u)}(e.databaseInfo);return function(u,f,m,g){return new TN(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new wN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>G0(this.syncEngine,n,0),function(){return j0.C()?new j0:new dN}())}createSyncEngine(e,n){return function(o,u,f,m,g,p,E){const w=new qN(o,u,f,m,g,p);return E&&(w.hu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Se(o);ce(Ys,"RemoteStore shutting down."),u.aa.add(5),await hu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fm.provider={build:()=>new Fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class rk{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=OT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(ts,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(ts,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Pg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function gm(i,e){i.asyncQueue.verifyOperationInProgress(),ce(ts,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Tb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Y0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await ik(i);ce(ts,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>B0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>B0(e.remoteStore,o)),i._onlineComponents=e}async function ik(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(ts,"Using user provided OfflineComponentProvider");try{await gm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await gm(i,new Sh)}}else ce(ts,"Using default OfflineComponentProvider"),await gm(i,new nk(void 0));return i._offlineComponents}async function Hb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(ts,"Using user provided OnlineComponentProvider"),await Y0(i,i._uninitializedComponentsProvider._online)):(ce(ts,"Using default OnlineComponentProvider"),await Y0(i,new Fm))),i._onlineComponents}function sk(i){return Hb(i).then(e=>e.syncEngine)}async function Gm(i){const e=await Hb(i),n=e.eventManager;return n.onListen=HN.bind(null,e.syncEngine),n.onUnlisten=KN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YN.bind(null,e.syncEngine),n}function ak(i,e,n={}){const s=new Ki;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,p){const E=new qb({next:S=>{E.yu(),f.enqueueAndForget(()=>Db(u,w));const O=S.docs.has(m);!O&&S.fromCache?p.reject(new he(re.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&g&&g.source==="server"?p.reject(new he(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),w=new Ob(jh(m.path),E,{includeMetadataChanges:!0,Fa:!0});return kb(u,w)}(await Gm(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(i,e,n){if(!n)throw new he(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ok(i,e,n,s){if(e===!0&&s===!0)throw new he(re.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function $0(i){if(!ye.isDocumentKey(i))throw new he(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function X0(i){if(ye.isDocumentKey(i))throw new he(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Qh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Er(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qh(i);throw new he(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="firestore.googleapis.com",W0=!0;class Z0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kb,this.ssl=W0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:W0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j2)throw new he(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ok("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new pC;switch(s.type){case"firstParty":return new EC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Q0.get(n);s&&(ce("ComponentProvider","Removing Datastore"),Q0.delete(n),s.terminate())}(this),Promise.resolve()}}function lk(i,e,n,s={}){var o;const u=(i=Er(i,$h))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==Kb&&u.host!==m&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!qs(g,f)&&(i._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=$t.MOCK_USER;else{p=PE(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new he(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(w)}i._authCredentials=new yC(new kT(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ta(this.firestore,e,this._query)}}class nn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class Yi extends ta{constructor(e,n,s){super(e,n,jh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new ye(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function jg(i,e,...n){if(i=ct(i),Gb("collection","path",e),i instanceof $h){const s=tt.fromString(e,...n);return X0(s),new Yi(i,null,s)}{if(!(i instanceof nn||i instanceof Yi))throw new he(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return X0(s),new Yi(i.firestore,null,s)}}function zn(i,e,...n){if(i=ct(i),arguments.length===1&&(e=OT.newId()),Gb("doc","path",e),i instanceof $h){const s=tt.fromString(e,...n);return $0(s),new nn(i,null,new ye(s))}{if(!(i instanceof nn||i instanceof Yi))throw new he(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return $0(s),new nn(i.firestore,i instanceof Yi?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="AsyncQueue";class eE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new wb(this,"async_queue_retry"),this.ju=()=>{const s=mm();s&&ce(J0,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Ki;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!vo(e))throw e;ce(J0,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,ri("INTERNAL UNHANDLED ERROR: ",tE(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const o=Mg.createAndSchedule(this,e,n,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Te(47125,{ec:tE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function tE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Qs extends $h{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new eE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eE(e),this._firestoreClient=void 0,await e}}}function uk(i,e){const n=typeof i=="object"?i:ig(),s=typeof i=="string"?i:yh,o=Dh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=DE("firestore");u&&lk(o,...u)}return o}function zg(i){if(i._terminated)throw new he(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ck(i),i._firestoreClient}function ck(i){var e,n,s;const o=i._freezeSettings(),u=function(m,g,p,E){return new PC(m,g,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Fb(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new rk(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(Ft.fromBase64String(e))}catch(n){throw new he(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new co(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=/^__.*__$/;class fk{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Js(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}function Qb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{oc:i})}}class Fg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Rh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Qb(this.oc)&&hk.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class dk{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Gh(e)}dc(e,n,s,o=!1){return new Fg({oc:e,methodName:n,Ec:s,path:Ht.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gg(i){const e=i._freezeSettings(),n=Gh(i._databaseId);return new dk(i._databaseId,!!e.ignoreUndefinedProperties,n)}function $b(i,e,n,s,o,u={}){const f=i.dc(u.merge||u.mergeFields?2:0,e,n,o);Zb("Data must be an object, but it was:",f,s);const m=Xb(s,f);let g,p;if(u.merge)g=new Hn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const S=gk(e,w,n);if(!f.contains(S))throw new he(re.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);yk(E,S)||E.push(S)}g=new Hn(E),p=f.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,p=f.fieldTransforms;return new fk(new Dn(m),g,p)}function mk(i,e,n,s=!1){return Kg(n,i.dc(s?4:3,e))}function Kg(i,e){if(Wb(i=ct(i)))return Zb("Unsupported field value:",e,i),Xb(i,e);if(i instanceof Yb)return function(s,o){if(!Qb(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let g=Kg(m,o.Pc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=ct(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return i2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=xt.fromDate(s);return{timestampValue:bh(o.serializer,u)}}if(s instanceof xt){const u=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(s instanceof qg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof co)return{bytesValue:fb(o.serializer,s._byteString)};if(s instanceof nn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Hg)return function(f,m){return{mapValue:{fields:{[BT]:{stringValue:qT},[_h]:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.Tc("VectorValues must only contain numeric values.");return Tg(m.serializer,p)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${Qh(s)}`)}(i,e)}function Xb(i,e){const n={};return PT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(i,(s,o)=>{const u=Kg(o,e.uc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Wb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof xt||i instanceof qg||i instanceof co||i instanceof nn||i instanceof Yb||i instanceof Hg)}function Zb(i,e,n){if(!Wb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Qh(n);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function gk(i,e,n){if((e=ct(e))instanceof Bg)return e._internalPath;if(typeof e=="string")return Jb(i,e);throw Rh("Field path arguments must be of type string or ",i,!1,void 0,n)}const pk=new RegExp("[~\\*/\\[\\]]");function Jb(i,e,n){if(e.search(pk)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Bg(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Rh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new he(re.INVALID_ARGUMENT,m+i+g)}function yk(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _k(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _k extends ew{data(){return super.data()}}function Yg(i,e){return typeof e=="string"?Jb(i,e):e instanceof Bg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qg{}class tw extends Qg{}function Ek(i,e,...n){let s=[];e instanceof Qg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(g=>g instanceof Xg).length,m=u.filter(g=>g instanceof $g).length;if(f>1||f>0&&m>0)throw new he(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class $g extends tw{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new $g(e,n,s)}_apply(e){const n=this._parse(e);return nw(e._query,n),new ta(e.firestore,e.converter,Mm(e._query,n))}_parse(e){const n=Gg(e.firestore);return function(u,f,m,g,p,E,w){let S;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){iE(w,E);const N=[];for(const K of w)N.push(rE(g,u,K));S={arrayValue:{values:N}}}else S=rE(g,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||iE(w,E),S=mk(m,f,w,E==="in"||E==="not-in");return Et.create(p,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Xg extends Qg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)nw(f,g),f=Mm(f,g)}(e._query,n),new ta(e.firestore,e.converter,Mm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wg extends tw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Wg(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new he(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(u,f)}(e._query,this._field,this._direction);return new ta(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Eo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function Tk(i,e="asc"){const n=e,s=Yg("orderBy",i);return Wg._create(s,n)}function rE(i,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new he(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XT(e)&&n.indexOf("/")!==-1)throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!ye.isDocumentKey(s))throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return y0(i,new ye(s))}if(n instanceof nn)return y0(i,n._key);throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(n)}.`)}function iE(i,e){if(!Array.isArray(i)||i.length===0)throw new he(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nw(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bk{convertValue(e,n="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ws(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[_h].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>mt(f.doubleValue));return new Hg(u)}convertGeoPoint(e){return new qg(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Uh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);He(_b(s),9688,{name:e});const o=new Xl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||ri(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iw extends ew{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Yg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class sh extends iw{data(e={}){return super.data(e)}}class wk{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new sh(this._firestore,this._userDataWriter,s.key,s,new jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:Ak(m.type),doc:g,oldIndex:p,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ak(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(i){i=Er(i,nn);const e=Er(i.firestore,Qs);return ak(zg(e),i._key).then(n=>ow(e,i,n))}class sw extends bk{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function ah(i,e,n){i=Er(i,nn);const s=Er(i.firestore,Qs),o=rw(i.converter,e);return Zg(s,[$b(Gg(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Gn.none())])}function Ym(i){return Zg(Er(i.firestore,Qs),[new bg(i._key,Gn.none())])}function Sk(i,e){const n=Er(i.firestore,Qs),s=zn(i),o=rw(i.converter,e);return Zg(n,[$b(Gg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then(()=>s)}function aw(i,...e){var n,s,o;i=ct(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||nE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(nE(e[f])){const w=e[f];e[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let g,p,E;if(i instanceof nn)p=Er(i.firestore,Qs),E=jh(i._key.path),g={next:w=>{e[f]&&e[f](ow(p,i,w))},error:e[f+1],complete:e[f+2]};else{const w=Er(i,ta);p=Er(w.firestore,Qs),E=w._query;const S=new sw(p);g={next:O=>{e[f]&&e[f](new wk(p,S,w,O))},error:e[f+1],complete:e[f+2]},vk(i._query)}return function(S,O,N,K){const z=new qb(K),$=new Ob(O,z,N);return S.asyncQueue.enqueueAndForget(async()=>kb(await Gm(S),$)),()=>{z.yu(),S.asyncQueue.enqueueAndForget(async()=>Db(await Gm(S),$))}}(zg(p),E,m,g)}function Zg(i,e){return function(s,o){const u=new Ki;return s.asyncQueue.enqueueAndForget(async()=>QN(await sk(s),o,u)),u.promise}(zg(i),e)}function ow(i,e,n){const s=n.docs.get(e._key),o=new sw(i);return new iw(i,o,e._key,s,new jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){yo=o})($s),Hs(new Qi("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Qs(new _C(s.getProvider("auth-internal")),new TC(f,s.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(p.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),mr(s0,a0,e),mr(s0,a0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firebasestorage.googleapis.com",Rk="storageBucket",xk=2*60*1e3,Ik=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends On{constructor(e,n,s=0){super(pm(e),`Firebase Storage: ${n} (${pm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ar.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var br;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(br||(br={}));function pm(i){return"storage/"+i}function Ck(){const i="An unknown error occurred, please check the error payload for server response.";return new Ar(br.UNKNOWN,i)}function Nk(){return new Ar(br.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kk(){return new Ar(br.CANCELED,"User canceled the upload/download.")}function Dk(i){return new Ar(br.INVALID_URL,"Invalid URL '"+i+"'.")}function Ok(i){return new Ar(br.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function sE(i){return new Ar(br.INVALID_ARGUMENT,i)}function uw(){return new Ar(br.APP_DELETED,"The Firebase app was deleted.")}function Mk(i){return new Ar(br.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Fn.makeFromUrl(e,n)}catch{return new Fn(e,"")}if(s.path==="")return s;throw Ok(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function p(ae){ae.path_=decodeURIComponent(ae.path)}const E="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",O=new RegExp(`^https?://${w}/${E}/b/${o}/o${S}`,"i"),N={bucket:1,path:3},K=n===lw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",$=new RegExp(`^https?://${K}/${o}/${z}`,"i"),Q=[{regex:m,indices:g,postModify:u},{regex:O,indices:N,postModify:p},{regex:$,indices:{bucket:1,path:2},postModify:p}];for(let ae=0;ae<Q.length;ae++){const le=Q[ae],de=le.regex.exec(e);if(de){const k=de[le.indices.bucket];let R=de[le.indices.path];R||(R=""),s=new Fn(k,R),le.postModify(s);break}}if(s==null)throw Dk(e);return s}}class Pk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(i,e,n){let s=1,o=null,u=null,f=!1,m=0;function g(){return m===2}let p=!1;function E(...z){p||(p=!0,e.apply(null,z))}function w(z){o=setTimeout(()=>{o=null,i(O,g())},z)}function S(){u&&clearTimeout(u)}function O(z,...$){if(p){S();return}if(z){S(),E.call(null,z,...$);return}if(g()||f){S(),E.call(null,z,...$);return}s<64&&(s*=2);let Q;m===1?(m=2,Q=0):Q=(s+Math.random())*1e3,w(Q)}let N=!1;function K(z){N||(N=!0,S(),!p&&(o!==null?(z||(m=2),clearTimeout(o),w(0)):z||(m=1)))}return w(0),u=setTimeout(()=>{f=!0,K(!0)},n),K}function Lk(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(i){return i!==void 0}function aE(i,e,n,s){if(s<e)throw sE(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw sE(`Invalid value for '${i}'. Expected ${n} or less.`)}function jk(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var xh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(xh||(xh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n,s,o,u,f,m,g,p,E,w,S=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=E,this.connectionFactory_=w,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,N)=>{this.resolve_=O,this.reject_=N,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Gc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===xh.NO_ERROR,g=u.getStatus();if(!m||zk(g,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===xh.ABORT;s(!1,new Gc(!1,null,E));return}const p=this.successCodes_.indexOf(g)!==-1;s(!0,new Gc(p,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());Uk(g)?u(g):u()}catch(g){f(g)}else if(m!==null){const g=Ck();g.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,g)):f(g)}else if(o.canceled){const g=this.appDelete_?uw():kk();f(g)}else{const g=Nk();f(g)}};this.canceled_?n(!1,new Gc(!1,null,!0)):this.backoffId_=Vk(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Lk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function qk(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function Hk(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Fk(i,e){e&&(i["X-Firebase-GMPID"]=e)}function Gk(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function Kk(i,e,n,s,o,u,f=!0){const m=jk(i.urlParams),g=i.url+m,p=Object.assign({},i.headers);return Fk(p,e),qk(p,n),Hk(p,u),Gk(p,s),new Bk(g,i.method,p,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Qk(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this._service=e,n instanceof Fn?this._location=n:this._location=Fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ih(e,n)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qk(this._location.path)}get storage(){return this._service}get parent(){const e=Yk(this._location.path);if(e===null)return null;const n=new Fn(this._location.bucket,e);return new Ih(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Mk(e)}}function oE(i,e){const n=e==null?void 0:e[Rk];return n==null?null:Fn.makeFromBucketSpec(n,i)}function $k(i,e,n,s={}){i.host=`${e}:${n}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:PE(o,i.app.options.projectId))}class Xk{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=lw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xk,this._maxUploadRetryTime=Ik,this._requests=new Set,o!=null?this._bucket=Fn.makeFromBucketSpec(o,this._host):this._bucket=oE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=oE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ih(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new Pk(uw());{const f=Kk(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const lE="@firebase/storage",uE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="storage";function Wk(i=ig(),e){i=ct(i);const s=Dh(i,cw).getImmediate({identifier:e}),o=DE("storage");return o&&Zk(s,...o),s}function Zk(i,e,n,s={}){$k(i,e,n,s)}function Jk(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Xk(n,s,o,e,$s)}function eD(){Hs(new Qi(cw,Jk,"PUBLIC").setMultipleInstances(!0)),mr(lE,uE,""),mr(lE,uE,"esm2017")}eD();const tD={apiKey:"AIzaSyAQ-jhDNP2_pq0ewqe_QKVi0AHdOd0r0u8",authDomain:"subdlbridge-3ef0e.firebaseapp.com",projectId:"subdlbridge-3ef0e",storageBucket:"subdlbridge-3ef0e.firebasestorage.app",messagingSenderId:"1033353514414",appId:"1:1033353514414:web:27fde58dde37ed84690c3f"},Jg=UE(tD),_n=uk(Jg),ho=fC(Jg);Wk(Jg);const ep="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%20viewBox='0%200%2073%2065'%3e%3c!--%20Generator:%20Adobe%20Illustrator%2029.5.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%202.1.0%20Build%20137)%20--%3e%3cdefs%3e%3cstyle%3e%20.st0%20{%20fill:%20%23ffee2b;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='st0'%20d='M0,0h73v65H0V0Z'/%3e%3cg%3e%3cpath%20d='M17,14.1h-3.1v-1.8h-3.7v1.8l6.7,8v5.5l-1.2,1.2h-7.3l-1.2-1.2v-3.6h3.1v1.8h3.7v-1.8l-6.7-8v-5.5l1.2-1.2h7.3l1.2,1.2v3.7ZM26.2,9.2h3.1v18.4l-1.2,1.2h-7.4l-1.2-1.2V9.2h3.1v16.5h3.7s0-16.5,0-16.5ZM41.4,10.4v7.4l-1.2,1.2,1.2,1.2v7.4l-1.2,1.2h-8.6V9.2h8.6s1.2,1.2,1.2,1.2ZM38.4,12.3h-3.7v5.5h3.7v-5.5ZM34.7,25.7h3.7v-4.9h-3.7v4.9ZM52.5,9.2l1.2,1.2v17.1l-1.2,1.2h-8.6V9.2h8.6ZM50.6,25.7v-13.5h-3.7v13.5s3.7,0,3.7,0ZM59.1,25.7h5.4v3.1h-8.5V9.2h3.1v16.5h0Z'/%3e%3cg%3e%3cpath%20d='M10.1,55.8H1.3v-20h8.8l1.7,1.8v7.3l-.9.9.9.9v7.4l-1.7,1.7ZM8.3,44.1v-4.7h-3.5v4.7h3.5ZM8.3,52.3v-4.7h-3.5v4.7h3.5Z'/%3e%3cpath%20d='M25.5,55.8h-3.5l-3-8.2h-.5v8.2h-3.5v-20h8.8l1.7,1.8v8.2l-1.7,1.7h-1.3l3,8.2ZM22,44.1v-4.7h-3.5v4.7h3.5Z'/%3e%3cpath%20d='M32.3,55.8h-3.5v-20h3.5v20Z'/%3e%3cpath%20d='M44.2,55.8h-8.8v-20h8.8l1.7,1.8v16.5l-1.7,1.7ZM42.5,52.3v-13h-3.5v13h3.5Z'/%3e%3cpath%20d='M57.9,55.8h-7l-1.7-1.7v-16.5l1.7-1.8h7l1.7,1.8v5.2h-3.5v-3.5h-3.5v13h3.5v-4.7h-1.7v-3.5h5.2v10l-1.7,1.7Z'/%3e%3cpath%20d='M71.6,55.8h-8.8v-20h8.8v3.5h-5.2v4.7h5.2v3.5h-5.2v4.7h5.2v3.5Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",nD=[{code:"en",label:"English"},{code:"ar",label:"Arabic"},{code:"fr",label:"French"},{code:"es",label:"Spanish"},{code:"de",label:"German"},{code:"it",label:"Italian"},{code:"pt",label:"Portuguese"},{code:"ru",label:"Russian"},{code:"ja",label:"Japanese"},{code:"zh",label:"Chinese"}];function rD(){const i=po(),[e,n]=j.useState(""),[s,o]=j.useState(""),[u,f]=j.useState(""),[m,g]=j.useState("en"),[p,E]=j.useState(""),[w,S]=j.useState(!1),[O,N]=j.useState(!1),[K,z]=j.useState(""),$=async ne=>{if(ne.preventDefault(),!w){z("You must accept the Terms and Conditions");return}if(s!==u){z("Passwords do not match");return}z(""),N(!0);try{const{user:Q}=await Qx(ho,e,s);await ah(zn(_n,"users",Q.uid,"settings","prefs"),{lang:m,apiKey:p}),i("/")}catch(Q){Q instanceof On||Q instanceof Error?z(Q.message):z("Unknown error")}finally{N(!1)}};return A.jsx("section",{children:A.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:[A.jsxs(Bn,{to:"/",className:"flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white",children:[A.jsx("img",{className:"w-8 h-8 mr-2",src:ep,alt:"subdlBridge logo"}),"subdlBridge"]}),A.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",children:A.jsxs("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[A.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Create an account"}),K&&A.jsx("div",{className:"p-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:K}),A.jsxs("form",{className:"space-y-4 md:space-y-6",onSubmit:$,children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),A.jsx("input",{id:"email",type:"email",placeholder:"name@company.com",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:e,onChange:ne=>n(ne.target.value),required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),A.jsx("input",{id:"password",type:"password",placeholder:"••••••••",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:s,onChange:ne=>o(ne.target.value),required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"confirm-password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Confirm password"}),A.jsx("input",{id:"confirm-password",type:"password",placeholder:"••••••••",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:u,onChange:ne=>f(ne.target.value),required:!0})]}),A.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[A.jsxs("div",{className:"w-full md:w-[35%]",children:[A.jsx("label",{htmlFor:"preferred-language",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Preferred Language"}),A.jsx("select",{id:"preferred-language",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:m,onChange:ne=>g(ne.target.value),children:nD.map(ne=>A.jsx("option",{value:ne.code,children:ne.label},ne.code))})]}),A.jsxs("div",{className:"w-full md:flex-1",children:[A.jsx("label",{htmlFor:"api-key",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"SubDL API Key (optional)"}),A.jsx("input",{id:"api-key",type:"text",placeholder:"Enter your SubDL API Key",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:p,onChange:ne=>E(ne.target.value)})]})]}),A.jsxs("div",{className:"flex items-start",children:[A.jsx("div",{className:"flex items-center h-5",children:A.jsx("input",{id:"terms",type:"checkbox",className:`w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300\r
                               dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800`,checked:w,onChange:ne=>S(ne.target.checked),required:!0})}),A.jsx("div",{className:"ml-3 text-sm",children:A.jsxs("label",{htmlFor:"terms",className:"font-light text-gray-500 dark:text-gray-300",children:["I accept the"," ",A.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:underline dark:text-primary-500",children:"Terms and Conditions"})]})})]}),A.jsx("button",{type:"submit",disabled:O,className:"w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:O?"Creating account…":"Create an account"}),A.jsxs("p",{className:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Already have an account?"," ",A.jsx(Bn,{to:"/login",className:"font-medium text-primary-600 hover:underline dark:text-primary-500",children:"Login here"})]})]})]})})]})})}function cE(){const i=po(),[e,n]=j.useState(""),[s,o]=j.useState(""),[u,f]=j.useState(!1),[m,g]=j.useState(""),[p,E]=j.useState(!1),w=async S=>{S.preventDefault(),g(""),f(!0);try{await Zx(ho,p?pT:fg),await $x(ho,e,s),i("/")}catch(O){O instanceof On||O instanceof Error?g(O.message):g("Unknown error")}finally{f(!1)}};return A.jsx("section",{children:A.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:[A.jsxs(Bn,{to:"/",className:"flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white",children:[A.jsx("img",{className:"w-8 h-8 mr-2",src:ep,alt:"subdlBridge logo"}),"subdlBridge"]}),A.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",children:A.jsxs("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[A.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Sign in to your account"}),m&&A.jsx("div",{className:"p-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:m}),A.jsxs("form",{className:"space-y-4 md:space-y-6",onSubmit:w,children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),A.jsx("input",{id:"email",type:"email",placeholder:"name@company.com",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:e,onChange:S=>n(S.target.value),required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),A.jsx("input",{id:"password",type:"password",placeholder:"••••••••",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:s,onChange:S=>o(S.target.value),required:!0})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-start",children:[A.jsx("div",{className:"flex items-center h-5",children:A.jsx("input",{id:"remember",type:"checkbox",checked:p,onChange:S=>E(S.target.checked),className:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800"})}),A.jsx("div",{className:"ml-3 text-sm",children:A.jsx("label",{htmlFor:"remember",className:"text-gray-500 dark:text-gray-300",children:"Remember me"})})]}),A.jsx("a",{href:"#",className:"text-sm font-medium text-primary-600 hover:underline dark:text-primary-500",children:"Forgot password?"})]}),A.jsx("button",{type:"submit",disabled:u,className:"w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:u?"Signing in...":"Sign in"}),A.jsxs("p",{className:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Don't have an account yet?"," ",A.jsx(Bn,{to:"/register",className:"font-medium text-primary-600 hover:underline dark:text-primary-500",children:"Sign up"})]})]})]})})]})})}const iD="modulepreload",sD=function(i){return"/subdlBridge-web/"+i},hE={},aD=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(E=>Promise.resolve(E).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=f(n.map(p=>{if(p=sD(p),p in hE)return;hE[p]=!0;const E=p.endsWith(".css"),w=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const S=document.createElement("link");if(S.rel=E?"stylesheet":iD,E||(S.as="script"),S.crossOrigin="",S.href=p,g&&S.setAttribute("nonce",g),document.head.appendChild(S),E)return new Promise((O,N)=>{S.addEventListener("load",O),S.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};function tp(){const i=po(),e=si(),[n,s]=j.useState(!1),o=j.useRef(null),u="text-primary-600 dark:text-primary-500 font-medium",f="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-500",m=p=>!!(p==="/"&&e.pathname==="/"||p!=="/"&&e.pathname.startsWith(p)),g=async()=>{try{await tI(ho),i("/login")}catch(p){console.error("Error signing out:",p)}};return j.useEffect(()=>{const p=E=>{o.current&&!o.current.contains(E.target)&&s(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]),A.jsx("nav",{className:"bg-white border-gray-200 px-4 lg:px-6 py-3 dark:bg-gray-800 shadow-md",children:A.jsxs("div",{className:"flex flex-wrap justify-between items-center mx-auto",children:[A.jsxs(Bn,{to:"/",className:"flex items-center",children:[A.jsx("img",{src:ep,className:"w-8 h-8 mr-2",alt:"subdlBridge Logo"}),A.jsx("span",{className:"self-center text-xl font-semibold whitespace-nowrap dark:text-white",children:"subdlBridge"})]}),A.jsx("div",{className:"flex items-center lg:order-2",children:A.jsxs("div",{className:"relative",ref:o,children:[A.jsxs("button",{type:"button",className:"flex text-sm bg-gray-200 rounded-full focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600",onClick:()=>s(!n),children:[A.jsx("span",{className:"sr-only",children:"Open user menu"}),A.jsx("svg",{className:"w-8 h-8 p-1 text-gray-600 dark:text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})]}),n&&A.jsxs("div",{className:"absolute right-0 z-10 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 dark:bg-gray-700",children:[A.jsx(Bn,{to:"/account",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-600",onClick:()=>s(!1),children:"Account Settings"}),A.jsx("button",{onClick:()=>{g(),s(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-600",children:"Logout"})]})]})}),A.jsx("div",{className:"flex justify-between items-center w-full lg:flex lg:w-auto lg:order-1 mt-2 lg:mt-0",children:A.jsxs("ul",{className:"flex flex-col font-medium lg:flex-row lg:space-x-8 lg:mt-0",children:[A.jsx("li",{children:A.jsx(Bn,{to:"/",className:`block py-2 pl-3 pr-4 ${m("/")?u:f} lg:p-0`,children:"Search"})}),A.jsx("li",{children:A.jsx(Bn,{to:"/my-sub-list",className:`block py-2 pl-3 pr-4 ${m("/my-sub-list")?u:f} lg:p-0`,children:"My Sub List"})}),A.jsx("li",{children:A.jsx(Bn,{to:"/how-to-use",className:`block py-2 pl-3 pr-4 ${m("/how-to-use")?u:f} lg:p-0`,children:"How to Use"})})]})})]})})}function du(){const[i,e]=j.useState({user:null,loading:!0,authenticated:!1});return j.useEffect(()=>{const n=dT(ho,s=>{e({user:s,loading:!1,authenticated:!!s})});return()=>n()},[]),i}function oD(){const{user:i}=du(),[e,n]=j.useState({});return j.useEffect(()=>{if(!i)return n({});Km(zn(_n,"users",i.uid,"settings","prefs")).then(s=>n(s.exists()?s.data():{})).catch(()=>n({}))},[i]),e}function lD({onSearch:i,loading:e=!1}){const{lang:n,apiKey:s}=oD(),[o,u]=j.useState(""),[f,m]=j.useState("title"),[g,p]=j.useState(n||"en"),[E,w]=j.useState("");j.useEffect(()=>{n&&p(n)},[n]);const S=["en","ar","fr","es","de","it","pt","ru","ja","zh"],O=N=>{if(N.preventDefault(),!!o.trim()){w("");try{const K={languages:g.toUpperCase(),api_key:s||""};f==="title"&&(K.film_name=o.trim()),f==="sd_id"&&(K.sd_id=o.trim()),f==="file_name"&&(K.file_name=o.trim()),i(K)}catch(K){w(K.message)}}};return A.jsxs("div",{className:"space-y-4",children:[E&&A.jsx("div",{className:"p-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:E}),A.jsxs("form",{onSubmit:O,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsxs("label",{htmlFor:"search-query",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:["Search ",f==="title"?"by Title":f==="sd_id"?"by SubDL ID":"by File Name"]}),A.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[A.jsx("input",{id:"search-query",type:"text",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:o,onChange:N=>u(N.target.value),placeholder:f==="title"?"Enter movie title...":f==="sd_id"?"Enter SubDL ID...":"Enter file name...",required:!0}),A.jsx("button",{type:"submit",disabled:e||!o.trim(),className:"w-full md:w-auto text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 disabled:bg-gray-400 disabled:dark:bg-gray-600 disabled:cursor-not-allowed",children:e?"Searching...":"Search"})]})]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[A.jsxs("div",{className:"w-full sm:w-1/2",children:[A.jsx("label",{htmlFor:"search-mode",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Search Mode"}),A.jsxs("select",{id:"search-mode",value:f,onChange:N=>m(N.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[A.jsx("option",{value:"title",children:"Movie Title"}),A.jsx("option",{value:"sd_id",children:"SubDL ID"}),A.jsx("option",{value:"file_name",children:"File Name"})]})]}),A.jsxs("div",{className:"w-full sm:w-1/2",children:[A.jsx("label",{htmlFor:"search-lang",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Language"}),A.jsx("select",{id:"search-lang",value:g,onChange:N=>p(N.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:S.map(N=>A.jsx("option",{value:N,children:N.toUpperCase()},N))})]})]})]})]})}const uD="";async function cD(i){const e=new URL("https://api.subdl.com/api/v1/subtitles");i.api_key,"page"in i||(i.page=1),"subs_per_page"in i||(i.subs_per_page=30),Object.entries(i).forEach(([o,u])=>{u&&e.searchParams.append(o,String(u))}),console.log("Fetching from URL:",e.toString());const n=await fetch(e.toString());if(!n.ok){const o=await n.text();throw new Error(`SubDL API error (${n.status}): ${o}`)}const s=await n.json();return console.log("Raw API response:",s),{subtitles:s.subtitles||[],currentPage:s.currentPage||Number(i.page),totalPages:s.totalPages||1,total:s.total}}function hD(){const{user:i}=du(),[e,n]=j.useState({});return j.useEffect(()=>{if(!i)return n({});const s=jg(_n,"users",i.uid,"subs"),o=aw(s,u=>{const f={};u.forEach(m=>{f[m.data().url]=!0}),n(f)});return()=>o()},[i]),e}const fD=zA.lazy(()=>aD(()=>Promise.resolve().then(()=>mD),[]));function dD(){const[i,e]=j.useState([]),[n,s]=j.useState(null),[o,u]=j.useState(!1),[f,m]=j.useState(""),[g,p]=j.useState({currentPage:0,totalPages:0,totalItems:0}),[E,w]=j.useState(null),{user:S}=du(),O=hD(),N=j.useRef(null),K=async ae=>{if(!S){alert("Login first");return}s(ae.url);try{await Sk(jg(_n,"users",S.uid,"subs"),{url:ae.url,lang:ae.lang,title:ae.name||ae.release_name||`Subtitle ${ae.subtitle_id||ae.sd_id||""}`,addedAt:Date.now()})}catch(le){console.error("Error adding subtitle:",le)}finally{s(null)}},z=async(ae,le=!0)=>{u(!0),m("");try{console.log("Searching with params:",ae);const de=await cD(ae);console.log("Got response:",de);const k=(de.subtitles||[]).map(R=>{const x=R.url.match(/subtitle\/(\d+)-(\d+)\.zip/);return{...R,download_link:`https://dl.subdl.com${R.url}`,sd_id:x?Number(x[1]):void 0,subtitle_id:x?Number(x[2]):void 0}});e(R=>le?k:[...R,...k]),p({currentPage:de.currentPage,totalPages:de.totalPages,totalItems:de.total||0}),w(ae)}catch(de){m(de.message),console.error("Search error:",de)}finally{u(!1)}},$=ae=>{z({...ae,page:1},!0)},ne=j.useCallback(()=>{if(!E||o||g.currentPage>=g.totalPages){console.log("Skipping loadMore:",{noSearchParams:!E,isLoading:o,currentPage:g.currentPage,totalPages:g.totalPages});return}console.log("Loading next page:",g.currentPage+1),z({...E,page:g.currentPage+1},!1)},[E,o,g.currentPage,g.totalPages]);j.useEffect(()=>{if(!N.current)return;const ae=new IntersectionObserver(de=>{const[k]=de;console.log("Intersection observed:",k.isIntersecting),k.isIntersecting&&!o&&g.currentPage<g.totalPages&&ne()},{root:null,rootMargin:"400px",threshold:.1}),le=N.current;return le&&(console.log("Setting up observer on element:",le),ae.observe(le)),()=>{le&&ae.unobserve(le)}},[ne,o,g]);const Q=g.currentPage<g.totalPages;return A.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[A.jsx(tp,{}),A.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 md:py-12",children:[A.jsxs("div",{className:"flex flex-col items-center justify-center mb-12",children:[A.jsx("h1",{className:"text-3xl md:text-4xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white mb-4 text-center",children:"Find Your Perfect Subtitle"}),A.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto text-center",children:"Search our extensive database for subtitles in multiple languages"})]}),A.jsx("div",{className:"w-full max-w-3xl mx-auto mb-12",children:A.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 dark:bg-gray-800 dark:border-gray-700",children:A.jsxs("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[A.jsx("h2",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white",children:"Search SubDL Subtitles"}),A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enter a movie title, SubDL ID, or file name to find matching subtitles"}),A.jsx(lD,{onSearch:$,loading:o})]})})}),f&&A.jsx("div",{className:"w-full max-w-3xl mx-auto mb-6",children:A.jsx("div",{className:"p-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:f})}),i.length>0?A.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-4",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h2",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white",children:"Search Results"}),A.jsxs("span",{className:"px-2.5 py-0.5 bg-gray-200 text-gray-800 text-xs font-medium rounded-full dark:bg-gray-700 dark:text-gray-300",children:[i.length," of ",g.totalItems||"many"," found"]})]}),A.jsx("div",{className:"space-y-4",children:i.map((ae,le)=>A.jsx(fD,{subtitle:ae,onAdd:()=>K(ae),alreadyAdded:n===ae.url||O[ae.url]===!0},`${ae.url}-${le}`))}),A.jsx("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400 py-2",children:o?"Loading...":Q?`Showing ${i.length} of ${g.totalItems} results (Page ${g.currentPage} of ${g.totalPages})`:"All results loaded"}),Q&&A.jsx("div",{ref:N,className:"py-8 flex justify-center",style:{minHeight:"100px"},children:o&&A.jsxs("div",{className:"flex items-center justify-center",children:[A.jsx("div",{className:"w-8 h-8 border-4 border-t-4 border-gray-200 border-t-primary-600 rounded-full animate-spin"}),A.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-300",children:"Loading more results..."})]})}),Q&&!o&&A.jsx("div",{className:"mt-4 mb-8 flex justify-center",children:A.jsx("button",{onClick:ne,className:"bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center text-white dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Load more results"})})]}):A.jsx("div",{className:"w-full max-w-3xl mx-auto",children:A.jsxs("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 dark:bg-gray-800 dark:border-gray-700 p-8 text-center",children:[A.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No results yet"}),A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:"Use the search above to find subtitles for your favorite movies and TV shows"})]})})]}),A.jsx("footer",{className:"w-full py-4 mt-auto bg-white border-t dark:bg-gray-800 dark:border-gray-700",children:A.jsx("div",{className:"container mx-auto px-4",children:A.jsx("p",{className:"text-sm text-center text-gray-500 dark:text-gray-400",children:"2025 subdlBridge - Find and download subtitles easily"})})})]})}function hw({subtitle:i,onAdd:e,alreadyAdded:n=!1}){const s=i.release_name||i.name||`ID ${i.subtitle_id??i.sd_id??"—"}`;return A.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border mb-4 dark:bg-gray-800 dark:border-gray-700",children:A.jsxs("div",{className:"p-4 space-y-3",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsx("h2",{className:"text-lg font-semibold leading-tight tracking-tight text-gray-900 dark:text-white truncate",title:s,children:s}),A.jsx("span",{className:"px-2.5 py-0.5 text-xs font-medium rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",children:i.lang})]}),A.jsx("div",{className:"space-y-1",children:A.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[A.jsx("span",{className:"font-medium",children:"ID:"})," ",i.sd_id]})}),A.jsxs("div",{className:"flex justify-between items-center pt-2",children:[A.jsx("a",{href:i.download_link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary-600 hover:underline dark:text-primary-500",children:"Direct Download"}),A.jsx("button",{onClick:e,disabled:n,className:`${n?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 dark:bg-primary-600 dark:hover:bg-primary-700"} text-white focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-4 py-2 text-center dark:focus:ring-primary-800`,children:n?"Added to List":"+ Add to My List"})]})]})})}const mD=Object.freeze(Object.defineProperty({__proto__:null,default:hw},Symbol.toStringTag,{value:"Module"}));function gD(){const[i,e]=j.useState([]),[n,s]=j.useState(!0),[o,u]=j.useState(null),[f,m]=j.useState(""),{user:g}=du();j.useEffect(()=>{if(!g){e([]),s(!1);return}s(!0);const E=Ek(jg(_n,"users",g.uid,"subs"),Tk("addedAt","desc")),w=aw(E,S=>{const O=[];S.forEach(N=>{O.push({id:N.id,...N.data()})}),e(O),s(!1)},S=>{console.error("Error fetching subtitles:",S),m("Failed to load your subtitles. Please try again later."),s(!1)});return()=>w()},[g]);const p=async E=>{if(g){u(E),m("");try{await Ym(zn(_n,"users",g.uid,"subs",E))}catch(w){console.error("Error removing subtitle:",w),m("Failed to remove subtitle. Please try again.")}finally{u(null)}}};return A.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[A.jsx(tp,{}),A.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 md:py-12",children:[A.jsxs("div",{className:"flex flex-col items-center justify-center mb-12",children:[A.jsx("h1",{className:"text-3xl md:text-4xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white mb-4 text-center",children:"My Sub List"}),A.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto text-center",children:"Manage your saved subtitles"})]}),f&&A.jsx("div",{className:"w-full max-w-3xl mx-auto mb-6",children:A.jsx("div",{className:"p-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:f})}),n?A.jsx("div",{className:"w-full max-w-3xl mx-auto",children:A.jsxs("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 dark:bg-gray-800 dark:border-gray-700 p-8 text-center",children:[A.jsx("div",{className:"flex justify-center items-center",children:A.jsxs("svg",{className:"animate-spin h-8 w-8 text-primary-600 dark:text-primary-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),A.jsx("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:"Loading your subtitles..."})]})}):i.length>0?A.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-4",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h2",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white",children:"Your Saved Subtitles"}),A.jsxs("span",{className:"px-2.5 py-0.5 bg-gray-200 text-gray-800 text-xs font-medium rounded-full dark:bg-gray-700 dark:text-gray-300",children:[i.length," subtitles"]})]}),A.jsx("div",{className:"space-y-4",children:i.map(E=>{const w={url:E.url,lang:E.lang,name:E.title,download_link:`https://dl.subdl.com${E.url}`};return A.jsxs("div",{className:"relative",children:[A.jsx(hw,{subtitle:w,onAdd:()=>{},alreadyAdded:!0}),A.jsx("button",{onClick:()=>p(E.id),disabled:o===E.id,className:`${o===E.id?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed":"bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700"} text-white focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-4 py-2 text-center dark:focus:ring-red-800 absolute top-4 right-4`,children:o===E.id?"Removing...":"Remove"})]},E.id)})})]}):A.jsx("div",{className:"w-full max-w-3xl mx-auto",children:A.jsxs("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 dark:bg-gray-800 dark:border-gray-700 p-8 text-center",children:[A.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),A.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No saved subtitles"}),A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:"Start searching and adding subtitles to your list from the home page"})]})})]}),A.jsx("footer",{className:"w-full py-4 mt-auto bg-white border-t dark:bg-gray-800 dark:border-gray-700",children:A.jsx("div",{className:"container mx-auto px-4",children:A.jsx("p",{className:"text-sm text-center text-gray-500 dark:text-gray-400",children:"2025 subdlBridge - Find and download subtitles easily"})})})]})}let Kc;const pD=new Uint8Array(16);function yD(){if(!Kc&&(Kc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Kc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Kc(pD)}const Bt=[];for(let i=0;i<256;++i)Bt.push((i+256).toString(16).slice(1));function _D(i,e=0){return Bt[i[e+0]]+Bt[i[e+1]]+Bt[i[e+2]]+Bt[i[e+3]]+"-"+Bt[i[e+4]]+Bt[i[e+5]]+"-"+Bt[i[e+6]]+Bt[i[e+7]]+"-"+Bt[i[e+8]]+Bt[i[e+9]]+"-"+Bt[i[e+10]]+Bt[i[e+11]]+Bt[i[e+12]]+Bt[i[e+13]]+Bt[i[e+14]]+Bt[i[e+15]]}const vD=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fE={randomUUID:vD};function dE(i,e,n){if(fE.randomUUID&&!i)return fE.randomUUID();i=i||{};const s=i.random||(i.rng||yD)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,_D(s)}function ED(){const i=po(),{user:e}=du(),[n,s]=j.useState(""),[o,u]=j.useState(""),[f,m]=j.useState(""),[g,p]=j.useState("en"),[E,w]=j.useState(""),[S,O]=j.useState(""),[N,K]=j.useState(!1),[z,$]=j.useState(!0),[ne,Q]=j.useState({type:"",text:""}),[ae,le]=j.useState(!1),[de,k]=j.useState(!1),[R,x]=j.useState(!1),[M,V]=j.useState(!1),[U,C]=j.useState(!1),Tt=["en","ar","fr","es","de","it","pt","ru","ja","zh"],et=j.useCallback(async()=>{if(e){$(!0);try{const J=await Km(zn(_n,"users",e.uid,"settings","auth"));if(J.exists()){const se=J.data();O(se.token)}else{const se=dE();await ah(zn(_n,"users",e.uid,"settings","auth"),{token:se}),O(se)}}catch(J){console.error("Error loading or generating token:",J),Q({type:"error",text:"Failed to generate your authentication token. Please try again later."})}finally{$(!1)}}},[e,O,Q,$]);j.useEffect(()=>{(async()=>{if(e){s(e.email||"");try{const se=await Km(zn(_n,"users",e.uid,"settings","prefs"));if(se.exists()){const me=se.data();me.lang&&p(me.lang),me.apiKey&&w(me.apiKey||"")}await et()}catch(se){console.error("Error loading user preferences:",se),Q({type:"error",text:"Failed to load your preferences. Please try again later."})}}})()},[e,et]);const X=()=>{navigator.clipboard.writeText(S).then(()=>{x(!0),setTimeout(()=>x(!1),3e3)}).catch(J=>{console.error("Error copying token to clipboard:",J),Q({type:"error",text:"Failed to copy token to clipboard. Please try manually selecting and copying."})})},ue=()=>{e&&navigator.clipboard.writeText(e.uid).then(()=>{V(!0),setTimeout(()=>V(!1),3e3)}).catch(J=>{console.error("Error copying user ID to clipboard:",J),Q({type:"error",text:"Failed to copy user ID to clipboard. Please try manually selecting and copying."})})},ge=async J=>{if(J.preventDefault(),!!e){K(!0),Q({type:"",text:""});try{await ah(zn(_n,"users",e.uid,"settings","prefs"),{lang:g,apiKey:E.trim()||null}),Q({type:"success",text:"Your preferences have been updated successfully!"})}catch(se){console.error("Error updating preferences:",se),Q({type:"error",text:"Failed to update preferences. Please try again."})}finally{K(!1)}}},je=async J=>{if(J.preventDefault(),!(!e||!f)){K(!0),Q({type:"",text:""});try{const se=$i.credential(e.email||"",f);await Qv(e,se),n!==e.email&&n.trim()&&await Xx(e,n),o.trim()&&await Wx(e,o),m(""),u(""),Q({type:"success",text:"Your account has been updated successfully!"})}catch(se){console.error("Error updating account:",se),Q({type:"error",text:"Failed to update account. Please check your current password and try again."})}finally{K(!1)}}},D=async()=>{if(!(!e||!f)){k(!0);try{const J=$i.credential(e.email||"",f);await Qv(e,J),await Ym(zn(_n,"users",e.uid,"settings","prefs")),await Ym(zn(_n,"users",e.uid,"settings","auth")),await nI(e),i("/login")}catch(J){console.error("Error deleting account:",J),Q({type:"error",text:"Failed to delete account. Please check your password and try again."}),k(!1),le(!1)}}},ie=async()=>{if(e){C(!0),Q({type:"",text:""});try{const J=dE();await ah(zn(_n,"users",e.uid,"settings","auth"),{token:J}),O(J),Q({type:"success",text:"Your API key has been regenerated successfully!"})}catch(J){console.error("Error regenerating token:",J),Q({type:"error",text:"Failed to generate your API key. Please try again later."})}finally{C(!1)}}};return A.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[A.jsx(tp,{}),A.jsx("main",{className:"flex-1 container mx-auto px-4 py-8 md:py-12",children:A.jsxs("div",{className:"max-w-3xl mx-auto",children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"Account Settings"}),ne.text&&A.jsx("div",{className:`p-4 mb-6 text-sm rounded-lg ${ne.type==="success"?"text-green-800 bg-green-50 dark:bg-gray-800 dark:text-green-400":"text-red-800 bg-red-50 dark:bg-gray-800 dark:text-red-400"}`,role:"alert",children:ne.text}),A.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border mb-6 dark:bg-gray-800 dark:border-gray-700",children:A.jsxs("div",{className:"p-6 space-y-6",children:[A.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"API Authentication Token"}),A.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:"This is your unique authentication token for API access. Keep it secret and secure."}),z?A.jsx("div",{className:"animate-pulse flex space-x-4",children:A.jsx("div",{className:"flex-1 space-y-3 py-1",children:A.jsx("div",{className:"h-8 bg-gray-200 rounded dark:bg-gray-700"})})}):A.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[A.jsx("div",{className:"flex-1 relative",children:A.jsx("input",{type:"text",value:S,readOnly:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})}),A.jsx("button",{onClick:X,className:"inline-flex items-center justify-center text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:R?"Copied!":"Copy to Clipboard"})]}),A.jsx("div",{className:"mt-4",children:A.jsx("button",{onClick:ie,disabled:U,className:"text-sm text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg px-4 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:U?"Generating...":"Generate New API Key"})}),A.jsxs("div",{className:"mt-4",children:[A.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Your User ID:"}),e?A.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[A.jsx("div",{className:"flex-1 relative",children:A.jsx("input",{type:"text",value:e.uid,readOnly:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})}),A.jsx("button",{onClick:ue,className:"inline-flex items-center justify-center text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:M?"Copied!":"Copy to Clipboard"})]}):A.jsx("div",{className:"animate-pulse flex space-x-4",children:A.jsx("div",{className:"flex-1 space-y-3 py-1",children:A.jsx("div",{className:"h-8 bg-gray-200 rounded dark:bg-gray-700"})})})]})]})}),A.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border mb-6 dark:bg-gray-800 dark:border-gray-700",children:A.jsxs("div",{className:"p-6 space-y-6",children:[A.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Account Information"}),A.jsxs("form",{onSubmit:je,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Email Address"}),A.jsx("input",{type:"email",id:"email",value:n,onChange:J=>s(J.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"your@email.com",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"new-password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"New Password (leave blank to keep current)"}),A.jsx("input",{type:"password",id:"new-password",value:o,onChange:J=>u(J.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"••••••••"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"current-password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Current Password (required to update account)"}),A.jsx("input",{type:"password",id:"current-password",value:f,onChange:J=>m(J.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"••••••••",required:!0})]}),A.jsx("button",{type:"submit",disabled:N,className:"w-full md:w-auto text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 disabled:bg-gray-400 disabled:dark:bg-gray-600 disabled:cursor-not-allowed",children:N?"Updating...":"Update Account"})]})]})}),A.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border mb-6 dark:bg-gray-800 dark:border-gray-700",children:A.jsxs("div",{className:"p-6 space-y-6",children:[A.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Subtitle Preferences"}),A.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"default-lang",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Default Language"}),A.jsx("select",{id:"default-lang",value:g,onChange:J=>p(J.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:Tt.map(J=>A.jsx("option",{value:J,children:J.toUpperCase()},J))})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"api-key",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"SubDL API Key (optional)"}),A.jsx("input",{type:"text",id:"api-key",value:E,onChange:J=>w(J.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Enter your SubDL API key (if you have one)"})]}),A.jsx("button",{type:"submit",disabled:N,className:"w-full md:w-auto text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 disabled:bg-gray-400 disabled:dark:bg-gray-600 disabled:cursor-not-allowed",children:N?"Saving...":"Save Preferences"})]})]})}),A.jsx("div",{className:"w-full bg-white rounded-lg shadow dark:border dark:bg-gray-800 dark:border-gray-700",children:A.jsxs("div",{className:"p-6 space-y-6",children:[A.jsx("h2",{className:"text-xl font-bold text-red-600 dark:text-red-500",children:"Danger Zone"}),ae?A.jsxs("div",{className:"p-4 border border-red-300 rounded-lg bg-red-50 dark:bg-gray-700 dark:border-red-800",children:[A.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-400 mb-3",children:"Confirm Account Deletion"}),A.jsx("p",{className:"mb-4 text-sm text-gray-700 dark:text-gray-300",children:"Please enter your current password to confirm account deletion:"}),A.jsx("div",{className:"mb-4",children:A.jsx("input",{type:"password",value:f,onChange:J=>m(J.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Enter your current password",required:!0})}),A.jsxs("div",{className:"flex space-x-3",children:[A.jsx("button",{onClick:D,disabled:de||!f,className:"text-white bg-red-600 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800 disabled:bg-gray-400 disabled:dark:bg-gray-600 disabled:cursor-not-allowed",children:de?"Deleting...":"Confirm Delete"}),A.jsx("button",{onClick:()=>{le(!1),m("")},disabled:de,className:"text-gray-700 bg-white border border-gray-300 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-700 disabled:bg-gray-400 disabled:dark:bg-gray-600 disabled:cursor-not-allowed",children:"Cancel"})]})]}):A.jsxs("div",{children:[A.jsx("p",{className:"mb-4 text-sm text-gray-700 dark:text-gray-300",children:"Deleting your account will permanently remove all your data, including saved subtitles. This action cannot be undone."}),A.jsx("button",{onClick:()=>le(!0),className:"w-full md:w-auto text-white bg-red-600 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",children:"Delete Account"})]})]})})]})}),A.jsx("footer",{className:"w-full py-4 mt-auto bg-white border-t dark:bg-gray-800 dark:border-gray-700",children:A.jsx("div",{className:"container mx-auto px-4",children:A.jsx("p",{className:"text-sm text-center text-gray-500 dark:text-gray-400",children:"2025 subdlBridge - Find and download subtitles easily"})})})]})}function Yc({children:i}){const[e,n]=j.useState(!0),[s,o]=j.useState(!1);return j.useEffect(()=>{const u=dT(ho,f=>{o(!!f),n(!1)});return()=>u()},[]),e?A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):s?A.jsx(A.Fragment,{children:i}):A.jsx(VS,{to:"/login",replace:!0})}function TD(){return A.jsx(lR,{basename:"/subdlBridge-web",children:A.jsxs(US,{children:[A.jsx(Li,{path:"/register",element:A.jsx(rD,{})}),A.jsx(Li,{path:"/login",element:A.jsx(cE,{})}),A.jsx(Li,{path:"/",element:A.jsx(Yc,{children:A.jsx(dD,{})})}),A.jsx(Li,{path:"/my-sub-list",element:A.jsx(Yc,{children:A.jsx(gD,{})})}),A.jsx(Li,{path:"/account",element:A.jsx(Yc,{children:A.jsx(ED,{})})}),A.jsx(Li,{path:"/how-to-use",element:A.jsx(Yc,{children:A.jsx("div",{children:"How To Use Page (Coming Soon)"})})}),A.jsx(Li,{path:"*",element:A.jsx(cE,{})})]})})}YA.createRoot(document.getElementById("root")).render(A.jsx(j.StrictMode,{children:A.jsx(TD,{})}));
